import{a0 as y,r as m,ab as w,a1 as p,a2 as a,aL as Q,a3 as g,a4 as h,a7 as i,a8 as e,b3 as k,aa as V,aJ as f,a$ as _,ae as b,aK as q,a9 as B,aO as T,aE as v,az as S}from"./index-f001fe78.js";import{a as C,Q as L}from"./QToolbar-d34d3597.js";import{Q as U}from"./QForm-84cda31a.js";const z={class:"fullscreen bg-blue flex flex-center"},I=v("img",{src:"icons/favicon.ico"},null,-1),N=v("div",{class:"text-caption text-grey text-center"}," demo/demofirst daily data refresh ",-1),J={__name:"LoginView",setup(A){const d=g(),l=h(),o=y();o.loggedIn&&d.push(l.query.next?l.query.next:"/");const s=m({username:"",password:""}),u=m(!1);function x(){!s.value.username||!s.value.password||(u.value=!0,o.login(s.value).then(t=>{t&&t.token?(o.setToken(t.token),d.push(l.query.next)):u.value=!1}))}function c(t){return!!t||"Field is required"}return(t,r)=>(i(),w("div",z,[u.value?(i(),p(S,{key:0,color:"primary",size:"3em"})):(i(),p(Q,{key:1,style:{width:"20rem"}},{default:a(()=>[e(L,{class:"bg-primary text-white"},{default:a(()=>[e(k,{size:"xs",square:""},{default:a(()=>[I]),_:1}),e(C,null,{default:a(()=>[V("LifeTrackerBuddy")]),_:1})]),_:1}),e(U,{onSubmit:T(x,["prevent"])},{default:a(()=>[e(f,null,{default:a(()=>[e(_,{modelValue:s.value.username,"onUpdate:modelValue":r[0]||(r[0]=n=>s.value.username=n),label:"Username",rules:[c]},{prepend:a(()=>[e(b,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),e(_,{modelValue:s.value.password,"onUpdate:modelValue":r[1]||(r[1]=n=>s.value.password=n),type:"password",label:"Password",rules:[c]},{prepend:a(()=>[e(b,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),e(f,{class:"q-pt-none"},{default:a(()=>[N]),_:1}),e(q,{class:"q-pa-md"},{default:a(()=>[e(B,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{J as default};
