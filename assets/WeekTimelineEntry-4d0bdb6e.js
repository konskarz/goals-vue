import{c as Y,D as pe,E as ye,U as Ne,f as k,h as E,S as ae,g as ie,az as be,d as Qe,e as Z,j as Be,ae as Q,aA as je,aB as Ye,I as Ve,r as re,a1 as x,a2 as w,aw as H,aC as We,a7 as P,a8 as M,aD as G,aE as ze,a9 as J,aF as Ue,aG as Xe,aa as fe,af as me,ay as ne,ab as Ke,ad as Ze,ac as Ge,aH as ee}from"./index-2673aaeb.js";import{Q as Je}from"./QList-24eb127c.js";import{d as B}from"./date-4ff4055f.js";import{u as Se}from"./TaskStore-e0f719a2.js";import{a as N,Q as et}from"./QItem-35e67c9a.js";import{Q as te}from"./QItemLabel-c1807fc2.js";import{_ as tt,u as at}from"./NumberInput-df63eab6.js";import{u as rt}from"./TimeStore-ac66eb14.js";import{_ as nt}from"./DurationInput-4391edc2.js";const Mt=Y({name:"QTimeline",props:{...pe,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:r=>["left","right"].includes(r)},layout:{type:String,default:"dense",validator:r=>["dense","comfortable","loose"].includes(r)}},setup(r,{slots:l}){const s=ie(),i=ye(r,s.proxy.$q);Ne(be,r);const e=k(()=>`q-timeline q-timeline--${r.layout} q-timeline--${r.layout}--${r.side}`+(i.value===!0?" q-timeline--dark":""));return()=>E("ul",{class:e.value},ae(l.default))}}),it=Y({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:r=>["left","right"].includes(r)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(r,{slots:l}){const s=Qe(be,Z);if(s===Z)return console.error("QTimelineEntry needs to be child of QTimeline"),Z;const i=k(()=>`q-timeline__entry q-timeline__entry--${r.side}`+(r.icon!==void 0||r.avatar!==void 0?" q-timeline__entry--icon":"")),e=k(()=>`q-timeline__dot text-${r.color||s.color}`),n=k(()=>s.layout==="comfortable"&&s.side==="left");return()=>{const o=Be(l.default,[]);if(r.body!==void 0&&o.unshift(r.body),r.heading===!0){const c=[E("div"),E("div"),E(r.tag,{class:"q-timeline__heading-title"},o)];return E("div",{class:"q-timeline__heading"},n.value===!0?c.reverse():c)}let u;r.icon!==void 0?u=[E(Q,{class:"row items-center justify-center",name:r.icon})]:r.avatar!==void 0&&(u=[E("img",{class:"q-timeline__dot-img",src:r.avatar})]);const d=[E("div",{class:"q-timeline__subtitle"},[E("span",{},ae(l.subtitle,[r.subtitle]))]),E("div",{class:e.value},u),E("div",{class:"q-timeline__content"},[E("h6",{class:"q-timeline__title"},ae(l.title,[r.title]))].concat(o))];return E("li",{class:i.value},n.value===!0?d.reverse():d)}}});var ge;(function(r){var l=function(){function i(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(i.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),i.prototype.clearData=function(e){e!=null?delete this._data[e]:this._data=null},i.prototype.getData=function(e){return this._data[e]||""},i.prototype.setData=function(e,n){this._data[e]=n},i.prototype.setDragImage=function(e,n,o){var u=s._instance;u._imgCustom=e,u._imgOffset={x:n,y:o}},i}();r.DataTransfer=l;var s=function(){function i(){if(this._lastClick=0,i._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var n=document,o=this._touchstart.bind(this),u=this._touchmove.bind(this),d=this._touchend.bind(this),c=e?{passive:!1,capture:!1}:!1;n.addEventListener("touchstart",o,c),n.addEventListener("touchmove",u,c),n.addEventListener("touchend",d),n.addEventListener("touchcancel",d)}}return i.getInstance=function(){return i._instance},i.prototype._touchstart=function(e){var n=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target)){e.cancelable&&e.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(e.target);o&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=o,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout(function(){n._dragSource==o&&n._img==null&&n._dispatchEvent(e,"contextmenu",o)&&n._reset()},i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){n._isDragEnabled=!0,n._touchmove(e)},i._PRESSHOLDAWAIT)))}},i.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e)){this._reset();return}if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var n=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",n)){this._lastTouch=e,e.cancelable&&e.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",n)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),n!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",n),this._lastTarget=n),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",n))}},i.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target)){e.cancelable&&e.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},i.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},i.prototype._shouldHandleMove=function(e){return!i._ISPRESSHOLDMODE&&this._shouldHandle(e)},i.prototype._shouldHandlePressHoldMove=function(e){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},i.prototype._shouldCancelPressHoldMove=function(e){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>i._PRESSHOLDMARGIN},i.prototype._shouldStartDragging=function(e){var n=this._getDelta(e);return n>i._THRESHOLD||i._ISPRESSHOLDMODE&&n>=i._PRESSHOLDTHRESHOLD},i.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new l,clearInterval(this._pressHoldInterval)},i.prototype._getPoint=function(e,n){return e&&e.touches&&(e=e.touches[0]),{x:n?e.pageX:e.clientX,y:n?e.pageY:e.clientY}},i.prototype._getDelta=function(e){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var n=this._getPoint(e);return Math.abs(n.x-this._ptDown.x)+Math.abs(n.y-this._ptDown.y)},i.prototype._getTarget=function(e){for(var n=this._getPoint(e),o=document.elementFromPoint(n.x,n.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},i.prototype._createImage=function(e){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=n.getBoundingClientRect(),u=this._getPoint(e);this._imgOffset={x:u.x-o.left,y:u.y-o.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},i.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},i.prototype._moveImage=function(e){var n=this;requestAnimationFrame(function(){if(n._img){var o=n._getPoint(e,!0),u=n._img.style;u.position="absolute",u.pointerEvents="none",u.zIndex="999999",u.left=Math.round(o.x-n._imgOffset.x)+"px",u.top=Math.round(o.y-n._imgOffset.y)+"px"}})},i.prototype._copyProps=function(e,n,o){for(var u=0;u<o.length;u++){var d=o[u];e[d]=n[d]}},i.prototype._copyStyle=function(e,n){if(i._rmvAtts.forEach(function(T){n.removeAttribute(T)}),e instanceof HTMLCanvasElement){var o=e,u=n;u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0)}for(var d=getComputedStyle(e),c=0;c<d.length;c++){var v=d[c];v.indexOf("transition")<0&&(n.style[v]=d[v])}n.style.pointerEvents="none";for(var c=0;c<e.children.length;c++)this._copyStyle(e.children[c],n.children[c])},i.prototype._dispatchEvent=function(e,n,o){if(e&&o){var u=document.createEvent("Event"),d=e.touches?e.touches[0]:e;return u.initEvent(n,!0,!0),u.button=0,u.which=u.buttons=1,this._copyProps(u,e,i._kbdProps),this._copyProps(u,d,i._ptProps),u.dataTransfer=this._dataTransfer,o.dispatchEvent(u),u.defaultPrevented}return!1},i.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},i}();s._instance=new s,s._THRESHOLD=5,s._OPACITY=.5,s._DBLCLICK=500,s._CTXMENU=900,s._ISPRESSHOLDMODE=!1,s._PRESSHOLDAWAIT=400,s._PRESSHOLDMARGIN=25,s._PRESSHOLDTHRESHOLD=0,s._rmvAtts="id,class,style,draggable".split(","),s._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),s._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),r.DragDropTouch=s})(ge||(ge={}));const ot={xs:2,sm:4,md:6,lg:10,xl:14};function ve(r,l,s){return{transform:l===!0?`translateX(${s.lang.rtl===!0?"-":""}100%) scale3d(${-r},1,1)`:`scale3d(${r},1,1)`}}const st=Y({name:"QLinearProgress",props:{...pe,...je,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(r,{slots:l}){const{proxy:s}=ie(),i=ye(r,s.$q),e=Ye(r,ot),n=k(()=>r.indeterminate===!0||r.query===!0),o=k(()=>r.reverse!==r.query),u=k(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${r.animationSpeed}ms`})),d=k(()=>"q-linear-progress"+(r.color!==void 0?` text-${r.color}`:"")+(r.reverse===!0||r.query===!0?" q-linear-progress--reverse":"")+(r.rounded===!0?" rounded-borders":"")),c=k(()=>ve(r.buffer!==void 0?r.buffer:1,o.value,s.$q)),v=k(()=>`with${r.instantFeedback===!0?"out":""}-transition`),T=k(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${v.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),C=k(()=>ve(n.value===!0?1:r.value,o.value,s.$q)),p=k(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${v.value} q-linear-progress__model--${n.value===!0?"in":""}determinate`),V=k(()=>({width:`${r.value*100}%`})),W=k(()=>`q-linear-progress__stripe absolute-${r.reverse===!0?"right":"left"} q-linear-progress__stripe--${v.value}`);return()=>{const q=[E("div",{class:T.value,style:c.value}),E("div",{class:p.value,style:C.value})];return r.stripe===!0&&n.value===!1&&q.push(E("div",{class:W.value,style:V.value})),E("div",{class:d.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":r.indeterminate===!0?void 0:r.value},Ve(l.default,q))}}});var oe={};(function r(l,s,i,e){var n=!!(l.Worker&&l.Blob&&l.Promise&&l.OffscreenCanvas&&l.OffscreenCanvasRenderingContext2D&&l.HTMLCanvasElement&&l.HTMLCanvasElement.prototype.transferControlToOffscreen&&l.URL&&l.URL.createObjectURL);function o(){}function u(a){var t=s.exports.Promise,g=t!==void 0?t:l.Promise;return typeof g=="function"?new g(a):(a(o,o),null)}var d=function(){var a=Math.floor(16.666666666666668),t,g,h={},y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(_){var f=Math.random();return h[f]=requestAnimationFrame(function m(D){y===D||y+a-1<D?(y=D,delete h[f],_()):h[f]=requestAnimationFrame(m)}),f},g=function(_){h[_]&&cancelAnimationFrame(h[_])}):(t=function(_){return setTimeout(_,a)},g=function(_){return clearTimeout(_)}),{frame:t,cancel:g}}(),c=function(){var a,t,g={};function h(y){function _(f,m){y.postMessage({options:f||{},callback:m})}y.init=function(m){var D=m.transferControlToOffscreen();y.postMessage({canvas:D},[D])},y.fire=function(m,D,L){if(t)return _(m,null),t;var b=Math.random().toString(36).slice(2);return t=u(function(O){function I(S){S.data.callback===b&&(delete g[b],y.removeEventListener("message",I),t=null,L(),O())}y.addEventListener("message",I),_(m,b),g[b]=I.bind(null,{data:{callback:b}})}),t},y.reset=function(){y.postMessage({reset:!0});for(var m in g)g[m](),delete g[m]}}return function(){if(a)return a;if(!i&&n){var y=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([y])))}catch(_){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",_),null}h(a)}return a}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function T(a,t){return t?t(a):a}function C(a){return a!=null}function p(a,t,g){return T(a&&C(a[t])?a[t]:v[t],g)}function V(a){return a<0?0:Math.floor(a)}function W(a,t){return Math.floor(Math.random()*(t-a))+a}function q(a){return parseInt(a,16)}function ke(a){return a.map(Ee)}function Ee(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:q(t.substring(0,2)),g:q(t.substring(2,4)),b:q(t.substring(4,6))}}function Me(a){var t=p(a,"origin",Object);return t.x=p(t,"x",Number),t.y=p(t,"y",Number),t}function we(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Te(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function Ce(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function Ie(a,t,g,h,y,_,f,m,D){a.save(),a.translate(t,g),a.rotate(_),a.scale(h,y),a.arc(0,0,1,f,m,D),a.restore()}function Oe(a){var t=a.angle*(Math.PI/180),g=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*g-Math.random()*g),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar}}function Pe(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=t.wobbleSpeed,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var g=t.tick++/t.totalTicks,h=t.x+t.random*t.tiltCos,y=t.y+t.random*t.tiltSin,_=t.wobbleX+t.random*t.tiltCos,f=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-g)+")",a.beginPath(),t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(_-h)*t.ovalScalar,Math.abs(f-y)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):Ie(a,t.x,t.y,Math.abs(_-h)*t.ovalScalar,Math.abs(f-y)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var m=Math.PI/2*3,D=4*t.scalar,L=8*t.scalar,b=t.x,O=t.y,I=5,S=Math.PI/I;I--;)b=t.x+Math.cos(m)*L,O=t.y+Math.sin(m)*L,a.lineTo(b,O),m+=S,b=t.x+Math.cos(m)*D,O=t.y+Math.sin(m)*D,a.lineTo(b,O),m+=S;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(y)),a.lineTo(Math.floor(_),Math.floor(f)),a.lineTo(Math.floor(h),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function xe(a,t,g,h,y){var _=t.slice(),f=a.getContext("2d"),m,D,L=u(function(b){function O(){m=D=null,f.clearRect(0,0,h.width,h.height),y(),b()}function I(){i&&!(h.width===e.width&&h.height===e.height)&&(h.width=a.width=e.width,h.height=a.height=e.height),!h.width&&!h.height&&(g(a),h.width=a.width,h.height=a.height),f.clearRect(0,0,h.width,h.height),_=_.filter(function(S){return Pe(f,S)}),_.length?m=d.frame(I):O()}m=d.frame(I),D=O});return{addFettis:function(b){return _=_.concat(b),L},canvas:a,promise:L,reset:function(){m&&d.cancel(m),D&&D()}}}function se(a,t){var g=!a,h=!!p(t||{},"resize"),y=p(t,"disableForReducedMotion",Boolean),_=n&&!!p(t||{},"useWorker"),f=_?c():null,m=g?we:Te,D=a&&f?!!a.__confetti_initialized:!1,L=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,b;function O(S,U,X){for(var F=p(S,"particleCount",V),$=p(S,"angle",Number),A=p(S,"spread",Number),R=p(S,"startVelocity",Number),Le=p(S,"decay",Number),He=p(S,"gravity",Number),Re=p(S,"drift",Number),ue=p(S,"colors",ke),qe=p(S,"ticks",Number),ce=p(S,"shapes"),Fe=p(S,"scalar"),de=Me(S),he=F,K=[],$e=a.width*de.x,Ae=a.height*de.y;he--;)K.push(Oe({x:$e,y:Ae,angle:$,spread:A,startVelocity:R,color:ue[he%ue.length],shape:ce[W(0,ce.length)],ticks:qe,decay:Le,gravity:He,drift:Re,scalar:Fe}));return b?b.addFettis(K):(b=xe(a,K,m,U,X),b.promise)}function I(S){var U=y||p(S,"disableForReducedMotion",Boolean),X=p(S,"zIndex",Number);if(U&&L)return u(function(R){R()});g&&b?a=b.canvas:g&&!a&&(a=Ce(X),document.body.appendChild(a)),h&&!D&&m(a);var F={width:a.width,height:a.height};f&&!D&&f.init(a),D=!0,f&&(a.__confetti_initialized=!0);function $(){if(f){var R={getBoundingClientRect:function(){if(!g)return a.getBoundingClientRect()}};m(R),f.postMessage({resize:{width:R.width,height:R.height}});return}F.width=F.height=null}function A(){b=null,h&&l.removeEventListener("resize",$),g&&a&&(document.body.removeChild(a),a=null,D=!1)}return h&&l.addEventListener("resize",$,!1),f?f.fire(S,F,A):O(S,F,A)}return I.reset=function(){f&&f.reset(),b&&b.reset()},I}var z;function le(){return z||(z=se(null,{useWorker:!0,resize:!0})),z}s.exports=function(){return le().apply(this,arguments)},s.exports.reset=function(){le().reset()},s.exports.create=se})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),oe,!1);const _e=oe.exports;oe.exports.create;function lt(){var r=3e3,l=Date.now()+r,s={startVelocity:30,spread:360,ticks:60,zIndex:0,disableForReducedMotion:!0};function i(n,o){return Math.random()*(o-n)+n}var e=setInterval(function(){var n=l-Date.now();if(n<=0)return clearInterval(e);var o=100*(n/r);_e(Object.assign({},s,{particleCount:o,origin:{x:i(.1,.3),y:Math.random()-.2}})),_e(Object.assign({},s,{particleCount:o,origin:{x:i(.7,.9),y:Math.random()-.2}}))},250)}const ut=E("div",{class:"q-space"}),ct=Y({name:"QSpace",setup(){return()=>ut}}),dt=()=>!0;function ht(r){const l={};return r.forEach(s=>{l[s]=dt}),l}function j(){const{emit:r,proxy:l}=ie(),s=re(null);function i(){s.value.show()}function e(){s.value.hide()}function n(u){r("ok",u),e()}function o(){r("hide")}return Object.assign(l,{show:i,hide:e}),{dialogRef:s,onDialogHide:o,onDialogOK:n,onDialogCancel:e}}const De=["ok","hide"];j.emits=De;j.emitsObject=ht(De);const ft=Xe("div",{class:"text-h6"},"Progress",-1),mt={__name:"ProgressDialog",props:{task:{type:Object,required:!0}},emits:[...j.emits],setup(r){const l=r,s=re(l.task.performance),i=re(null),e=k(()=>{let T="of "+l.task.target;const C=l.task.performance_history;return C&&C.length&&(T+=" · changed "+B.formatDate(C[0].updated,"DD.MM.YYYY HH:mm")),T}),{dialogRef:n,onDialogHide:o,onDialogOK:u,onDialogCancel:d}=j(),c=k(()=>s.value===l.task.performance&&!i.value);function v(){u({performance:s.value,duration:i.value})}return(T,C)=>(P(),x(We,{ref_key:"dialogRef",ref:n,onHide:H(o)},{default:w(()=>[M(Ue,{class:"q-dialog-plugin"},{default:w(()=>[M(G,null,{default:w(()=>[ft]),_:1}),M(G,null,{default:w(()=>[M(tt,{modelValue:s.value,"onUpdate:modelValue":C[0]||(C[0]=p=>s.value=p),label:"Performance",hint:H(e)},null,8,["modelValue","hint"])]),_:1}),M(G,null,{default:w(()=>[M(nt,{modelValue:i.value,"onUpdate:modelValue":C[1]||(C[1]=p=>i.value=p),label:"Time spent"},null,8,["modelValue"])]),_:1}),M(ze,{align:"right"},{default:w(()=>[M(J,{flat:"",label:"Edit Task",class:"text-primary",to:{name:"task",params:{id:r.task.id}}},null,8,["to"]),M(ct),M(J,{flat:"",label:"Cancel",class:"text-primary",onClick:H(d)},null,8,["onClick"]),M(J,{disable:H(c),flat:"",label:"Submit",class:"text-primary",onClick:v},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},gt={__name:"TaskListItem",props:{task:{type:Object,required:!0}},setup(r){const l=r,s=at(),i=Se(),e=rt(),n=k(()=>l.task.target>1&&!l.task.done),o=k(()=>n.value?l.task.performance/l.task.target:0),u=k(()=>[l.task.performance,"of",l.task.target].join(" "));function d(){s.dialog({component:mt,componentProps:{task:l.task}}).onOk(c=>{if(c.performance!==l.task.performance){c.performance>=l.task.target&&lt();const v={performance:c.performance};i.updateItem(l.task.id+"/",v).then(()=>i.refetch())}c.duration&&e.createItem({task:l.task.id,start:new Date().toISOString(),end:null,duration:c.duration,description:""}).then(()=>{e.refetch()})})}return(c,v)=>(P(),x(et,{clickable:"",active:Boolean(r.task.done),"active-class":"text-positive"},{default:w(()=>[r.task.done?(P(),x(N,{key:0,thumbnail:""},{default:w(()=>[M(Q,{name:"done",color:"positive"})]),_:1})):r.task.group_id?(P(),x(N,{key:1,thumbnail:""},{default:w(()=>[M(Q,{name:"event_repeat"})]),_:1})):(P(),x(N,{key:2,thumbnail:"",style:{cursor:"grab"},draggable:"true",onDragstart:v[0]||(v[0]=T=>c.$emit("ondragstart",T,r.task)),"onTouchmove:native":v[1]||(v[1]=T=>{})},{default:w(()=>[M(Q,{name:"drag_indicator"})]),_:1})),M(N,{onClick:d},{default:w(()=>[M(te,null,{default:w(()=>[fe(me(r.task.name),1)]),_:1}),H(n)?(P(),x(te,{key:0,caption:""},{default:w(()=>[fe(me(H(u)),1)]),_:1})):ne("",!0),H(n)?(P(),x(te,{key:1},{default:w(()=>[M(st,{value:H(o),color:"positive"},null,8,["value"])]),_:1})):ne("",!0)]),_:1})]),_:1},8,["active"]))}},wt={__name:"WeekTimelineEntry",props:{week:{type:Object,required:!0}},setup(r){const l=r,s=Se(),i=new Date(l.week.day),e=B.formatDate(i,"w-Q-YYYY-MMM D").split("-"),n=["Week "+e[0],"Q"+e[1],e[2],e[3]].join(" · ");function o(d,c){const v={id:c.id,day:B.getDayOfWeek(c.planned),week:e[0]};d.dataTransfer.setData("text",JSON.stringify(v)),d.dataTransfer.dropEffect="move"}function u(d){const c=JSON.parse(d.dataTransfer.getData("text"));if(c.week===e[0])return;const v={planned:B.addToDate(i,{days:c.day-1}).toISOString()};s.updateItem(c.id+"/",v).then(()=>s.refetch())}return(d,c)=>(P(),x(it,{subtitle:H(n),onDragover:c[1]||(c[1]=ee(()=>{},["prevent"])),onDragenter:c[2]||(c[2]=ee(()=>{},["prevent"])),onDrop:c[3]||(c[3]=ee(v=>u(v),["prevent"]))},{default:w(()=>[r.week.tasks&&r.week.tasks.length?(P(),x(Je,{key:0},{default:w(()=>[(P(!0),Ke(Ze,null,Ge(r.week.tasks,v=>(P(),x(gt,{key:v.id,task:v,onOndragstart:o,onMutate:c[0]||(c[0]=T=>d.$emit("mutate"))},null,8,["task"]))),128))]),_:1})):ne("",!0)]),_:1},8,["subtitle"]))}};export{Mt as Q,wt as _};
