import{r as m,al as v,d as V,a6 as I,a7 as k,ac as y,aw as O,ax as S}from"./index-43cddd7c.js";function x(t,e,u){const l=m(t?{...e.getItem(t)}:u),a=m(t+"/"),n=m(!1),r=t?{...l.value}:null,f=v();function i(c,o){return Object.fromEntries(Object.entries(o).filter(([g,h])=>c[g]!==h))}function p(c,o){return Object.keys(i(c,o)).length}function s(){f.back()}function d(){n.value=!0,e.deleteItem(a.value).then(()=>{e.refetch(),s()})}function b(){n.value=!0,t?e.updateItem(a.value,i(r,{...l.value})).then(()=>{e.refetch(),s()}):e.createItem(l.value).then(()=>{e.refetch(),s()})}return{item:l,original:r,path:a,persist:n,changed:p,remove:d,save:b,back:s}}const _={__name:"DateInput",props:{label:{type:String,required:!0},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(t,{emit:e}){const u=t,l=V({get(){return u.modelValue?u.modelValue.slice(0,10):null},set(a){e("update:modelValue",a?new Date(a).toISOString():null)}});return(a,n)=>(I(),k(S,{modelValue:y(l),"onUpdate:modelValue":n[0]||(n[0]=r=>O(l)?l.value=r:null),type:"date",label:t.label,"stack-label":""},null,8,["modelValue","label"]))}};export{_,x as u};
