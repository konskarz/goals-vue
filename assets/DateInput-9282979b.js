import{r as k,L as tt,c as I,g as R,j as x,h as E,G as U,B as nt,a as Y,b as Be,ai as ot,aj as fe,K as lt,ak as He,al as it,am as at,an as ut,p as be,ag as _e,w as B,T as he,ao as Me,u as xe,s as ye,o as st,y as rt,l as ve,x as ct,z as dt,Q as $e,R as Fe,S as G,a3 as ft,$ as mt,U as ie,Z as ht,a1 as vt}from"./index-af3ced9f.js";import{a as gt}from"./QTree-c55754d2.js";import{u as We,a as De}from"./use-dark-9b655c49.js";import{u as Le,f as pt,h as bt,c as xt,i as yt,s as wt,g as kt}from"./use-timeout-48918099.js";import{u as Ae,a as Ve,b as ze}from"./use-model-toggle-8cc165da.js";import{r as we,b as St,c as Qe,u as qt,d as Et,e as Tt,f as Ct,Q as Pt}from"./QForm-acef8abc.js";import{a as Bt}from"./TaskStore-e6f5d0fc.js";function on(e,t,o){const n=k(e?{...t.getItem(e)}:o),l=k(e),a=k(!1),i=e?{...n.value}:null,s=tt();function d(u,f){return Object.fromEntries(Object.entries(f).filter(([g,S])=>u[g]!==S))}function r(u,f){return Object.keys(d(u,f)).length}function c(){s.back()}function v(){a.value=!0,t.deleteItem(l.value).then(()=>{t.refetch(),c()})}function p(){a.value=!0,e?t.updateItem(l.value,d(i,{...n.value})).then(()=>{t.refetch(),c()}):t.createItem(n.value).then(()=>{t.refetch(),c()})}return{item:n,original:i,path:l,persist:a,changed:r,remove:v,save:p,back:c}}const Ht=I({name:"QBanner",props:{...We,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=R(),n=De(e,o),l=x(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),a=x(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const i=[E("div",{class:"q-banner__avatar col-auto row items-center self-start"},U(t.avatar)),E("div",{class:"q-banner__content col text-body2"},U(t.default))],s=U(t.action);return s!==void 0&&i.push(E("div",{class:a.value},s)),E("div",{class:l.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},i)}}});function Oe(){let e;const t=R();function o(){e=void 0}return nt(o),Y(o),{removeTick:o,registerTick(n){e=n,Be(()=>{e===n&&(ot(t)===!1&&e(),e=void 0)})}}}const Ie={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Re(e,t=()=>{},o=()=>{}){return{transitionProps:x(()=>{const n=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:x(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const X=[];function _t(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return fe(e)}else if(e.__qPortal===!0){const o=fe(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=fe(e)}while(e!=null)}const Mt=I({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function $t(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function je(e,t,o,n){const l=k(!1),a=k(!1);let i=null;const s={},d=n==="dialog"&&$t(e);function r(v){if(v===!0){we(s),a.value=!0;return}a.value=!1,l.value===!1&&(d===!1&&i===null&&(i=at(!1,n)),l.value=!0,X.push(e.proxy),St(s))}function c(v){if(a.value=!1,v!==!0)return;we(s),l.value=!1;const p=X.indexOf(e.proxy);p!==-1&&X.splice(p,1),i!==null&&(ut(i),i=null)}return lt(()=>{c(!0)}),e.proxy.__qPortal=!0,He(e.proxy,"contentEl",()=>t.value),{showPortal:r,hidePortal:c,portalIsActive:l,portalIsAccessible:a,renderPortal:()=>d===!0?o():l.value===!0?[E(it,{to:i},E(Mt,o))]:void 0}}const W=[];let O;function Ft(e){O=e.keyCode===27}function Wt(){O===!0&&(O=!1)}function Dt(e){O===!0&&(O=!1,_e(e,27)===!0&&W[W.length-1](e))}function Ke(e){window[e]("keydown",Ft),window[e]("blur",Wt),window[e]("keyup",Dt),O=!1}function Ne(e){be.is.desktop===!0&&(W.push(e),W.length===1&&Ke("addEventListener"))}function ue(e){const t=W.indexOf(e);t!==-1&&(W.splice(t,1),W.length===0&&Ke("removeEventListener"))}const D=[];function Ge(e){D[D.length-1](e)}function Ue(e){be.is.desktop===!0&&(D.push(e),D.length===1&&document.body.addEventListener("focusin",Ge))}function ge(e){const t=D.indexOf(e);t!==-1&&(D.splice(t,1),D.length===0&&document.body.removeEventListener("focusin",Ge))}let ae=0;const Lt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ke={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},At=I({name:"QDialog",inheritAttrs:!1,props:{...Ae,...Ie,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Ve,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:n}){const l=R(),a=k(null),i=k(!1),s=k(!1);let d=null,r=null,c,v;const p=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:u}=bt(),{registerTimeout:f}=Le(),{registerTick:g,removeTick:S}=Oe(),{transitionProps:A,transitionStyle:V}=Re(e,()=>ke[e.position][0],()=>ke[e.position][1]),w=x(()=>V.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:C,hidePortal:y,portalIsAccessible:H,renderPortal:T}=je(l,a,le,"dialog"),{hide:q}=ze({showing:i,hideOnRouteChange:p,handleShow:ce,handleHide:de,processOnMount:!0}),{addToHistory:P,removeFromHistory:Z}=pt(i,q,p),J=x(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Lt[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),z=x(()=>i.value===!0&&e.seamless!==!0),j=x(()=>e.autoClose===!0?{onClick:ne}:{}),ee=x(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${z.value===!0?"modal":"seamless"}`,n.class]);B(()=>e.maximized,h=>{i.value===!0&&K(h)}),B(z,h=>{u(h),h===!0?(Ue(N),Ne($)):(ge(N),ue($))});function ce(h){P(),r=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,K(e.maximized),C(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),g(M)):S(),f(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:b,bottom:_}=document.activeElement.getBoundingClientRect(),{innerHeight:m}=window,F=window.visualViewport!==void 0?window.visualViewport.height:m;b>0&&_>F/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-F,_>=m?1/0:Math.ceil(document.scrollingElement.scrollTop+_-F/2))),document.activeElement.scrollIntoView()}v=!0,a.value.click(),v=!1}C(!0),s.value=!1,o("show",h)},e.transitionDuration)}function de(h){S(),Z(),te(!0),s.value=!0,y(),r!==null&&(((h&&h.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),f(()=>{y(!0),s.value=!1,o("hide",h)},e.transitionDuration)}function M(h){Qe(()=>{let b=a.value;if(b!==null){if(h!==void 0){const _=b.querySelector(h);if(_!==null){_.focus({preventScroll:!0});return}}b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||b.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))}})}function Q(h){h&&typeof h.focus=="function"?h.focus({preventScroll:!0}):M(),o("shake");const b=a.value;b!==null&&(b.classList.remove("q-animate--scale"),b.classList.add("q-animate--scale"),d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,a.value!==null&&(b.classList.remove("q-animate--scale"),M())},170))}function $(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Q():(o("escapeKey"),q()))}function te(h){d!==null&&(clearTimeout(d),d=null),(h===!0||i.value===!0)&&(K(!1),e.seamless!==!0&&(u(!1),ge(N),ue($))),h!==!0&&(r=null)}function K(h){h===!0?c!==!0&&(ae<1&&document.body.classList.add("q-body--dialog"),ae++,c=!0):c===!0&&(ae<2&&document.body.classList.remove("q-body--dialog"),ae--,c=!1)}function ne(h){v!==!0&&(q(h),o("click",h))}function oe(h){e.persistent!==!0&&e.noBackdropDismiss!==!0?q(h):e.noShake!==!0&&Q()}function N(h){e.allowFocusOutside!==!0&&H.value===!0&&Me(a.value,h.target)!==!0&&M('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:M,shake:Q,__updateRefocusTarget(h){r=h||null}}),Y(te);function le(){return E("div",{role:"dialog","aria-modal":z.value===!0?"true":"false",...n,class:ee.value},[E(he,{name:"q-transition--fade",appear:!0},()=>z.value===!0?E("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:oe}):null),E(he,A.value,()=>i.value===!0?E("div",{ref:a,class:J.value,style:V.value,tabindex:-1,...j.value},U(t.default)):null)])}return T}}),Vt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Xe={...Vt,contextMenu:Boolean};function Ye({showing:e,avoidEmit:t,configureAnchorEl:o}){const{props:n,proxy:l,emit:a}=R(),i=k(null);let s=null;function d(u){return i.value===null?!1:u===void 0||u.touches===void 0||u.touches.length<=1}const r={};o===void 0&&(Object.assign(r,{hide(u){l.hide(u)},toggle(u){l.toggle(u),u.qAnchorHandled=!0},toggleKey(u){_e(u,13)===!0&&r.toggle(u)},contextClick(u){l.hide(u),xe(u),Be(()=>{l.show(u),u.qAnchorHandled=!0})},prevent:xe,mobileTouch(u){if(r.mobileCleanup(u),d(u)!==!0)return;l.hide(u),i.value.classList.add("non-selectable");const f=u.target;ye(r,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,l.show(u),u.qAnchorHandled=!0},300)},mobileCleanup(u){i.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&u!==void 0&&xt()}}),o=function(u=n.contextMenu){if(n.noParentEvent===!0||i.value===null)return;let f;u===!0?l.$q.platform.is.mobile===!0?f=[[i.value,"touchstart","mobileTouch","passive"]]:f=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:f=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],ye(r,"anchor",f)});function c(){rt(r,"anchor")}function v(u){for(i.value=u;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;o()}function p(){if(n.target===!1||n.target===""||l.$el.parentNode===null)i.value=null;else if(n.target===!0)v(l.$el.parentNode);else{let u=n.target;if(typeof n.target=="string")try{u=document.querySelector(n.target)}catch{u=void 0}u!=null?(i.value=u.$el||u,o()):(i.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return B(()=>n.contextMenu,u=>{i.value!==null&&(c(),o(u))}),B(()=>n.target,()=>{i.value!==null&&c(),p()}),B(()=>n.noParentEvent,u=>{i.value!==null&&(u===!0?c():o())}),st(()=>{p(),t!==!0&&n.modelValue===!0&&i.value===null&&a("update:modelValue",!1)}),Y(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:i,canShow:d,anchorEvents:r}}function zt(e,t){const o=k(null);let n;function l(s,d){const r=`${d!==void 0?"add":"remove"}EventListener`,c=d!==void 0?d:n;s!==window&&s[r]("scroll",c,ve.passive),window[r]("scroll",c,ve.passive),n=d}function a(){o.value!==null&&(l(o.value),o.value=null)}const i=B(()=>e.noParentEvent,()=>{o.value!==null&&(a(),t())});return Y(i),{localScrollTarget:o,unconfigureScrollTarget:a,changeScrollEvent:l}}const{notPassiveCapture:se}=ve,L=[];function re(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let o=X.length-1;for(;o>=0;){const n=X[o].$;if(n.type.name==="QTooltip"){o--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;o--}for(let n=L.length-1;n>=0;n--){const l=L[n];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Qt(e){L.push(e),L.length===1&&(document.addEventListener("mousedown",re,se),document.addEventListener("touchstart",re,se))}function Se(e){const t=L.findIndex(o=>o===e);t!==-1&&(L.splice(t,1),L.length===0&&(document.removeEventListener("mousedown",re,se),document.removeEventListener("touchstart",re,se)))}let qe,Ee;function Te(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ot(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const pe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{pe[`${e}#ltr`]=e,pe[`${e}#rtl`]=e});function Ce(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:pe[`${o[1]}#${t===!0?"rtl":"ltr"}`]}}function It(e,t){let{top:o,left:n,right:l,bottom:a,width:i,height:s}=e.getBoundingClientRect();return t!==void 0&&(o-=t[1],n-=t[0],a+=t[1],l+=t[0],i+=t[0],s+=t[1]),{top:o,bottom:a,height:s,left:n,right:l,width:i,middle:n+(l-n)/2,center:o+(a-o)/2}}function Rt(e,t,o){let{top:n,left:l}=e.getBoundingClientRect();return n+=t.top,l+=t.left,o!==void 0&&(n+=o[1],l+=o[0]),{top:n,bottom:n+1,height:1,left:l,right:l+1,width:1,middle:l,center:n}}function jt(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Pe(e,t,o,n){return{top:e[o.vertical]-t[n.vertical],left:e[o.horizontal]-t[n.horizontal]}}function Ze(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ze(e,t+1)},10);return}const{targetEl:o,offset:n,anchorEl:l,anchorOrigin:a,selfOrigin:i,absoluteOffset:s,fit:d,cover:r,maxHeight:c,maxWidth:v}=e;if(be.is.ios===!0&&window.visualViewport!==void 0){const H=document.body.style,{offsetLeft:T,offsetTop:q}=window.visualViewport;T!==qe&&(H.setProperty("--q-pe-left",T+"px"),qe=T),q!==Ee&&(H.setProperty("--q-pe-top",q+"px"),Ee=q)}const{scrollLeft:p,scrollTop:u}=o,f=s===void 0?It(l,r===!0?[0,0]:n):Rt(l,s,n);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:v||"100vw",maxHeight:c||"100vh",visibility:"visible"});const{offsetWidth:g,offsetHeight:S}=o,{elWidth:A,elHeight:V}=d===!0||r===!0?{elWidth:Math.max(f.width,g),elHeight:r===!0?Math.max(f.height,S):S}:{elWidth:g,elHeight:S};let w={maxWidth:v,maxHeight:c};(d===!0||r===!0)&&(w.minWidth=f.width+"px",r===!0&&(w.minHeight=f.height+"px")),Object.assign(o.style,w);const C=jt(A,V);let y=Pe(f,C,a,i);if(s===void 0||n===void 0)me(y,f,C,a,i);else{const{top:H,left:T}=y;me(y,f,C,a,i);let q=!1;if(y.top!==H){q=!0;const P=2*n[1];f.center=f.top-=P,f.bottom-=P+2}if(y.left!==T){q=!0;const P=2*n[0];f.middle=f.left-=P,f.right-=P+2}q===!0&&(y=Pe(f,C,a,i),me(y,f,C,a,i))}w={top:y.top+"px",left:y.left+"px"},y.maxHeight!==void 0&&(w.maxHeight=y.maxHeight+"px",f.height>y.maxHeight&&(w.minHeight=w.maxHeight)),y.maxWidth!==void 0&&(w.maxWidth=y.maxWidth+"px",f.width>y.maxWidth&&(w.minWidth=w.maxWidth)),Object.assign(o.style,w),o.scrollTop!==u&&(o.scrollTop=u),o.scrollLeft!==p&&(o.scrollLeft=p)}function me(e,t,o,n,l){const a=o.bottom,i=o.right,s=yt(),d=window.innerHeight-s,r=document.body.clientWidth;if(e.top<0||e.top+a>d)if(l.vertical==="center")e.top=t[n.vertical]>d/2?Math.max(0,d-a):0,e.maxHeight=Math.min(a,d);else if(t[n.vertical]>d/2){const c=Math.min(d,n.vertical==="center"?t.center:n.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,d-e.top);if(e.left<0||e.left+i>r)if(e.maxWidth=Math.min(i,r),l.horizontal==="middle")e.left=t[n.horizontal]>r/2?Math.max(0,r-i):0;else if(t[n.horizontal]>r/2){const c=Math.min(r,n.horizontal==="middle"?t.middle:n.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(i,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(i,r-e.left)}const Kt=I({name:"QMenu",inheritAttrs:!1,props:{...Xe,...Ae,...We,...Ie,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Te},self:{type:String,validator:Te},offset:{type:Array,validator:Ot},scrollTarget:wt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ve,"click","escapeKey"],setup(e,{slots:t,emit:o,attrs:n}){let l=null,a,i,s;const d=R(),{proxy:r}=d,{$q:c}=r,v=k(null),p=k(!1),u=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),f=De(e,c),{registerTick:g,removeTick:S}=Oe(),{registerTimeout:A}=Le(),{transitionProps:V,transitionStyle:w}=Re(e),{localScrollTarget:C,changeScrollEvent:y,unconfigureScrollTarget:H}=zt(e,oe),{anchorEl:T,canShow:q}=Ye({showing:p}),{hide:P}=ze({showing:p,canShow:q,handleShow:te,handleHide:K,hideOnRouteChange:u,processOnMount:!0}),{showPortal:Z,hidePortal:J,renderPortal:z}=je(d,v,_,"menu"),j={anchorEl:T,innerRef:v,onClickOutside(m){if(e.persistent!==!0&&p.value===!0)return P(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&dt(m),!0}},ee=x(()=>Ce(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ce=x(()=>e.cover===!0?ee.value:Ce(e.self||"top start",c.lang.rtl)),de=x(()=>(e.square===!0?" q-menu--square":"")+(f.value===!0?" q-menu--dark q-dark":"")),M=x(()=>e.autoClose===!0?{onClick:N}:{}),Q=x(()=>p.value===!0&&e.persistent!==!0);B(Q,m=>{m===!0?(Ne(h),Qt(j)):(ue(h),Se(j))});function $(){Qe(()=>{let m=v.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function te(m){if(l=e.noRefocus===!1?document.activeElement:null,Ue(le),Z(),oe(),a=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const F=ct(m);if(F.left!==void 0){const{top:Je,left:et}=T.value.getBoundingClientRect();a={left:F.left-et,top:F.top-Je}}}i===void 0&&(i=B(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,b)),e.noFocus!==!0&&document.activeElement.blur(),g(()=>{b(),e.noFocus!==!0&&$()}),A(()=>{c.platform.is.ios===!0&&(s=e.autoClose,v.value.click()),b(),Z(!0),o("show",m)},e.transitionDuration)}function K(m){S(),J(),ne(!0),l!==null&&(m===void 0||m.qClickOutside!==!0)&&(((m&&m.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),A(()=>{J(!0),o("hide",m)},e.transitionDuration)}function ne(m){a=void 0,i!==void 0&&(i(),i=void 0),(m===!0||p.value===!0)&&(ge(le),H(),Se(j),ue(h)),m!==!0&&(l=null)}function oe(){(T.value!==null||e.scrollTarget!==void 0)&&(C.value=kt(T.value,e.scrollTarget),y(C.value,b))}function N(m){s!==!0?(_t(r,m),o("click",m)):s=!1}function le(m){Q.value===!0&&e.noFocus!==!0&&Me(v.value,m.target)!==!0&&$()}function h(m){o("escapeKey"),P(m)}function b(){Ze({targetEl:v.value,offset:e.offset,anchorEl:T.value,anchorOrigin:ee.value,selfOrigin:ce.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function _(){return E(he,V.value,()=>p.value===!0?E("div",{role:"menu",...n,ref:v,tabindex:-1,class:["q-menu q-position-engine scroll"+de.value,n.class],style:[n.style,w.value],...M.value},U(t.default)):null)}return Y(ne),Object.assign(r,{focus:$,updatePosition:b}),z}}),Nt=I({name:"QPopupProxy",props:{...Xe,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:o,attrs:n}){const{proxy:l}=R(),{$q:a}=l,i=k(!1),s=k(null),d=x(()=>parseInt(e.breakpoint,10)),{canShow:r}=Ye({showing:i});function c(){return a.screen.width<d.value||a.screen.height<d.value?"dialog":"menu"}const v=k(c()),p=x(()=>v.value==="menu"?{maxHeight:"99vh"}:{});B(()=>c(),g=>{i.value!==!0&&(v.value=g)});function u(g){i.value=!0,o("show",g)}function f(g){i.value=!1,v.value=c(),o("hide",g)}return Object.assign(l,{show(g){r(g)===!0&&s.value.show(g)},hide(g){s.value.hide(g)},toggle(g){s.value.toggle(g)}}),He(l,"currentComponent",()=>({type:v.value,ref:s.value})),()=>{const g={ref:s,...p.value,...n,onShow:u,onHide:f};let S;return v.value==="dialog"?S=At:(S=Kt,Object.assign(g,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),E(S,g,t.default)}}}),Gt=I({name:"QField",inheritAttrs:!1,props:{...qt,tag:{type:String,default:"label"}},emits:Et,setup(){return Tt(Ct({tagProp:!0}))}}),Ut={class:"self-center full-width no-outline ellipsis",tabindex:"0"},ln={__name:"GoalSelect",props:{modelValue:{type:Number,default:null},exceptId:{type:Number,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,n=e,l=x({get(){return n.modelValue},set(d){o("update:modelValue",d)}}),a=Bt(),i=x(()=>n.modelValue?a.getItem(n.modelValue).name:null);function s(d){return d.id!==n.exceptId}return(d,r)=>($e(),Fe(Gt,{modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=c=>l.value=c),clearable:"","clear-icon":"close"},{control:G(()=>[ft("div",Ut,mt(i.value),1)]),append:G(()=>[ie(ht,{name:"keyboard_arrow_down"})]),default:G(()=>[ie(Nt,{fit:"","auto-close":""},{default:G(()=>[ie(Ht,null,{default:G(()=>[ie(gt,{selected:l.value,"onUpdate:selected":r[0]||(r[0]=c=>l.value=c),nodes:vt(a).tree,filter:String(e.exceptId),"filter-method":s,"node-key":"id","label-key":"name",icon:"keyboard_arrow_right","no-selection-unset":"","default-expand-all":""},null,8,["selected","nodes","filter"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},an={__name:"DateInput",props:{modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,n=e,l=x({get(){return n.modelValue?n.modelValue.slice(0,10):null},set(a){o("update:modelValue",a?new Date(a).toISOString():null)}});return(a,i)=>($e(),Fe(Pt,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=s=>l.value=s),type:"date","stack-label":""},null,8,["modelValue"]))}};export{ln as _,an as a,on as u};
