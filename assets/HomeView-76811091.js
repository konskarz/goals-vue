import{u as Fe,a as Ae,b as Qe,Q as Ne}from"./use-dark-10577188.js";import{c as pe,g as Ve,H as Ye,$ as ve,j as L,h as C,G as ae,d as We,e as J,k as Be,W as U,L as je,Q as E,R as I,S as T,T as w,V as $,_ as ee,a0 as Q,U as X,a1 as Ue,X as re,Z as _e,Y as ye,a2 as P,a3 as te,E as $e,a4 as Xe,a5 as ze}from"./index-97d54637.js";import{Q as he}from"./QToggle-51cb3477.js";import{Q as Ze}from"./QSlideTransition-603d19a1.js";import{u as ne,d as q,Q as Ke}from"./TaskStore-99f70cbf.js";import{_ as Ge}from"./GoalSelect-a4d5dc67.js";import{Q as Je}from"./QIntersection-b4c37fe3.js";import{a as B,b as j,Q as et}from"./QItem-271798bf.js";import{Q as tt}from"./QLinearProgress-fc2970f6.js";import"./format-8c778330.js";import"./use-field-047a9057.js";import"./uid-6a237b22.js";import"./use-timeout-11393e83.js";import"./use-model-toggle-d688c4e8.js";const at=pe({name:"QTimeline",props:{...Fe,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:l=>["left","right"].includes(l)},layout:{type:String,default:"dense",validator:l=>["dense","comfortable","loose"].includes(l)}},setup(l,{slots:s}){const i=Ve(),n=Ae(l,i.proxy.$q);Ye(ve,l);const e=L(()=>`q-timeline q-timeline--${l.layout} q-timeline--${l.layout}--${l.side}`+(n.value===!0?" q-timeline--dark":""));return()=>C("ul",{class:e.value},ae(s.default))}}),rt=pe({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:l=>["left","right"].includes(l)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(l,{slots:s}){const i=We(ve,J);if(i===J)return console.error("QTimelineEntry needs to be child of QTimeline"),J;const n=L(()=>`q-timeline__entry q-timeline__entry--${l.side}`+(l.icon!==void 0||l.avatar!==void 0?" q-timeline__entry--icon":"")),e=L(()=>`q-timeline__dot text-${l.color||i.color}`),r=L(()=>i.layout==="comfortable"&&i.side==="left");return()=>{const o=Be(s.default,[]);if(l.body!==void 0&&o.unshift(l.body),l.heading===!0){const m=[C("div"),C("div"),C(l.tag,{class:"q-timeline__heading-title"},o)];return C("div",{class:"q-timeline__heading"},r.value===!0?m.reverse():m)}let u;l.icon!==void 0?u=[C(U,{class:"row items-center justify-center",name:l.icon})]:l.avatar!==void 0&&(u=[C("img",{class:"q-timeline__dot-img",src:l.avatar})]);const b=[C("div",{class:"q-timeline__subtitle"},[C("span",{},ae(s.subtitle,[l.subtitle]))]),C("div",{class:e.value},u),C("div",{class:"q-timeline__content"},[C("h6",{class:"q-timeline__title"},ae(s.title,[l.title]))].concat(o))];return C("li",{class:n.value},r.value===!0?b.reverse():b)}}});var ie={};(function l(s,i,n,e){var r=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL);function o(){}function u(a){var t=i.exports.Promise,f=t!==void 0?t:s.Promise;return typeof f=="function"?new f(a):(a(o,o),null)}var b=function(){var a=Math.floor(16.666666666666668),t,f,c={},v=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(g){var d=Math.random();return c[d]=requestAnimationFrame(function h(D){v===D||v+a-1<D?(v=D,delete c[d],g()):c[d]=requestAnimationFrame(h)}),d},f=function(g){c[g]&&cancelAnimationFrame(c[g])}):(t=function(g){return setTimeout(g,a)},f=function(g){return clearTimeout(g)}),{frame:t,cancel:f}}(),m=function(){var a,t,f={};function c(v){function g(d,h){v.postMessage({options:d||{},callback:h})}v.init=function(h){var D=h.transferControlToOffscreen();v.postMessage({canvas:D},[D])},v.fire=function(h,D,R){if(t)return g(h,null),t;var _=Math.random().toString(36).slice(2);return t=u(function(x){function O(y){y.data.callback===_&&(delete f[_],v.removeEventListener("message",O),t=null,R(),x())}v.addEventListener("message",O),g(h,_),f[_]=O.bind(null,{data:{callback:_}})}),t},v.reset=function(){v.postMessage({reset:!0});for(var h in f)f[h](),delete f[h]}}return function(){if(a)return a;if(!n&&r){var v=["var CONFETTI, SIZE = {}, module = {};","("+l.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([v])))}catch(g){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",g),null}c(a)}return a}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(a,t){return t?t(a):a}function F(a){return a!=null}function S(a,t,f){return M(a&&F(a[t])?a[t]:p[t],f)}function k(a){return a<0?0:Math.floor(a)}function N(a,t){return Math.floor(Math.random()*(t-a))+a}function V(a){return parseInt(a,16)}function be(a){return a.map(Se)}function Se(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:V(t.substring(0,2)),g:V(t.substring(2,4)),b:V(t.substring(4,6))}}function De(a){var t=S(a,"origin",Object);return t.x=S(t,"x",Number),t.y=S(t,"y",Number),t}function Me(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Ee(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function ke(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function Te(a,t,f,c,v,g,d,h,D){a.save(),a.translate(t,f),a.rotate(g),a.scale(c,v),a.arc(0,0,1,d,h,D),a.restore()}function we(a){var t=a.angle*(Math.PI/180),f=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*f-Math.random()*f),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar}}function Ie(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=t.wobbleSpeed,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var f=t.tick++/t.totalTicks,c=t.x+t.random*t.tiltCos,v=t.y+t.random*t.tiltSin,g=t.wobbleX+t.random*t.tiltCos,d=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-f)+")",a.beginPath(),t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(g-c)*t.ovalScalar,Math.abs(d-v)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):Te(a,t.x,t.y,Math.abs(g-c)*t.ovalScalar,Math.abs(d-v)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var h=Math.PI/2*3,D=4*t.scalar,R=8*t.scalar,_=t.x,x=t.y,O=5,y=Math.PI/O;O--;)_=t.x+Math.cos(h)*R,x=t.y+Math.sin(h)*R,a.lineTo(_,x),h+=y,_=t.x+Math.cos(h)*D,x=t.y+Math.sin(h)*D,a.lineTo(_,x),h+=y;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(v)),a.lineTo(Math.floor(g),Math.floor(d)),a.lineTo(Math.floor(c),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function Ce(a,t,f,c,v){var g=t.slice(),d=a.getContext("2d"),h,D,R=u(function(_){function x(){h=D=null,d.clearRect(0,0,c.width,c.height),v(),_()}function O(){n&&!(c.width===e.width&&c.height===e.height)&&(c.width=a.width=e.width,c.height=a.height=e.height),!c.width&&!c.height&&(f(a),c.width=a.width,c.height=a.height),d.clearRect(0,0,c.width,c.height),g=g.filter(function(y){return Ie(d,y)}),g.length?h=b.frame(O):x()}h=b.frame(O),D=x});return{addFettis:function(_){return g=g.concat(_),R},canvas:a,promise:R,reset:function(){h&&b.cancel(h),D&&D()}}}function oe(a,t){var f=!a,c=!!S(t||{},"resize"),v=S(t,"disableForReducedMotion",Boolean),g=r&&!!S(t||{},"useWorker"),d=g?m():null,h=f?Me:Ee,D=a&&d?!!a.__confetti_initialized:!1,R=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_;function x(y,Z,K){for(var A=S(y,"particleCount",k),Y=S(y,"angle",Number),W=S(y,"spread",Number),H=S(y,"startVelocity",Number),Pe=S(y,"decay",Number),Oe=S(y,"gravity",Number),xe=S(y,"drift",Number),le=S(y,"colors",be),Le=S(y,"ticks",Number),ue=S(y,"shapes"),Re=S(y,"scalar"),ce=De(y),de=A,G=[],He=a.width*ce.x,qe=a.height*ce.y;de--;)G.push(we({x:He,y:qe,angle:Y,spread:W,startVelocity:H,color:le[de%le.length],shape:ue[N(0,ue.length)],ticks:Le,decay:Pe,gravity:Oe,drift:xe,scalar:Re}));return _?_.addFettis(G):(_=Ce(a,G,h,Z,K),_.promise)}function O(y){var Z=v||S(y,"disableForReducedMotion",Boolean),K=S(y,"zIndex",Number);if(Z&&R)return u(function(H){H()});f&&_?a=_.canvas:f&&!a&&(a=ke(K),document.body.appendChild(a)),c&&!D&&h(a);var A={width:a.width,height:a.height};d&&!D&&d.init(a),D=!0,d&&(a.__confetti_initialized=!0);function Y(){if(d){var H={getBoundingClientRect:function(){if(!f)return a.getBoundingClientRect()}};h(H),d.postMessage({resize:{width:H.width,height:H.height}});return}A.width=A.height=null}function W(){_=null,c&&s.removeEventListener("resize",Y),f&&a&&(document.body.removeChild(a),a=null,D=!1)}return c&&s.addEventListener("resize",Y,!1),d?d.fire(y,A,W):x(y,A,W)}return O.reset=function(){d&&d.reset(),_&&_.reset()},O}var z;function se(){return z||(z=oe(null,{useWorker:!0,resize:!0})),z}i.exports=function(){return se().apply(this,arguments)},i.exports.reset=function(){se().reset()},i.exports.create=oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ie,!1);const fe=ie.exports;ie.exports.create;function me(){var l=3e3,s=Date.now()+l,i={startVelocity:30,spread:360,ticks:60,zIndex:0,disableForReducedMotion:!0};function n(r,o){return Math.random()*(o-r)+r}var e=setInterval(function(){var r=s-Date.now();if(r<=0)return clearInterval(e);var o=100*(r/l);fe(Object.assign({},i,{particleCount:o,origin:{x:n(.1,.3),y:Math.random()-.2}})),fe(Object.assign({},i,{particleCount:o,origin:{x:n(.7,.9),y:Math.random()-.2}}))},250)}const nt={__name:"TaskListItem",props:{task:{type:Object,required:!0}},emits:["ondragstart"],setup(l,{emit:s}){const i=l,n=je(),e=ne(),r=L(()=>i.task.target>1&&!i.task.done),o=L(()=>r.value?i.task.performance/i.task.target:0),u=L(()=>[i.task.performance,"of",i.task.target].join(" ")),b=L(()=>{const k=i.task.performance_history;return k&&k.length?q.formatDate(k[0].updated,"DD.MM.YYYY HH:mm"):null});function m(){n.push({name:"task",params:{id:i.task.id}})}function p(){const k={done:null};i.task.performance>=i.task.target&&(k.performance=i.task.target-1),e.updateItem(i.task.id+"/",k).then(()=>e.refetch())}function M(){const k={performance:i.task.performance+1};k.performance>=i.task.target&&me(),e.updateItem(i.task.id+"/",k).then(()=>e.refetch())}function F(){const k={done:new Date().toISOString()};me(),e.updateItem(i.task.id+"/",k).then(()=>e.refetch())}function S(k){s("ondragstart",k,i.task)}return(k,N)=>(E(),I(et,{clickable:"",active:!!l.task.done,"active-class":"text-positive"},{default:T(()=>[l.task.group_id?(E(),I(B,{key:0,thumbnail:""},{default:T(()=>[w(U,{name:"event_repeat"})]),_:1})):(E(),I(B,{key:1,thumbnail:"",style:{cursor:"grab"},draggable:"true",onDragstart:S,"onTouchmove:native":N[0]||(N[0]=V=>{})},{default:T(()=>[w(U,{name:"drag_indicator"})]),_:1})),w(B,{onClick:m},{default:T(()=>[w(j,null,{default:T(()=>[$(ee(l.task.name),1)]),_:1}),r.value?(E(),I(j,{key:0,caption:""},{default:T(()=>[$(ee(u.value),1)]),_:1})):Q("",!0),r.value?(E(),I(j,{key:1},{default:T(()=>[w(tt,{value:o.value,color:"positive"},null,8,["value"])]),_:1})):Q("",!0),r.value&&b.value?(E(),I(j,{key:2,caption:""},{default:T(()=>[w(U,{name:"update",class:"vertical-top"}),$(" "+ee(b.value),1)]),_:1})):Q("",!0)]),_:1}),w(B,{avatar:""},{default:T(()=>[l.task.done?(E(),I(X,{key:0,flat:"",round:"",icon:"check_box",onClick:p})):r.value?(E(),I(X,{key:1,flat:"",round:"",icon:"plus_one",onClick:M})):(E(),I(X,{key:2,flat:"",round:"",icon:"check_box_outline_blank",onClick:F}))]),_:1})]),_:1},8,["active"]))}};var ge;(function(l){var s=function(){function n(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(n.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),n.prototype.clearData=function(e){e!=null?delete this._data[e]:this._data=null},n.prototype.getData=function(e){return this._data[e]||""},n.prototype.setData=function(e,r){this._data[e]=r},n.prototype.setDragImage=function(e,r,o){var u=i._instance;u._imgCustom=e,u._imgOffset={x:r,y:o}},n}();l.DataTransfer=s;var i=function(){function n(){if(this._lastClick=0,n._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var r=document,o=this._touchstart.bind(this),u=this._touchmove.bind(this),b=this._touchend.bind(this),m=e?{passive:!1,capture:!1}:!1;r.addEventListener("touchstart",o,m),r.addEventListener("touchmove",u,m),r.addEventListener("touchend",b),r.addEventListener("touchcancel",b)}}return n.getInstance=function(){return n._instance},n.prototype._touchstart=function(e){var r=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<n._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target)){e.cancelable&&e.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(e.target);o&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=o,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout(function(){r._dragSource==o&&r._img==null&&r._dispatchEvent(e,"contextmenu",o)&&r._reset()},n._CTXMENU),n._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){r._isDragEnabled=!0,r._touchmove(e)},n._PRESSHOLDAWAIT)))}},n.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e)){this._reset();return}if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var r=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",r)){this._lastTouch=e,e.cancelable&&e.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",r)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),r!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",r),this._lastTarget=r),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",r))}},n.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target)){e.cancelable&&e.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},n.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},n.prototype._shouldHandleMove=function(e){return!n._ISPRESSHOLDMODE&&this._shouldHandle(e)},n.prototype._shouldHandlePressHoldMove=function(e){return n._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},n.prototype._shouldCancelPressHoldMove=function(e){return n._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>n._PRESSHOLDMARGIN},n.prototype._shouldStartDragging=function(e){var r=this._getDelta(e);return r>n._THRESHOLD||n._ISPRESSHOLDMODE&&r>=n._PRESSHOLDTHRESHOLD},n.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new s,clearInterval(this._pressHoldInterval)},n.prototype._getPoint=function(e,r){return e&&e.touches&&(e=e.touches[0]),{x:r?e.pageX:e.clientX,y:r?e.pageY:e.clientY}},n.prototype._getDelta=function(e){if(n._ISPRESSHOLDMODE&&!this._ptDown)return 0;var r=this._getPoint(e);return Math.abs(r.x-this._ptDown.x)+Math.abs(r.y-this._ptDown.y)},n.prototype._getTarget=function(e){for(var r=this._getPoint(e),o=document.elementFromPoint(r.x,r.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},n.prototype._createImage=function(e){this._img&&this._destroyImage();var r=this._imgCustom||this._dragSource;if(this._img=r.cloneNode(!0),this._copyStyle(r,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=r.getBoundingClientRect(),u=this._getPoint(e);this._imgOffset={x:u.x-o.left,y:u.y-o.top},this._img.style.opacity=n._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},n.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},n.prototype._moveImage=function(e){var r=this;requestAnimationFrame(function(){if(r._img){var o=r._getPoint(e,!0),u=r._img.style;u.position="absolute",u.pointerEvents="none",u.zIndex="999999",u.left=Math.round(o.x-r._imgOffset.x)+"px",u.top=Math.round(o.y-r._imgOffset.y)+"px"}})},n.prototype._copyProps=function(e,r,o){for(var u=0;u<o.length;u++){var b=o[u];e[b]=r[b]}},n.prototype._copyStyle=function(e,r){if(n._rmvAtts.forEach(function(M){r.removeAttribute(M)}),e instanceof HTMLCanvasElement){var o=e,u=r;u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0)}for(var b=getComputedStyle(e),m=0;m<b.length;m++){var p=b[m];p.indexOf("transition")<0&&(r.style[p]=b[p])}r.style.pointerEvents="none";for(var m=0;m<e.children.length;m++)this._copyStyle(e.children[m],r.children[m])},n.prototype._dispatchEvent=function(e,r,o){if(e&&o){var u=document.createEvent("Event"),b=e.touches?e.touches[0]:e;return u.initEvent(r,!0,!0),u.button=0,u.which=u.buttons=1,this._copyProps(u,e,n._kbdProps),this._copyProps(u,b,n._ptProps),u.dataTransfer=this._dataTransfer,o.dispatchEvent(u),u.defaultPrevented}return!1},n.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},n}();i._instance=new i,i._THRESHOLD=5,i._OPACITY=.5,i._DBLCLICK=500,i._CTXMENU=900,i._ISPRESSHOLDMODE=!1,i._PRESSHOLDAWAIT=400,i._PRESSHOLDMARGIN=25,i._PRESSHOLDTHRESHOLD=0,i._rmvAtts="id,class,style,draggable".split(","),i._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),i._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),l.DragDropTouch=i})(ge||(ge={}));const it={key:0},ot={__name:"WeekTimelineEntry",props:{tasks:{type:Array,required:!0},monday:{type:String,required:!0}},setup(l){const s=l,i=ne(),n=L(()=>s.tasks.length?[...s.tasks].sort((m,p)=>p.target-m.target):null),e=L(()=>{const m=q.subtractFromDate(s.monday,{days:1}),p=q.addToDate(s.monday,{days:6}),M=S=>q.formatDate(S,"MMMM"),F=M(s.monday);return F!==M(m)||F!==M(p)}),r=q.formatDate(s.monday,"w-Q-YYYY-MMM D").split("-"),o=["Week "+r[0],"Q"+r[1],r[2],r[3]].join(" Â· ");function u(m,p){const M={id:p.id,day:q.getDayOfWeek(p.planned),week:r[0]};m.dataTransfer.setData("text",JSON.stringify(M)),m.dataTransfer.dropEffect="move"}function b(m){const p=JSON.parse(m.dataTransfer.getData("text"));if(p.week===r[0])return;const M={planned:q.addToDate(s.monday,{days:p.day-1}).toISOString()};i.updateItem(p.id+"/",M).then(()=>i.refetch())}return(m,p)=>(E(),I(rt,{color:l.monday===P(i).currentWeek?"orange":"primary",subtitle:P(o),icon:e.value?"calendar_month":void 0,onDragover:p[0]||(p[0]=te(()=>{},["prevent"])),onDragenter:p[1]||(p[1]=te(()=>{},["prevent"])),onDrop:p[2]||(p[2]=te(M=>b(M),["prevent"]))},{default:T(()=>[n.value?(E(),re("div",it,[(E(!0),re(_e,null,ye(n.value,M=>(E(),I(Je,{key:M.id,class:"task-list-item",once:""},{default:T(()=>[w(nt,{task:M,onOndragstart:u},null,8,["task"])]),_:2},1024))),128))])):Q("",!0)]),_:1},8,["color","subtitle","icon"]))}},st=Ue(ot,[["__scopeId","data-v-d135276a"]]),lt={class:"row q-pl-lg q-pr-sm"},Mt={__name:"HomeView",setup(l){const s=ne();return(i,n)=>(E(),I(Ke,null,{default:T(()=>[w(Ne,{class:"q-mt-md q-pl-lg"},{default:T(()=>[w(Qe,null,{default:T(()=>[$("Plan")]),_:1}),w(X,{flat:"",round:"",icon:"filter_list",onClick:n[0]||(n[0]=e=>P(s).filter.show=!P(s).filter.show)})]),_:1}),w(Ze,null,{default:T(()=>[$e(ze("div",lt,[w(Ge,{modelValue:P(s).filter.goal,"onUpdate:modelValue":n[1]||(n[1]=e=>P(s).filter.goal=e),label:"For Goal",borderless:i.$q.screen.gt.xs,dense:"",class:"col-xs-12 col-sm-4 q-pb-md q-pr-md"},null,8,["modelValue","borderless"]),w(he,{modelValue:P(s).filter.done,"onUpdate:modelValue":n[2]||(n[2]=e=>P(s).filter.done=e),label:"Show passed done",dense:"",class:"col-xs-12 col-sm-auto q-pb-md q-pr-md"},null,8,["modelValue"]),w(he,{modelValue:P(s).filter.recurring,"onUpdate:modelValue":n[3]||(n[3]=e=>P(s).filter.recurring=e),label:"Show passed recurring",dense:"",class:"col-xs-12 col-sm-auto q-pb-md q-pr-md"},null,8,["modelValue"])],512),[[Xe,P(s).filter.show]])]),_:1}),P(s).calendar?(E(),I(at,{key:0,class:"q-pl-lg"},{default:T(()=>[(E(!0),re(_e,null,ye(P(s).calendar,(e,r)=>(E(),I(st,{key:r,tasks:e,monday:r},null,8,["tasks","monday"]))),128))]),_:1})):Q("",!0)]),_:1}))}};export{Mt as default};
