import{c as m,j as p,h as f,G as _,aB as Q,aC as k,g as B,M as C,N as V,P as S,r as g,R as c,X as T,S as q,T as t,U as a,aD as z,W as A,_ as b,V as U,a6 as D,ad as y,am as I}from"./index-7ce8a7d6.js";import{a as N,Q as P}from"./QToolbar-71a58ea8.js";import{Q as h,a as $}from"./QForm-5a376e63.js";import{u as L,a as R}from"./use-dark-7e67962c.js";import"./use-field-ea5d68d2.js";import"./uid-6a237b22.js";import"./focus-manager-4e5c0bab.js";const w=m({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const s=p(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>f(e.tag,{class:s.value},_(o.default))}}),F=m({name:"QCardActions",props:{...Q,vertical:Boolean},setup(e,{slots:o}){const s=k(e),l=p(()=>`q-card__actions ${s.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>f("div",{class:l.value},_(o.default))}}),M=m({name:"QCard",props:{...L,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:o}){const{proxy:{$q:s}}=B(),l=R(e,s),r=p(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>f(e.tag,{class:r.value},_(o.default))}}),j={class:"fullscreen bg-blue flex flex-center"},E=y("img",{src:"icons/favicon.ico"},null,-1),G=y("div",{class:"text-caption text-grey text-center"},"demo/demofirst daily data refresh",-1),Z={__name:"LoginView",setup(e){const o=C(),s=V(),l=S();l.loggedIn&&o.push(s.query.next?s.query.next:"/");const r=g({username:"",password:""}),d=g(!1);function x(){!r.value.username||!r.value.password||(d.value=!0,l.login(r.value).then(n=>{n&&n.token?(l.setToken(n.token),o.push(s.query.next)):d.value=!1}))}function v(n){return!!n||"Field is required"}return(n,u)=>(c(),T("div",j,[d.value?(c(),q(I,{key:0,color:"primary",size:"3em"})):(c(),q(M,{key:1,style:{width:"20rem"}},{default:t(()=>[a(P,{class:"bg-primary text-white"},{default:t(()=>[a(z,{size:"xs",square:""},{default:t(()=>[E]),_:1}),a(N,null,{default:t(()=>[A("LifeTrackerBuddy")]),_:1})]),_:1}),a($,{onSubmit:D(x,["prevent"])},{default:t(()=>[a(w,null,{default:t(()=>[a(h,{modelValue:r.value.username,"onUpdate:modelValue":u[0]||(u[0]=i=>r.value.username=i),label:"Username",rules:[v]},{prepend:t(()=>[a(b,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),a(h,{modelValue:r.value.password,"onUpdate:modelValue":u[1]||(u[1]=i=>r.value.password=i),type:"password",label:"Password",rules:[v]},{prepend:t(()=>[a(b,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),a(w,{class:"q-pt-none"},{default:t(()=>[G]),_:1}),a(F,{class:"q-pa-md"},{default:t(()=>[a(U,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{Z as default};
