import{r as c,a3 as g,f as v,a7 as b,a1 as h,aw as V,a_ as I,b3 as k}from"./index-716ec7b4.js";function _(t,e,n){const a=c(t?{...e.getItem(t)}:n),l=c(t+"/"),u=c(!1),o=t?{...a.value}:null,r=g();function s(){r.back()}function m(){e.createItem(a.value).then(()=>{e.refetch(),s()})}function p(){const d=e.getChanges(o,{...a.value});e.updateItem(l.value,d).then(()=>{e.refetch(),s()})}function f(){u.value=!0,e.deleteItem(l.value).then(()=>{e.refetch(),s()})}function i(){u.value=!0,t?p():m()}return{item:a,original:o,path:l,persist:u,remove:f,save:i,back:s}}const y={__name:"DateInput",props:{label:{type:String,required:!0},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,a=v({get(){return n.modelValue?n.modelValue.slice(0,10):null},set(l){e("update:modelValue",l?new Date(l).toISOString():null)}});return(l,u)=>(b(),h(k,{modelValue:V(a),"onUpdate:modelValue":u[0]||(u[0]=o=>I(a)?a.value=o:null),type:"date",label:t.label,"stack-label":""},null,8,["modelValue","label"]))}};export{y as _,_ as u};
