import{r as m,a3 as v,f as V,a7 as I,a1 as k,aF as y,aG as O,a_ as S}from"./index-29616774.js";function j(t,e,u){const a=m(t?{...e.getItem(t)}:u),l=m(t+"/"),n=m(!1),r=t?{...a.value}:null,i=v();function f(o,c){return Object.fromEntries(Object.entries(c).filter(([g,h])=>o[g]!==h))}function p(o,c){return Object.keys(f(o,c)).length}function s(){i.back()}function d(){n.value=!0,e.deleteItem(l.value).then(()=>{e.refetch(),s()})}function b(){n.value=!0,t?e.updateItem(l.value,f(r,{...a.value})).then(()=>{e.refetch(),s()}):e.createItem(a.value).then(()=>{e.refetch(),s()})}return{item:a,original:r,path:l,persist:n,changed:p,remove:d,save:b,back:s}}const x={__name:"DateInput",props:{label:{type:String,required:!0},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(t,{emit:e}){const u=t,a=V({get(){return u.modelValue?u.modelValue.slice(0,10):null},set(l){e("update:modelValue",l?new Date(l).toISOString():null)}});return(l,n)=>(I(),k(S,{modelValue:y(a),"onUpdate:modelValue":n[0]||(n[0]=r=>O(a)?a.value=r:null),type:"date",label:t.label,"stack-label":""},null,8,["modelValue","label"]))}};export{x as _,j as u};
