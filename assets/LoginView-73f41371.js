import{c,j as m,h as p,G as f,aF as h,aG as k,g as y,L as x,M as B,r as v,O as i,U as C,P as g,Q as r,R as s,aH as V,T as S,X as q,S as T,ag as z,ae as A,as as L}from"./index-b2676af8.js";import{u as P,a as U,b as $,Q as D,c as b}from"./api.client-801858a5.js";import{Q as w,a as F}from"./QForm-a9c452d1.js";import"./uid-6a237b22.js";import"./use-form-6018fbb9.js";const I=c({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:o.value},f(t.default))}}),N=c({name:"QCardActions",props:{...h,vertical:Boolean},setup(e,{slots:t}){const o=k(e),a=m(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:a.value},f(t.default))}}),R=c({name:"QCard",props:{...P,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=y(),a=U(e,o),n=m(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:n.value},f(t.default))}}),G={class:"fullscreen bg-blue flex flex-center"},M=A("img",{src:"icons/favicon.ico"},null,-1),J={__name:"LoginView",setup(e){const t=x(),o=B(),a=v({username:"",password:""}),n=v(!1);function Q(){!a.value.username||!a.value.password||(n.value=!0,b.create("/api-token-auth/",a.value).then(l=>{l&&l.token?(b.setAuthToken(l.token),t.push(o.query.next)):n.value=!1}))}function _(l){return!!l||"Field is required"}return(l,u)=>(i(),C("div",G,[n.value?(i(),g(L,{key:0,color:"primary",size:"3em"})):(i(),g(R,{key:1,style:{width:"20rem"}},{default:r(()=>[s(D,{class:"bg-primary text-white"},{default:r(()=>[s(V,{size:"xs",square:""},{default:r(()=>[M]),_:1}),s($,null,{default:r(()=>[S("LifeTrackerBuddy")]),_:1})]),_:1}),s(F,{onSubmit:z(Q,["prevent"])},{default:r(()=>[s(I,null,{default:r(()=>[s(w,{modelValue:a.value.username,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value.username=d),label:"Username",rules:[_]},{prepend:r(()=>[s(q,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),s(w,{modelValue:a.value.password,"onUpdate:modelValue":u[1]||(u[1]=d=>a.value.password=d),type:"password",label:"Password",rules:[_]},{prepend:r(()=>[s(q,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),s(N,{class:"q-pa-md"},{default:r(()=>[s(T,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{J as default};
