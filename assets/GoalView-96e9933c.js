import{Q as y,a as Q}from"./QToolbar-5c4eb316.js";import{f as C,a1 as m,a2 as n,a4 as g,a7 as p,a8 as o,aa as w,aw as e,a9 as i,ay as x,aG as c,b3 as b,b9 as B,aH as N}from"./index-52896586.js";import{Q as q}from"./QForm-81ae9ad4.js";import{a as G,Q as P}from"./GoalStore-74e108f3.js";import{u as T,_ as U}from"./DateInput-42ee6451.js";import{_ as I}from"./GoalSelect-abe5b0c5.js";import"./QItem-4de8b7a5.js";import"./QItemLabel-f95f7916.js";import"./QMenu-f314d073.js";import"./format-ff5bcb16.js";const K={class:"q-pa-md"},S={class:"row q-col-gutter-lg"},O={__name:"GoalView",setup(F){const f=g(),r=G(),s=parseInt(f.params.id),{item:a,original:V,persist:u,remove:_,save:k,back:d}=T(s,r,{name:"",parent:null,planned:null,description:""}),v=C(()=>!a.value.name||u.value||Boolean(s&&!r.isChanged(V,{...a.value})));return($,t)=>(p(),m(P,{padding:""},{default:n(()=>[o(q,{onSubmit:N(e(k),["prevent"])},{default:n(()=>[o(y,null,{default:n(()=>[o(Q,null,{default:n(()=>[w("Goal")]),_:1}),e(s)?(p(),m(i,{key:0,type:"button",flat:"",round:"",icon:"delete",disable:e(u),onClick:e(_)},null,8,["disable","onClick"])):x("",!0),o(i,{type:"submit",flat:"",round:"",icon:"save",disable:e(v)},null,8,["disable"]),o(i,{type:"button",flat:"",round:"",icon:"clear",onClick:e(d)},null,8,["onClick"])]),_:1}),c("div",K,[o(b,{modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).name=l),label:"Name","stack-label":"",autofocus:!e(s),rules:[l=>!!l||"Field is required"],onKeyup:B(e(d),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),c("div",S,[o(I,{modelValue:e(a).parent,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).parent=l),label:"Parent","stack-label":"","option-disable-id":e(s),class:"col-12 col-sm-6"},null,8,["modelValue","option-disable-id"]),o(U,{modelValue:e(a).planned,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).planned=l),label:"Planned",class:"col-12 col-sm-6"},null,8,["modelValue"])]),o(b,{modelValue:e(a).description,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).description=l),type:"textarea",label:"Description","stack-label":"",class:"q-pt-md"},null,8,["modelValue"])])]),_:1},8,["onSubmit"])]),_:1}))}};export{O as default};
