import{b as _}from"./use-dark-8a5054c0.js";import{j as x,Q as m,R as p,S as n,T as t,V as C,a5 as e,U as r,a2 as g,ae as q,a7 as y,a4 as Q}from"./index-97c6f140.js";import{Q as c,a as w}from"./QForm-ac26dbe6.js";import{a as B,M as N}from"./MainPage-a76275de.js";import{u as S,_ as U}from"./DateInput-a71420c4.js";import{_ as P}from"./GoalSelect-e466fac7.js";import"./use-field-02d6ca7b.js";import"./uid-6a237b22.js";import"./format-8c778330.js";import"./QSlideTransition-3420697b.js";import"./use-timeout-eb032dbe.js";import"./use-model-toggle-5d9f3074.js";const T={class:"row q-col-gutter-lg"},L={__name:"GoalView",props:{id:{type:String,required:!0}},setup(f){const s=parseInt(f.id),{item:l,original:b,persist:i,changed:V,remove:k,save:u,back:d}=S(s,B(),{name:"",parent:null,planned:null,description:""}),v=x(()=>!l.value.name||i.value||!!(s&&!V(b,{...l.value})));return(I,o)=>(m(),p(N,null,{toolbar:n(()=>[t(_,null,{default:n(()=>[C("Goal")]),_:1}),e(s)?(m(),p(r,{key:0,flat:"",round:"",icon:"delete",disable:e(i),onClick:e(k)},null,8,["disable","onClick"])):g("",!0),t(r,{flat:"",round:"",icon:"save",disable:v.value,onClick:e(u)},null,8,["disable","onClick"]),t(r,{flat:"",round:"",icon:"clear",onClick:e(d)},null,8,["onClick"])]),default:n(()=>[t(w,{class:"q-pt-sm q-px-lg",onSubmit:Q(e(u),["prevent"])},{default:n(()=>[t(c,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(l).name=a),label:"Name","stack-label":"",autofocus:!e(s),rules:[a=>!!a||"Field is required"],onKeyup:q(e(d),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),y("div",T,[t(P,{modelValue:e(l).parent,"onUpdate:modelValue":o[1]||(o[1]=a=>e(l).parent=a),label:"Parent","stack-label":"","except-id":e(s),class:"col-12 col-sm-6"},null,8,["modelValue","except-id"]),t(U,{modelValue:e(l).planned,"onUpdate:modelValue":o[2]||(o[2]=a=>e(l).planned=a),label:"Planned",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(c,{modelValue:e(l).description,"onUpdate:modelValue":o[3]||(o[3]=a=>e(l).description=a),type:"textarea",label:"Description","stack-label":"",class:"q-pt-md"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),_:1}))}};export{L as default};
