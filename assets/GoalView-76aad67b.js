import{Q as y,c as Q}from"./uid-2ebae8e4.js";import{a1 as x,j as q,P as i,R as m,S as n,T as o,U as C,W as e,a4 as u,$ as w,ad as p,ae as B,a8 as N}from"./index-85a0dd34.js";import{Q as c,a as P}from"./QForm-c2bda156.js";import{Q as T,_ as U}from"./GoalSelect-f721039d.js";import{n as S}from"./QSlideTransition-76b75ac4.js";import{u as G,_ as I}from"./DateInput-ad8f1b4f.js";import"./use-field-f1533b16.js";const K={class:"q-px-lg q-py-sm"},$={class:"row q-col-gutter-lg"},H={__name:"GoalView",setup(F){const f=x(),b=S(),s=parseInt(f.params.id),{item:l,original:V,persist:r,changed:_,remove:k,save:g,back:d}=G(s,b,{name:"",parent:null,planned:null,description:""}),v=q(()=>!l.value.name||r.value||!!(s&&!_(V,{...l.value})));return(R,t)=>(i(),m(T,null,{default:n(()=>[o(P,{onSubmit:N(e(g),["prevent"])},{default:n(()=>[o(y,{class:"q-mt-md q-pl-lg"},{default:n(()=>[o(Q,null,{default:n(()=>[C("Goal")]),_:1}),e(s)?(i(),m(u,{key:0,type:"button",flat:"",round:"",icon:"delete",disable:e(r),onClick:e(k)},null,8,["disable","onClick"])):w("",!0),o(u,{type:"submit",flat:"",round:"",icon:"save",disable:e(v)},null,8,["disable"]),o(u,{type:"button",flat:"",round:"",icon:"clear",onClick:e(d)},null,8,["onClick"])]),_:1}),p("div",K,[o(c,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),label:"Name","stack-label":"",autofocus:!e(s),rules:[a=>!!a||"Field is required"],onKeyup:B(e(d),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),p("div",$,[o(U,{modelValue:e(l).parent,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).parent=a),label:"Parent","stack-label":"","except-id":e(s),class:"col-12 col-lg-6"},null,8,["modelValue","except-id"]),o(I,{modelValue:e(l).planned,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).planned=a),label:"Planned",class:"col-12 col-lg-6"},null,8,["modelValue"])]),o(c,{modelValue:e(l).description,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).description=a),type:"textarea",label:"Description","stack-label":"",class:"q-pt-md"},null,8,["modelValue"])])]),_:1},8,["onSubmit"])]),_:1}))}};export{H as default};
