import{c as $,d as x,e as i,f as I,h as P,S,g as j,k as q,V as E,aI as O,aJ as H}from"./index-52896586.js";const z=$({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(n,{slots:s}){const{proxy:{$q:e}}=j(),r=x(q,i);if(r===i)return console.error("QPage needs to be a deep child of QLayout"),i;if(x(E,i)===i)return console.error("QPage needs to be child of QPageContainer"),i;const c=I(()=>{const o=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof n.styleFn=="function"){const l=r.isContainer.value===!0?r.containerHeight.value:e.screen.height;return n.styleFn(o,l)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-o+"px":e.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":e.screen.height-o+"px"}}),u=I(()=>`q-page${n.padding===!0?" q-layout-padding":""}`);return()=>P("main",{class:u.value,style:c.value},S(s.default))}});function L(n){const{post:s,patch:e,remove:r,query:d}=O(),{isLoading:c,isError:u,data:o,error:l,refetch:p}=d(n);function m(t){return o.value.find(a=>a.id===t)}function y(t){return o.value.indexOf(t)}function v(t){return s(n,t)}function C(t,a){return e(n+t,a)}function f(t){return r(n+t)}function g(t,a){return Object.fromEntries(Object.entries(a).filter(([b,F])=>t[b]!==F))}function h(t,a){return Object.keys(g(t,a)).length}return{isLoading:c,isError:u,data:o,error:l,refetch:p,getItem:m,getIndex:y,createItem:v,updateItem:C,deleteItem:f,getChanges:g,isChanged:h}}const Q=(n,s=null)=>n.filter(e=>e.parent===s).map(e=>({...e,children:Q(n,e.id)})),B=H("GoalStore",()=>{const{isLoading:n,isError:s,data:e,error:r,refetch:d,getItem:c,getIndex:u,createItem:o,updateItem:l,deleteItem:p,getChanges:m,isChanged:y}=L("/goals/"),v=I(()=>e.value?Q(e.value):null);function C(f){const g=[f],h=t=>e.value.filter(a=>a.parent===t).forEach(a=>{g.push(a.id),h(a.id)});return h(f),g}return{isLoading:n,isError:s,data:e,error:r,refetch:d,getItem:c,getIndex:u,createItem:o,updateItem:l,deleteItem:p,getChanges:m,isChanged:y,tree:v,getBranch:C}});export{z as Q,B as a,L as u};
