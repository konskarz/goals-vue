import{r as $,i as lt,o as re,c as j,g as R,a as K,n as Ee,b as me,h as C,l as Be,d as Z,e as L,f as ee,j as v,w as T,k as wt,m as _t,p as le,q as qt,s as de,t as _e,u as De,v as qe,x as Me,y as Ce,z as Ct,A as $t,B as xt,C as kt,D as ot,E as He,F as Re,G as be,T as Tt,H as nt,I as rt,J as fe,K as Pt,_ as Ot,L as Lt,M as Bt,N as Mt,O as Ht,P as Qt,Q as oe,R as $e,S as P,U as k,V as ve,W as he,X as Fe,Y as Ne,Z as xe,$ as We,a0 as je,a1 as Et,a2 as Vt,a3 as At,a4 as Dt}from"./index-325c1935.js";import{u as it,a as ut,Q as Ie,b as Rt}from"./use-dark-49206753.js";import{Q as ke,a as J,b as Ft}from"./QItemLabel-3044a0c7.js";import{Q as Xe}from"./QList-c2657444.js";import{s as Nt,g as st,a as Wt,b as jt,c as It,d as Te,e as Qe,u as Xt,f as Ut,h as Yt,i as Pe}from"./use-timeout-18664a60.js";import{b as Y}from"./format-8c778330.js";import{u as Kt,a as Gt,b as Jt}from"./use-model-toggle-e4b7c314.js";function Zt(){const e=$(!lt.value);return e.value===!1&&re(()=>{e.value=!0}),{isHydrated:e}}const ct=typeof ResizeObserver<"u",Ue=ct===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},ie=j({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:s}){let n=null,r,t={width:-1,height:-1};function l(d){d===!0||e.debounce===0||e.debounce==="0"?o():n===null&&(n=setTimeout(o,e.debounce))}function o(){if(n!==null&&(clearTimeout(n),n=null),r){const{offsetWidth:d,offsetHeight:c}=r;(d!==t.width||c!==t.height)&&(t={width:d,height:c},s("resize",t))}}const{proxy:a}=R();if(a.trigger=l,ct===!0){let d;const c=i=>{r=a.$el.parentNode,r?(d=new ResizeObserver(l),d.observe(r),o()):i!==!0&&me(()=>{c(!0)})};return re(()=>{c()}),K(()=>{n!==null&&clearTimeout(n),d!==void 0&&(d.disconnect!==void 0?d.disconnect():r&&d.unobserve(r))}),Ee}else{let i=function(){n!==null&&(clearTimeout(n),n=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",l,Be.passive),c=void 0)},b=function(){i(),r&&r.contentDocument&&(c=r.contentDocument.defaultView,c.addEventListener("resize",l,Be.passive),o())};const{isHydrated:d}=Zt();let c;return re(()=>{me(()=>{r=a.$el,r&&b()})}),K(i),()=>{if(d.value===!0)return C("object",{class:"q--avoid-card-border",style:Ue.style,tabindex:-1,type:"text/html",data:Ue.url,"aria-hidden":"true",onLoad:b})}}}}),ea=j({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:n}){const{proxy:{$q:r}}=R(),t=Z(ee,L);if(t===L)return console.error("QHeader needs to be child of QLayout"),L;const l=$(parseInt(e.heightHint,10)),o=$(!0),a=v(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||r.platform.is.ios&&t.isContainer.value===!0),d=v(()=>{if(e.modelValue!==!0)return 0;if(a.value===!0)return o.value===!0?l.value:0;const y=l.value-t.scroll.value.position;return y>0?y:0}),c=v(()=>e.modelValue!==!0||a.value===!0&&o.value!==!0),i=v(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),b=v(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),m=v(()=>{const y=t.rows.value.top,B={};return y[0]==="l"&&t.left.space===!0&&(B[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),y[2]==="r"&&t.right.space===!0&&(B[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),B});function h(y,B){t.update("header",y,B)}function g(y,B){y.value!==B&&(y.value=B)}function z({height:y}){g(l,y),h("size",y)}function x(y){i.value===!0&&g(o,!0),n("focusin",y)}T(()=>e.modelValue,y=>{h("space",y),g(o,!0),t.animate()}),T(d,y=>{h("offset",y)}),T(()=>e.reveal,y=>{y===!1&&g(o,e.modelValue)}),T(o,y=>{t.animate(),n("reveal",y)}),T(t.scroll,y=>{e.reveal===!0&&g(o,y.direction==="up"||y.position<=e.revealOffset||y.position-y.inflectionPoint<100)});const _={};return t.instances.header=_,e.modelValue===!0&&h("size",l.value),h("space",e.modelValue),h("offset",d.value),K(()=>{t.instances.header===_&&(t.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const y=wt(s.default,[]);return e.elevated===!0&&y.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y.push(C(ie,{debounce:0,onResize:z})),C("header",{class:b.value,style:m.value,onFocusin:x},y)}}}),{passive:Ye}=Be,ta=["both","horizontal","vertical"],dt=j({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ta.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Nt},emits:["scroll"],setup(e,{emit:s}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,t,l;T(()=>e.scrollTarget,()=>{d(),a()});function o(){r!==null&&r();const b=Math.max(0,Wt(t)),m=jt(t),h={top:b-n.position.top,left:m-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const g=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:b,left:m},n.directionChanged=n.direction!==g,n.delta=h,n.directionChanged===!0&&(n.direction=g,n.inflectionPoint=n.position),s("scroll",{...n})}function a(){t=st(l,e.scrollTarget),t.addEventListener("scroll",c,Ye),c(!0)}function d(){t!==void 0&&(t.removeEventListener("scroll",c,Ye),t=void 0)}function c(b){if(b===!0||e.debounce===0||e.debounce==="0")o();else if(r===null){const[m,h]=e.debounce?[setTimeout(o,e.debounce),clearTimeout]:[requestAnimationFrame(o),cancelAnimationFrame];r=()=>{h(m),r=null}}}const{proxy:i}=R();return T(()=>i.$q.lang.rtl,o),re(()=>{l=i.$el.parentNode,a()}),K(()=>{r!==null&&r(),d()}),Object.assign(i,{trigger:c,getPosition:()=>n}),Ee}}),Ve={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},aa=Object.keys(Ve);Ve.all=!0;function Ke(e){const s={};for(const n of aa)e[n]===!0&&(s[n]=!0);return Object.keys(s).length===0?Ve:(s.horizontal===!0?s.left=s.right=!0:s.left===!0&&s.right===!0&&(s.horizontal=!0),s.vertical===!0?s.up=s.down=!0:s.up===!0&&s.down===!0&&(s.vertical=!0),s.horizontal===!0&&s.vertical===!0&&(s.all=!0),s)}const la=["INPUT","TEXTAREA"];function Ge(e,s){return s.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof s.handler=="function"&&la.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(s.uid)===-1)}function Oe(e,s,n){const r=Me(e);let t,l=r.left-s.event.x,o=r.top-s.event.y,a=Math.abs(l),d=Math.abs(o);const c=s.direction;c.horizontal===!0&&c.vertical!==!0?t=l<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=o<0?"up":"down":c.up===!0&&o<0?(t="up",a>d&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.down===!0&&o>0?(t="down",a>d&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.left===!0&&l<0?(t="left",a<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down"))):c.right===!0&&l>0&&(t="right",a<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down")));let i=!1;if(t===void 0&&n===!1){if(s.event.isFirst===!0||s.event.lastDir===void 0)return{};t=s.event.lastDir,i=!0,t==="left"||t==="right"?(r.left-=l,a=0,l=0):(r.top-=o,d=0,o=0)}return{synthetic:i,payload:{evt:e,touch:s.event.mouse!==!0,mouse:s.event.mouse===!0,position:r,direction:t,isFirst:s.event.isFirst,isFinal:n===!0,duration:Date.now()-s.event.time,distance:{x:a,y:d},offset:{x:l,y:o},delta:{x:r.left-s.event.lastX,y:r.top-s.event.lastY}}}}let oa=0;const ne=_t({name:"touch-pan",beforeMount(e,{value:s,modifiers:n}){if(n.mouse!==!0&&le.has.touch!==!0)return;function r(l,o){n.mouse===!0&&o===!0?Ct(l):(n.stop===!0&&qe(l),n.prevent===!0&&De(l))}const t={uid:"qvtp_"+oa++,handler:s,modifiers:n,direction:Ke(n),noop:Ee,mouseStart(l){Ge(l,t)&&qt(l)&&(de(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(Ge(l,t)){const o=l.target;de(t,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,o){if(le.is.firefox===!0&&_e(e,!0),t.lastEvt=l,o===!0||n.stop===!0){if(t.direction.all!==!0&&(o!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&De(c),l.cancelBubble===!0&&qe(c),Object.assign(c,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:c}}qe(l)}const{left:a,top:d}=Me(l);t.event={x:a,y:d,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:d}},move(l){if(t.event===void 0)return;const o=Me(l),a=o.left-t.event.x,d=o.top-t.event.y;if(a===0&&d===0)return;t.lastEvt=l;const c=t.event.mouse===!0,i=()=>{r(l,c);let h;n.preserveCursor!==!0&&n.preservecursor!==!0&&(h=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),It(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,h!==void 0&&(document.documentElement.style.cursor=h),document.body.classList.remove("non-selectable"),c===!0){const z=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{z(),g()},50):z()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(l,t.event.mouse);const{payload:h,synthetic:g}=Oe(l,t,!1);h!==void 0&&(t.handler(h)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=h.position.left,t.event.lastY=h.position.top,t.event.lastDir=g===!0?void 0:h.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(l);return}const b=Math.abs(a),m=Math.abs(d);b!==m&&(t.direction.horizontal===!0&&b>m||t.direction.vertical===!0&&b<m||t.direction.up===!0&&b<m&&d<0||t.direction.down===!0&&b<m&&d>0||t.direction.left===!0&&b>m&&a<0||t.direction.right===!0&&b>m&&a>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,o){if(t.event!==void 0){if(Ce(t,"temp"),le.is.firefox===!0&&_e(e,!1),o===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Oe(l===void 0?t.lastEvt:l,t).payload);const{payload:a}=Oe(l===void 0?t.lastEvt:l,t,!0),d=()=>{t.handler(a)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";de(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}le.has.touch===!0&&de(t,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,s){const n=e.__qtouchpan;n!==void 0&&(s.oldValue!==s.value&&(typeof value!="function"&&n.end(),n.handler=s.value),n.direction=Ke(s.modifiers))},beforeUnmount(e){const s=e.__qtouchpan;s!==void 0&&(s.event!==void 0&&s.end(),Ce(s,"main"),Ce(s,"temp"),le.is.firefox===!0&&_e(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete e.__qtouchpan)}}),Je=["vertical","horizontal"],Le={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ze={prevent:!0,mouse:!0,mouseAllDir:!0},et=e=>e>=250?50:Math.ceil(e/5),na=j({name:"QScrollArea",props:{...it,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:s,emit:n}){const r=$(!1),t=$(!1),l=$(!1),o={vertical:$(0),horizontal:$(0)},a={vertical:{ref:$(null),position:$(0),size:$(0)},horizontal:{ref:$(null),position:$(0),size:$(0)}},{proxy:d}=R(),c=ut(e,d.$q);let i=null,b;const m=$(null),h=v(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));a.vertical.percentage=v(()=>{const f=a.vertical.size.value-o.vertical.value;if(f<=0)return 0;const p=Y(a.vertical.position.value/f,0,1);return Math.round(p*1e4)/1e4}),a.vertical.thumbHidden=v(()=>(e.visible===null?l.value:e.visible)!==!0&&r.value===!1&&t.value===!1||a.vertical.size.value<=o.vertical.value+1),a.vertical.thumbStart=v(()=>a.vertical.percentage.value*(o.vertical.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=v(()=>Math.round(Y(o.vertical.value*o.vertical.value/a.vertical.size.value,et(o.vertical.value),o.vertical.value))),a.vertical.style=v(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`})),a.vertical.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=v(()=>{const f=a.horizontal.size.value-o.horizontal.value;if(f<=0)return 0;const p=Y(Math.abs(a.horizontal.position.value)/f,0,1);return Math.round(p*1e4)/1e4}),a.horizontal.thumbHidden=v(()=>(e.visible===null?l.value:e.visible)!==!0&&r.value===!1&&t.value===!1||a.horizontal.size.value<=o.horizontal.value+1),a.horizontal.thumbStart=v(()=>a.horizontal.percentage.value*(o.horizontal.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=v(()=>Math.round(Y(o.horizontal.value*o.horizontal.value/a.horizontal.size.value,et(o.horizontal.value),o.horizontal.value))),a.horizontal.style=v(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[d.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`})),a.horizontal.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=v(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),z=[[ne,f=>{D(f,"vertical")},void 0,{vertical:!0,...Ze}]],x=[[ne,f=>{D(f,"horizontal")},void 0,{horizontal:!0,...Ze}]];function _(){const f={};return Je.forEach(p=>{const q=a[p];f[p+"Position"]=q.position.value,f[p+"Percentage"]=q.percentage.value,f[p+"Size"]=q.size.value,f[p+"ContainerSize"]=o[p].value}),f}const y=$t(()=>{const f=_();f.ref=d,n("scroll",f)},0);function B(f,p,q){if(Je.includes(f)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(f==="vertical"?Qe:Te)(m.value,p,q)}function S({height:f,width:p}){let q=!1;o.vertical.value!==f&&(o.vertical.value=f,q=!0),o.horizontal.value!==p&&(o.horizontal.value=p,q=!0),q===!0&&A()}function O({position:f}){let p=!1;a.vertical.position.value!==f.top&&(a.vertical.position.value=f.top,p=!0),a.horizontal.position.value!==f.left&&(a.horizontal.position.value=f.left,p=!0),p===!0&&A()}function M({height:f,width:p}){a.horizontal.size.value!==p&&(a.horizontal.size.value=p,A()),a.vertical.size.value!==f&&(a.vertical.size.value=f,A())}function D(f,p){const q=a[p];if(f.isFirst===!0){if(q.thumbHidden.value===!0)return;b=q.position.value,t.value=!0}else if(t.value!==!0)return;f.isFinal===!0&&(t.value=!1);const W=Le[p],G=o[p].value,ge=(q.size.value-G)/(G-q.thumbSize.value),se=f.distance[W.dist],ye=b+(f.direction===W.dir?1:-1)*se*ge;te(ye,p)}function I(f,p){const q=a[p];if(q.thumbHidden.value!==!0){const W=f[Le[p].offset];if(W<q.thumbStart.value||W>q.thumbStart.value+q.thumbSize.value){const G=W-q.thumbSize.value/2;te(G/o[p].value*q.size.value,p)}q.ref.value!==null&&q.ref.value.dispatchEvent(new MouseEvent(f.type,f))}}function F(f){I(f,"vertical")}function V(f){I(f,"horizontal")}function A(){r.value=!0,i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,r.value=!1},e.delay),e.onScroll!==void 0&&y()}function te(f,p){m.value[Le[p].scroll]=f}let H=null;function ae(){H!==null&&clearTimeout(H),H=setTimeout(()=>{H=null,l.value=!0},d.$q.platform.is.ios?50:0)}function ue(){H!==null&&(clearTimeout(H),H=null),l.value=!1}let N=null;return T(()=>d.$q.lang.rtl,f=>{m.value!==null&&Te(m.value,Math.abs(a.horizontal.position.value)*(f===!0?-1:1))}),xt(()=>{N={top:a.vertical.position.value,left:a.horizontal.position.value}}),kt(()=>{if(N===null)return;const f=m.value;f!==null&&(Te(f,N.left),Qe(f,N.top))}),K(y.cancel),Object.assign(d,{getScrollTarget:()=>m.value,getScroll:_,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:B,setScrollPercentage(f,p,q){B(f,p*(a[f].size.value-o[f].value)*(f==="horizontal"&&d.$q.lang.rtl===!0?-1:1),q)}}),()=>C("div",{class:h.value,onMouseenter:ae,onMouseleave:ue},[C("div",{ref:m,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[C("div",{class:"q-scrollarea__content absolute",style:g.value},ot(s.default,[C(ie,{debounce:0,onResize:M})])),C(dt,{axis:"both",onScroll:O})]),C(ie,{debounce:0,onResize:S}),C("div",{class:a.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:F}),C("div",{class:a.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:V}),He(C("div",{ref:a.vertical.ref,class:a.vertical.thumbClass.value,style:a.vertical.style.value,"aria-hidden":"true"}),z),He(C("div",{ref:a.horizontal.ref,class:a.horizontal.thumbClass.value,style:a.horizontal.style.value,"aria-hidden":"true"}),x)])}}),tt=150,ra=j({name:"QDrawer",inheritAttrs:!1,props:{...Kt,...it,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Gt,"onLayout","miniState"],setup(e,{slots:s,emit:n,attrs:r}){const t=R(),{proxy:{$q:l}}=t,o=ut(e,l),{preventBodyScroll:a}=Yt(),{registerTimeout:d,removeTimeout:c}=Xt(),i=Z(ee,L);if(i===L)return console.error("QDrawer needs to be child of QLayout"),L;let b,m=null,h;const g=$(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),z=v(()=>e.mini===!0&&g.value!==!0),x=v(()=>z.value===!0?e.miniWidth:e.width),_=$(e.showIfAbove===!0&&g.value===!1?!0:e.modelValue===!0),y=v(()=>e.persistent!==!0&&(g.value===!0||W.value===!0));function B(u,w){if(D(),u!==!1&&i.animate(),E(0),g.value===!0){const Q=i.instances[N.value];Q!==void 0&&Q.belowBreakpoint===!0&&Q.hide(!1),X(1),i.isContainer.value!==!0&&a(!0)}else X(0),u!==!1&&ze(!1);d(()=>{u!==!1&&ze(!0),w!==!0&&n("show",u)},tt)}function S(u,w){I(),u!==!1&&i.animate(),X(0),E(A.value*x.value),Se(),w!==!0?d(()=>{n("hide",u)},tt):c()}const{show:O,hide:M}=Jt({showing:_,hideOnRouteChange:y,handleShow:B,handleHide:S}),{addToHistory:D,removeFromHistory:I}=Ut(_,M,y),F={belowBreakpoint:g,hide:M},V=v(()=>e.side==="right"),A=v(()=>(l.lang.rtl===!0?-1:1)*(V.value===!0?1:-1)),te=$(0),H=$(!1),ae=$(!1),ue=$(x.value*A.value),N=v(()=>V.value===!0?"left":"right"),f=v(()=>_.value===!0&&g.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:x.value:0),p=v(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(V.value?"R":"L")!==-1||l.platform.is.ios===!0&&i.isContainer.value===!0),q=v(()=>e.overlay===!1&&_.value===!0&&g.value===!1),W=v(()=>e.overlay===!0&&_.value===!0&&g.value===!1),G=v(()=>"fullscreen q-drawer__backdrop"+(_.value===!1&&H.value===!1?" hidden":"")),ge=v(()=>({backgroundColor:`rgba(0,0,0,${te.value*.4})`})),se=v(()=>V.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),ye=v(()=>V.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),ft=v(()=>{const u={};return i.header.space===!0&&se.value===!1&&(p.value===!0?u.top=`${i.header.offset}px`:i.header.space===!0&&(u.top=`${i.header.size}px`)),i.footer.space===!0&&ye.value===!1&&(p.value===!0?u.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(u.bottom=`${i.footer.size}px`)),u}),vt=v(()=>{const u={width:`${x.value}px`,transform:`translateX(${ue.value}px)`};return g.value===!0?u:Object.assign(u,ft.value)}),ht=v(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),mt=v(()=>`q-drawer q-drawer--${e.side}`+(ae.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":_.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${z.value===!0?"mini":"standard"}`+(p.value===!0||q.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(se.value===!0?" q-drawer--top-padding":""))),bt=v(()=>{const u=l.lang.rtl===!0?e.side:N.value;return[[ne,zt,void 0,{[u]:!0,mouse:!0}]]}),gt=v(()=>{const u=l.lang.rtl===!0?N.value:e.side;return[[ne,Ae,void 0,{[u]:!0,mouse:!0}]]}),yt=v(()=>{const u=l.lang.rtl===!0?N.value:e.side;return[[ne,Ae,void 0,{[u]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){St(g,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}T(g,u=>{u===!0?(b=_.value,_.value===!0&&M(!1)):e.overlay===!1&&e.behavior!=="mobile"&&b!==!1&&(_.value===!0?(E(0),X(0),Se()):O(!1))}),T(()=>e.side,(u,w)=>{i.instances[w]===F&&(i.instances[w]=void 0,i[w].space=!1,i[w].offset=0),i.instances[u]=F,i[u].size=x.value,i[u].space=q.value,i[u].offset=f.value}),T(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),T(()=>e.behavior+e.breakpoint,pe),T(i.isContainer,u=>{_.value===!0&&a(u!==!0),u===!0&&pe()}),T(i.scrollbarWidth,()=>{E(_.value===!0?0:void 0)}),T(f,u=>{U("offset",u)}),T(q,u=>{n("onLayout",u),U("space",u)}),T(V,()=>{E()}),T(x,u=>{E(),we(e.miniToOverlay,u)}),T(()=>e.miniToOverlay,u=>{we(u,x.value)}),T(()=>l.lang.rtl,()=>{E()}),T(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(pt(),i.animate())}),T(z,u=>{n("miniState",u)});function E(u){u===void 0?me(()=>{u=_.value===!0?0:x.value,E(A.value*u)}):(i.isContainer.value===!0&&V.value===!0&&(g.value===!0||Math.abs(u)===x.value)&&(u+=A.value*i.scrollbarWidth.value),ue.value=u)}function X(u){te.value=u}function ze(u){const w=u===!0?"remove":i.isContainer.value!==!0?"add":"";w!==""&&document.body.classList[w]("q-body--drawer-toggle")}function pt(){m!==null&&clearTimeout(m),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),ae.value=!0,m=setTimeout(()=>{m=null,ae.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function zt(u){if(_.value!==!1)return;const w=x.value,Q=Y(u.distance.x,0,w);if(u.isFinal===!0){Q>=Math.min(75,w)===!0?O():(i.animate(),X(0),E(A.value*w)),H.value=!1;return}E((l.lang.rtl===!0?V.value!==!0:V.value)?Math.max(w-Q,0):Math.min(0,Q-w)),X(Y(Q/w,0,1)),u.isFirst===!0&&(H.value=!0)}function Ae(u){if(_.value!==!0)return;const w=x.value,Q=u.direction===e.side,ce=(l.lang.rtl===!0?Q!==!0:Q)?Y(u.distance.x,0,w):0;if(u.isFinal===!0){Math.abs(ce)<Math.min(75,w)===!0?(i.animate(),X(1),E(0)):M(),H.value=!1;return}E(A.value*ce),X(Y(1-ce/w,0,1)),u.isFirst===!0&&(H.value=!0)}function Se(){a(!1),ze(!0)}function U(u,w){i.update(e.side,u,w)}function St(u,w){u.value!==w&&(u.value=w)}function we(u,w){U("size",u===!0?e.miniWidth:w)}return i.instances[e.side]=F,we(e.miniToOverlay,x.value),U("space",q.value),U("offset",f.value),e.showIfAbove===!0&&e.modelValue!==!0&&_.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),re(()=>{n("onLayout",q.value),n("miniState",z.value),b=e.showIfAbove===!0;const u=()=>{(_.value===!0?B:S)(!1,!0)};if(i.totalWidth.value!==0){me(u);return}h=T(i.totalWidth,()=>{h(),h=void 0,_.value===!1&&e.showIfAbove===!0&&g.value===!1?O(!1):u()})}),K(()=>{h!==void 0&&h(),m!==null&&(clearTimeout(m),m=null),_.value===!0&&Se(),i.instances[e.side]===F&&(i.instances[e.side]=void 0,U("size",0),U("offset",0),U("space",!1))}),()=>{const u=[];g.value===!0&&(e.noSwipeOpen===!1&&u.push(He(C("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),bt.value)),u.push(Re("div",{ref:"backdrop",class:G.value,style:ge.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",e.noSwipeBackdrop!==!0&&_.value===!0,()=>yt.value)));const w=z.value===!0&&s.mini!==void 0,Q=[C("div",{...r,key:""+w,class:[ht.value,r.class]},w===!0?s.mini():be(s.default))];return e.elevated===!0&&_.value===!0&&Q.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),u.push(Re("aside",{ref:"content",class:mt.value,style:vt.value},Q,"contentclose",e.noSwipeClose!==!0&&g.value===!0,()=>gt.value)),C("div",{class:"q-drawer-container"},u)}}}),at={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ia(){const{props:e,proxy:{$q:s}}=R(),n=Z(ee,L);if(n===L)return console.error("QPageSticky needs to be child of QLayout"),L;const r=v(()=>{const b=e.position;return{top:b.indexOf("top")!==-1,right:b.indexOf("right")!==-1,bottom:b.indexOf("bottom")!==-1,left:b.indexOf("left")!==-1,vertical:b==="top"||b==="bottom",horizontal:b==="left"||b==="right"}}),t=v(()=>n.header.offset),l=v(()=>n.right.offset),o=v(()=>n.footer.offset),a=v(()=>n.left.offset),d=v(()=>{let b=0,m=0;const h=r.value,g=s.lang.rtl===!0?-1:1;h.top===!0&&t.value!==0?m=`${t.value}px`:h.bottom===!0&&o.value!==0&&(m=`${-o.value}px`),h.left===!0&&a.value!==0?b=`${g*a.value}px`:h.right===!0&&l.value!==0&&(b=`${-g*l.value}px`);const z={transform:`translate(${b}, ${m})`};return e.offset&&(z.margin=`${e.offset[1]}px ${e.offset[0]}px`),h.vertical===!0?(a.value!==0&&(z[s.lang.rtl===!0?"right":"left"]=`${a.value}px`),l.value!==0&&(z[s.lang.rtl===!0?"left":"right"]=`${l.value}px`)):h.horizontal===!0&&(t.value!==0&&(z.top=`${t.value}px`),o.value!==0&&(z.bottom=`${o.value}px`)),z}),c=v(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function i(b){const m=be(b.default);return C("div",{class:c.value,style:d.value},e.expand===!0?m:[C("div",m)])}return{$layout:n,getStickyContent:i}}const ua=j({name:"QPageScroller",props:{...at,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...at.offset,default:()=>[18,18]}},emits:["click"],setup(e,{slots:s,emit:n}){const{proxy:{$q:r}}=R(),{$layout:t,getStickyContent:l}=ia(),o=$(null);let a;const d=v(()=>t.height.value-(t.isContainer.value===!0?t.containerHeight.value:r.screen.height));function c(){return e.reverse===!0?d.value-t.scroll.value.position>e.scrollOffset:t.scroll.value.position>e.scrollOffset}const i=$(c());function b(){const x=c();i.value!==x&&(i.value=x)}function m(){e.reverse===!0?a===void 0&&(a=T(d,b)):h()}T(t.scroll,b),T(()=>e.reverse,m);function h(){a!==void 0&&(a(),a=void 0)}function g(x){const _=st(t.isContainer.value===!0?o.value:t.rootRef.value);Qe(_,e.reverse===!0?t.height.value:0,e.duration),n("click",x)}function z(){return i.value===!0?C("div",{ref:o,class:"q-page-scroller",onClick:g},l(s)):null}return m(),K(h),()=>C(Tt,{name:"q-transition--fade"},z)}}),sa=j({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:s}){const{proxy:{$q:n}}=R(),r=Z(ee,L);if(r===L)return console.error("QPage needs to be a deep child of QLayout"),L;if(Z(nt,L)===L)return console.error("QPage needs to be child of QPageContainer"),L;const l=v(()=>{const a=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const d=r.isContainer.value===!0?r.containerHeight.value:n.screen.height;return e.styleFn(a,d)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),o=v(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>C("main",{class:o.value,style:l.value},be(s.default))}}),ca=j({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:n}}=R(),r=Z(ee,L);if(r===L)return console.error("QPageContainer needs to be child of QLayout"),L;rt(nt,!0);const t=v(()=>{const l={};return r.header.space===!0&&(l.paddingTop=`${r.header.size}px`),r.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(l.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),l});return()=>C("div",{class:"q-page-container",style:t.value},be(s.default))}}),da=j({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:n}){const{proxy:{$q:r}}=R(),t=$(null),l=$(r.screen.height),o=$(e.container===!0?0:r.screen.width),a=$({position:0,direction:"down",inflectionPoint:0}),d=$(0),c=$(lt.value===!0?0:Pe()),i=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=v(()=>e.container===!1?{minHeight:r.screen.height+"px"}:null),m=v(()=>c.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),h=v(()=>c.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function g(S){if(e.container===!0||document.qScrollPrevented!==!0){const O={position:S.position.top,direction:S.direction,directionChanged:S.directionChanged,inflectionPoint:S.inflectionPoint.top,delta:S.delta.top};a.value=O,e.onScroll!==void 0&&n("scroll",O)}}function z(S){const{height:O,width:M}=S;let D=!1;l.value!==O&&(D=!0,l.value=O,e.onScrollHeight!==void 0&&n("scrollHeight",O),_()),o.value!==M&&(D=!0,o.value=M),D===!0&&e.onResize!==void 0&&n("resize",S)}function x({height:S}){d.value!==S&&(d.value=S,_())}function _(){if(e.container===!0){const S=l.value>d.value?Pe():0;c.value!==S&&(c.value=S)}}let y=null;const B={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:t,height:l,containerHeight:d,scrollbarWidth:c,totalWidth:v(()=>o.value+c.value),rows:v(()=>{const S=e.view.toLowerCase().split(" ");return{top:S[0].split(""),middle:S[1].split(""),bottom:S[2].split("")}}),header:fe({size:0,offset:0,space:!1}),right:fe({size:300,offset:0,space:!1}),footer:fe({size:0,offset:0,space:!1}),left:fe({size:300,offset:0,space:!1}),scroll:a,animate(){y!==null?clearTimeout(y):document.body.classList.add("q-body--layout-animate"),y=setTimeout(()=>{y=null,document.body.classList.remove("q-body--layout-animate")},155)},update(S,O,M){B[S][O]=M}};if(rt(ee,B),Pe()>0){let M=function(){S=null,O.classList.remove("hide-scrollbar")},D=function(){if(S===null){if(O.scrollHeight>r.screen.height)return;O.classList.add("hide-scrollbar")}else clearTimeout(S);S=setTimeout(M,300)},I=function(F){S!==null&&F==="remove"&&(clearTimeout(S),M()),window[`${F}EventListener`]("resize",D)},S=null;const O=document.body;T(()=>e.container!==!0?"add":"remove",I),e.container!==!0&&I("add"),Pt(()=>{I("remove")})}return()=>{const S=ot(s.default,[C(dt,{onScroll:g}),C(ie,{onResize:z})]),O=C("div",{class:i.value,style:b.value,ref:e.container===!0?void 0:t,tabindex:-1},S);return e.container===!0?C("div",{class:"q-layout-container overflow-hidden",ref:t},[C(ie,{onResize:x}),C("div",{class:"absolute-full",style:m.value},[C("div",{class:"scroll",style:h.value},[O])])]):O}}});const fa={__name:"MainLayout",setup(e){const s=Lt(),n=Bt(),r=Mt(),t=Ht(),l=[{to:"/",icon:"task_alt",label:"Tasks"},{to:"/goals",icon:"outlined_flag",label:"Goals"},{to:"/reports",icon:"bar_chart",label:"Reports"}],o=[{to:{name:"task",params:{id:"new"}},icon:"add_task",label:"New task"},{to:{name:"goal",params:{id:"new"}},icon:"control_point",label:"New goal"}],a=!1,d=$(!1);function c(m){const h=(m.width-583)/2;return h>300?h:300}function i(){t.logout(),s.push({name:"login",query:{next:n.fullPath}}),r._s.forEach(m=>{m.$dispose(),delete r.state.value[m.$id]}),localStorage.clear()}function b(){navigator.clipboard.writeText(JSON.stringify({goals:r.state._rawValue.GoalStore.data._rawValue,tasks:r.state._rawValue.TaskStore.data._rawValue}))}return(m,h)=>{const g=Qt("router-view");return oe(),$e(da,{view:"hHh LpR fFf"},{default:P(()=>[k(ea,{reveal:"","reveal-offset":0},{default:P(()=>[k(Ie,null,{default:P(()=>[k(ve,{flat:"",round:"",icon:"menu",class:"lt-md",onClick:h[0]||(h[0]=z=>d.value=!d.value)}),k(Rt,null,{default:P(()=>[he("LifeTrackerBuddy")]),_:1}),k(ve,{flat:"",round:"",icon:"logout",onClick:i})]),_:1})]),_:1}),k(ra,{modelValue:d.value,"onUpdate:modelValue":h[2]||(h[2]=z=>d.value=z),"show-if-above":"",width:c(m.$q.screen)},{default:P(()=>[k(na,{class:"drawer fit"},{default:P(()=>[k(Ie,{class:"lt-md bg-primary text-white"},{default:P(()=>[k(ve,{flat:"",round:"",icon:"menu_open",onClick:h[1]||(h[1]=z=>d.value=!1)})]),_:1}),k(Xe,{class:"q-mt-md"},{default:P(()=>[(oe(),Fe(je,null,Ne(l,(z,x)=>k(ke,{key:x,to:z.to,exact:""},{default:P(()=>[k(J,{avatar:""},{default:P(()=>[k(xe,{name:z.icon},null,8,["name"])]),_:2},1024),k(J,{"no-wrap":""},{default:P(()=>[he(We(z.label),1)]),_:2},1024)]),_:2},1032,["to"])),64))]),_:1}),k(Xe,{class:"q-mt-lg"},{default:P(()=>[(oe(),Fe(je,null,Ne(o,(z,x)=>k(ke,{key:x,to:z.to},{default:P(()=>[k(J,{avatar:""},{default:P(()=>[k(xe,{name:z.icon},null,8,["name"])]),_:2},1024),k(J,{"no-wrap":""},{default:P(()=>[he(We(z.label),1)]),_:2},1024)]),_:2},1032,["to"])),64)),Et(a)?(oe(),$e(ke,{key:0,clickable:"",onClick:b},{default:P(()=>[k(J,{avatar:""},{default:P(()=>[k(xe,{name:"copy_all"})]),_:1}),k(J,{"no-wrap":""},{default:P(()=>[k(Ft,null,{default:P(()=>[he("Copy data")]),_:1})]),_:1})]),_:1})):Vt("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","width"]),k(ca,null,{default:P(()=>[k(sa,null,{default:P(()=>[At("div",{class:Dt(["page q-pb-lg",m.$q.platform.is.desktop?"q-mt-md":"q-pt-md"])},[(oe(),$e(g,{key:m.$route.path}))],2),k(ua,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:P(()=>[k(ve,{"fab-mini":"",icon:"arrow_upward",color:"primary"})]),_:1})]),_:1})]),_:1})]),_:1})}}},Sa=Ot(fa,[["__scopeId","data-v-c292c5ad"]]);export{Sa as default};
