import{Q as g,b as v}from"./use-dark-f08bceb6.js";import{j as x,Q as d,X as C,U as o,S as s,a6 as Q,a1 as e,a0 as q,W as y,R as _,V as r,a2 as B,c1 as S}from"./index-07676756.js";import{a as U,Q as m}from"./QForm-8448db3e.js";import{a as w}from"./TaskStore-a4fabcab.js";import{u as N,_ as T,a as F}from"./DateInput-af423415.js";import"./uid-6a237b22.js";import"./use-form-827e4009.js";import"./format-8c778330.js";import"./QTree-fb351775.js";import"./QSlideTransition-b8eed43c.js";import"./use-timeout-15afc1b5.js";import"./use-model-toggle-1dcd4a6c.js";const H={__name:"GoalView",props:{id:{type:String,required:!0}},setup(c){const n=parseInt(c.id),{item:l,original:b,persist:i,changed:f,remove:V,save:u,back:p}=N(n,w(),{name:"",parent:null,planned:null,description:""}),k=x(()=>!l.value.name||i.value||!!(n&&!f(b,{...l.value})));return(I,t)=>(d(),C(q,null,[o(g,{class:"q-pl-lg"},{default:s(()=>[o(v,null,{default:s(()=>[y("Goal")]),_:1}),e(n)?(d(),_(r,{key:0,flat:"",round:"",icon:"delete",disable:e(i),onClick:e(V)},null,8,["disable","onClick"])):B("",!0),o(r,{flat:"",round:"",icon:"save",disable:k.value,onClick:e(u)},null,8,["disable","onClick"]),o(r,{flat:"",round:"",icon:"clear",onClick:e(p)},null,8,["onClick"])]),_:1}),o(U,{class:"q-px-lg",onSubmit:Q(e(u),["prevent"])},{default:s(()=>[o(m,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),label:"Name","stack-label":"",autofocus:!e(n),rules:[a=>!!a||"Field is required"],onKeyup:S(e(p),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),o(T,{modelValue:e(l).parent,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).parent=a),label:"Parent","stack-label":"","except-id":e(n),class:"q-pb-lg"},null,8,["modelValue","except-id"]),o(F,{modelValue:e(l).planned,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).planned=a),label:"Planned",class:"q-pb-lg"},null,8,["modelValue"]),o(m,{modelValue:e(l).description,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).description=a),type:"textarea",label:"Description","stack-label":"",class:"q-pb-lg"},null,8,["modelValue"])]),_:1},8,["onSubmit"])],64))}};export{H as default};
