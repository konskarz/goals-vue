import{Q as v,a as x}from"./QToolbar-70f5f4b2.js";import{d as Q,a7 as i,a8 as n,am as q,a6 as m,a9 as o,aa as w,ac as e,ak as u,ah as C,ax as p,aw as c,ay as B,aq as N}from"./index-8d713d4f.js";import{Q as P}from"./QForm-89208a94.js";import{Q as T,_ as U}from"./GoalSelect-cf2a75cc.js";import{u as G}from"./QSlideTransition-edf4e56d.js";import{u as I,_ as K}from"./DateInput-a0e7e3d2.js";const S={class:"q-px-lg q-py-sm"},F={class:"row q-col-gutter-lg"},E={__name:"GoalView",setup($){const f=q(),b=G(),s=parseInt(f.params.id),{item:a,original:V,persist:r,changed:_,remove:k,save:y,back:d}=I(s,b,{name:"",parent:null,planned:null,description:""}),g=Q(()=>!a.value.name||r.value||!!(s&&!_(V,{...a.value})));return(D,t)=>(m(),i(T,null,{default:n(()=>[o(P,{onSubmit:N(e(y),["prevent"])},{default:n(()=>[o(v,{class:"q-mt-md q-pl-lg"},{default:n(()=>[o(x,null,{default:n(()=>[w("Goal")]),_:1}),e(s)?(m(),i(u,{key:0,type:"button",flat:"",round:"",icon:"delete",disable:e(r),onClick:e(k)},null,8,["disable","onClick"])):C("",!0),o(u,{type:"submit",flat:"",round:"",icon:"save",disable:e(g)},null,8,["disable"]),o(u,{type:"button",flat:"",round:"",icon:"clear",onClick:e(d)},null,8,["onClick"])]),_:1}),p("div",S,[o(c,{modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).name=l),label:"Name","stack-label":"",autofocus:!e(s),rules:[l=>!!l||"Field is required"],onKeyup:B(e(d),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),p("div",F,[o(U,{modelValue:e(a).parent,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).parent=l),label:"Parent","stack-label":"","except-id":e(s),class:"col-12 col-lg-6"},null,8,["modelValue","except-id"]),o(K,{modelValue:e(a).planned,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).planned=l),label:"Planned",class:"col-12 col-lg-6"},null,8,["modelValue"])]),o(c,{modelValue:e(a).description,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).description=l),type:"textarea",label:"Description","stack-label":"",class:"q-pt-md"},null,8,["modelValue"])])]),_:1},8,["onSubmit"])]),_:1}))}};export{E as default};
