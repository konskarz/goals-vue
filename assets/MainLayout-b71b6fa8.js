import{u as Z,a as ee,Q as te,b as ae}from"./QToolbar-42614659.js";import{c as $,g as P,a as u,h as f,b as V,u as K,r as p,d as ne,w as B,o as oe,Q as O,e as A,s as le,i as F,f as _,l as I,j as J,k as re,T as ie,p as X,m as Y,n as se,q as R,t as ue,v as ce,_ as de,x as fe,y as ve,z as ge,A as he,B as me,C as D,D as M,E as g,F as d,G as T,H as be,I as ye,J as we,K as pe,L as _e,M as qe,N as Se,O as Be}from"./index-7e23eb14.js";import{Q as E,u as Ce,a as Qe,b as xe,c as W,d as L,e as G}from"./QScrollObserver-114385c5.js";import{u as $e,Q as ke}from"./QMenu-91e6a34a.js";import{u as ze}from"./uid-11c26a05.js";import{g as Pe,s as Le,a as j}from"./scroll-8baf78f9.js";const He=$({name:"QList",props:{...Z,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:i}){const l=P(),a=ee(e,l.proxy.$q),n=u(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>f(e.tag,{class:n.value},V(i.default))}}),Ve=$({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:i}){const l=u(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:l.value},V(i.default))}}),Re=Object.keys(K),De=e=>Re.reduce((i,l)=>{const a=e[l];return a!==void 0&&(i[l]=a),i},{}),Te=$({name:"QBtnDropdown",props:{...K,...$e,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:i,emit:l}){const{proxy:a}=P(),n=p(e.modelValue),r=p(null),v=ze(),c=u(()=>{const t={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":v,"aria-label":e.toggleAriaLabel||a.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),m=u(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),s=u(()=>ne(e)),q=u(()=>De(e));B(()=>e.modelValue,t=>{r.value!==null&&r.value[t?"show":"hide"]()}),B(()=>e.split,b);function C(t){n.value=!0,l("beforeShow",t)}function w(t){l("show",t),l("update:modelValue",!0)}function h(t){n.value=!1,l("beforeHide",t)}function S(t){l("hide",t),l("update:modelValue",!1)}function k(t){l("click",t)}function Q(t){le(t),b(),l("click",t)}function x(t){r.value!==null&&r.value.toggle(t)}function o(t){r.value!==null&&r.value.show(t)}function b(t){r.value!==null&&r.value.hide(t)}return Object.assign(a,{show:o,hide:b,toggle:x}),oe(()=>{e.modelValue===!0&&o()}),()=>{const t=[f(O,{class:m.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(f(ke,{ref:r,id:v,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:C,onShow:w,onBeforeHide:h,onHide:S},i.default)),e.split===!1?f(A,{class:"q-btn-dropdown q-btn-dropdown--simple",...q.value,...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:k},{default:()=>V(i.label,[]).concat(t),loading:i.loading}):f(Ve,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...s.value,glossy:e.glossy,stretch:e.stretch},()=>[f(A,{class:"q-btn-dropdown--current",...q.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Q},{default:i.label,loading:i.loading}),f(A,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...c.value,...s.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>t)])}}}),Oe=$({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:l}){const{proxy:{$q:a}}=P(),n=F(I,_);if(n===_)return console.error("QHeader needs to be child of QLayout"),_;const r=p(parseInt(e.heightHint,10)),v=p(!0),c=u(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||a.platform.is.ios&&n.isContainer.value===!0),m=u(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return v.value===!0?r.value:0;const o=r.value-n.scroll.value.position;return o>0?o:0}),s=u(()=>e.modelValue!==!0||c.value===!0&&v.value!==!0),q=u(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),C=u(()=>"q-header q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=u(()=>{const o=n.rows.value.top,b={};return o[0]==="l"&&n.left.space===!0&&(b[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),o[2]==="r"&&n.right.space===!0&&(b[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),b});function h(o,b){n.update("header",o,b)}function S(o,b){o.value!==b&&(o.value=b)}function k({height:o}){S(r,o),h("size",o)}function Q(o){q.value===!0&&S(v,!0),l("focusin",o)}B(()=>e.modelValue,o=>{h("space",o),S(v,!0),n.animate()}),B(m,o=>{h("offset",o)}),B(()=>e.reveal,o=>{o===!1&&S(v,e.modelValue)}),B(v,o=>{n.animate(),l("reveal",o)}),B(n.scroll,o=>{e.reveal===!0&&S(v,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const x={};return n.instances.header=x,e.modelValue===!0&&h("size",r.value),h("space",e.modelValue),h("offset",m.value),J(()=>{n.instances.header===x&&(n.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const o=re(i.default,[]);return e.elevated===!0&&o.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(f(E,{debounce:0,onResize:k})),f("header",{class:C.value,style:w.value,onFocusin:Q},o)}}}),Ae=$({name:"QPageScroller",props:{...Ce,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{default:()=>[18,18]}},emits:["click"],setup(e,{slots:i,emit:l}){const{proxy:{$q:a}}=P(),{$layout:n,getStickyContent:r}=Qe(),v=p(null);let c;const m=u(()=>n.height.value-(n.isContainer.value===!0?n.containerHeight.value:a.screen.height));function s(){return e.reverse===!0?m.value-n.scroll.value.position>e.scrollOffset:n.scroll.value.position>e.scrollOffset}const q=p(s());function C(){const Q=s();q.value!==Q&&(q.value=Q)}function w(){e.reverse===!0?c===void 0&&(c=B(m,C)):h()}B(n.scroll,C),B(()=>e.reverse,w);function h(){c!==void 0&&(c(),c=void 0)}function S(Q){const x=Pe(n.isContainer.value===!0?v.value:n.rootRef.value);Le(x,e.reverse===!0?n.height.value:0,e.duration),l("click",Q)}function k(){return q.value===!0?f("div",{ref:v,class:"q-page-scroller",onClick:S},r(i)):null}return w(),J(h),()=>f(ie,{name:"q-transition--fade"},k)}}),Fe=$({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:i}){const{proxy:{$q:l}}=P(),a=F(I,_);if(a===_)return console.error("QPage needs to be a deep child of QLayout"),_;if(F(X,_)===_)return console.error("QPage needs to be child of QPageContainer"),_;const r=u(()=>{const c=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const m=a.isContainer.value===!0?a.containerHeight.value:l.screen.height;return e.styleFn(c,m)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-c+"px":l.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":l.screen.height-c+"px"}}),v=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>f("main",{class:v.value,style:r.value},V(i.default))}}),Ie=$({name:"QPageContainer",setup(e,{slots:i}){const{proxy:{$q:l}}=P(),a=F(I,_);if(a===_)return console.error("QPageContainer needs to be child of QLayout"),_;Y(X,!0);const n=u(()=>{const r={};return a.header.space===!0&&(r.paddingTop=`${a.header.size}px`),a.right.space===!0&&(r[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(r.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(r[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),r});return()=>f("div",{class:"q-page-container",style:n.value},V(i.default))}}),Ne=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:i,emit:l}){const{proxy:{$q:a}}=P(),n=p(null),r=p(a.screen.height),v=p(e.container===!0?0:a.screen.width),c=p({position:0,direction:"down",inflectionPoint:0}),m=p(0),s=p(se.value===!0?0:j()),q=u(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),C=u(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),w=u(()=>s.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),h=u(()=>s.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function S(t){if(e.container===!0||document.qScrollPrevented!==!0){const y={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};c.value=y,e.onScroll!==void 0&&l("scroll",y)}}function k(t){const{height:y,width:z}=t;let H=!1;r.value!==y&&(H=!0,r.value=y,e.onScrollHeight!==void 0&&l("scrollHeight",y),x()),v.value!==z&&(H=!0,v.value=z),H===!0&&e.onResize!==void 0&&l("resize",t)}function Q({height:t}){m.value!==t&&(m.value=t,x())}function x(){if(e.container===!0){const t=r.value>m.value?j():0;s.value!==t&&(s.value=t)}}let o=null;const b={instances:{},view:u(()=>e.view),isContainer:u(()=>e.container),rootRef:n,height:r,containerHeight:m,scrollbarWidth:s,totalWidth:u(()=>v.value+s.value),rows:u(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:c,animate(){o!==null?clearTimeout(o):document.body.classList.add("q-body--layout-animate"),o=setTimeout(()=>{o=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,y,z){b[t][y]=z}};if(Y(I,b),j()>0){let z=function(){t=null,y.classList.remove("hide-scrollbar")},H=function(){if(t===null){if(y.scrollHeight>a.screen.height)return;y.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(z,300)},N=function(U){t!==null&&U==="remove"&&(clearTimeout(t),z()),window[`${U}EventListener`]("resize",H)},t=null;const y=document.body;B(()=>e.container!==!0?"add":"remove",N),e.container!==!0&&N("add"),ue(()=>{N("remove")})}return()=>{const t=ce(i.default,[f(xe,{onScroll:S}),f(E,{onResize:k})]),y=f("div",{class:q.value,style:C.value,ref:e.container===!0?void 0:n,tabindex:-1},t);return e.container===!0?f("div",{class:"q-layout-container overflow-hidden",ref:n},[f(E,{onResize:Q}),f("div",{class:"absolute-full",style:w.value},[f("div",{class:"scroll",style:h.value},[y])])]):y}}});const Me={__name:"MainLayout",setup(e){const i=fe(),l=ve(),a=ge(),n=he(),r=[{label:"New task",icon:"add_task",to:{name:"task",params:{id:"new"}}},{label:"New goal",icon:"control_point",to:{name:"goal",params:{id:"new"}}}],v=!1;function c(){navigator.clipboard.writeText(JSON.stringify({goals:a.state._rawValue.GoalStore.data._rawValue,tasks:a.state._rawValue.TaskStore.data._rawValue}))}function m(){n.logout(),i.push({name:"login",query:{next:l.fullPath}}),a._s.forEach(s=>{s.$dispose(),delete a.state.value[s.$id]}),localStorage.clear()}return(s,q)=>{const C=me("router-view");return D(),M(Ne,{view:"hHh LpR fFf"},{default:g(()=>[d(Oe,{reveal:"","reveal-offset":0},{default:g(()=>[d(te,{class:"q-pl-lg"},{default:g(()=>[d(ae,null,{default:g(()=>[T("LifeTrackerBuddy")]),_:1}),d(Te,{"auto-close":"",flat:"",square:"",stretch:"",padding:"xs sm","no-icon-animation":"","dropdown-icon":"more_vert"},{default:g(()=>[d(He,null,{default:g(()=>[(D(),be(pe,null,ye(r,(w,h)=>d(W,{key:h,class:"q-pr-lg",to:w.to},{default:g(()=>[d(L,{side:""},{default:g(()=>[d(O,{name:w.icon},null,8,["name"])]),_:2},1024),d(L,null,{default:g(()=>[T(we(w.label),1)]),_:2},1024)]),_:2},1032,["to"])),64)),_e(v)?(D(),M(W,{key:0,clickable:"",class:"q-pr-lg",onClick:c},{default:g(()=>[d(L,{side:""},{default:g(()=>[d(O,{name:"copy_all"})]),_:1}),d(L,{"no-wrap":""},{default:g(()=>[d(G,null,{default:g(()=>[T("Copy data")]),_:1})]),_:1})]),_:1})):qe("",!0),d(W,{clickable:"",class:"q-pr-lg",onClick:m},{default:g(()=>[d(L,{side:""},{default:g(()=>[d(O,{name:"logout"})]),_:1}),d(L,{"no-wrap":""},{default:g(()=>[d(G,null,{default:g(()=>[T("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(Ie,null,{default:g(()=>[d(Fe,null,{default:g(()=>[Se("div",{class:Be(["page q-mx-auto q-pb-lg",s.$q.platform.is.desktop?"q-mt-md":"q-pt-md"])},[(D(),M(C,{key:s.$route.path}))],2),d(Ae,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:g(()=>[d(A,{"fab-mini":"",icon:"arrow_upward",color:"primary"})]),_:1})]),_:1})]),_:1})]),_:1})}}},Je=de(Me,[["__scopeId","data-v-c6af1722"]]);export{Je as default};
