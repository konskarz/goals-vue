import{u as X,a as z,c as L,b as _e,Q as ge}from"./api.client-9c7f520e.js";import{c as R,H as pe,j as f,h as u,G as C,g as U,aa as ae,d as be,e as N,k as ye,X as Q,r as I,ab as ne,ac as le,D as oe,ad as k,z as M,O as g,U as w,ae as V,W as $,V as W,R as v,af as D,S as ie,ag as H,P as E,Q as _,T as K,Y as Z,ah as F}from"./index-88c6931c.js";import{Q as ke}from"./QPage-21346403.js";import{Q as Se}from"./QList-75a35442.js";import{d as Y}from"./date-6da97816.js";import{a as J}from"./format-efb769ef.js";import{Q as ee}from"./QItemLabel-631c5841.js";import{Q as De,a as Ee}from"./QExpansionItem-0840f60e.js";import{u as se,a as re}from"./use-form-cb66b33c.js";import"./use-model-toggle-0b96d6d5.js";import"./uid-6a237b22.js";const xe=R({name:"QTimeline",props:{...X,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},layout:{type:String,default:"dense",validator:t=>["dense","comfortable","loose"].includes(t)}},setup(t,{slots:r}){const a=U(),l=z(t,a.proxy.$q);pe(ae,t);const e=f(()=>`q-timeline q-timeline--${t.layout} q-timeline--${t.layout}--${t.side}`+(l.value===!0?" q-timeline--dark":""));return()=>u("ul",{class:e.value},C(r.default))}}),Te=R({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(t,{slots:r}){const a=be(ae,N);if(a===N)return console.error("QTimelineEntry needs to be child of QTimeline"),N;const l=f(()=>`q-timeline__entry q-timeline__entry--${t.side}`+(t.icon!==void 0||t.avatar!==void 0?" q-timeline__entry--icon":"")),e=f(()=>`q-timeline__dot text-${t.color||a.color}`),n=f(()=>a.layout==="comfortable"&&a.side==="left");return()=>{const o=ye(r.default,[]);if(t.body!==void 0&&o.unshift(t.body),t.heading===!0){const s=[u("div"),u("div"),u(t.tag,{class:"q-timeline__heading-title"},o)];return u("div",{class:"q-timeline__heading"},n.value===!0?s.reverse():s)}let i;t.icon!==void 0?i=[u(Q,{class:"row items-center justify-center",name:t.icon})]:t.avatar!==void 0&&(i=[u("img",{class:"q-timeline__dot-img",src:t.avatar})]);const d=[u("div",{class:"q-timeline__subtitle"},[u("span",{},C(r.subtitle,[t.subtitle]))]),u("div",{class:e.value},i),u("div",{class:"q-timeline__content"},[u("h6",{class:"q-timeline__title"},C(r.title,[t.title]))].concat(o))];return u("li",{class:l.value},n.value===!0?d.reverse():d)}}});var te;(function(t){var r=function(){function l(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(l.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),l.prototype.clearData=function(e){e!=null?delete this._data[e]:this._data=null},l.prototype.getData=function(e){return this._data[e]||""},l.prototype.setData=function(e,n){this._data[e]=n},l.prototype.setDragImage=function(e,n,o){var i=a._instance;i._imgCustom=e,i._imgOffset={x:n,y:o}},l}();t.DataTransfer=r;var a=function(){function l(){if(this._lastClick=0,l._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var n=document,o=this._touchstart.bind(this),i=this._touchmove.bind(this),d=this._touchend.bind(this),s=e?{passive:!1,capture:!1}:!1;n.addEventListener("touchstart",o,s),n.addEventListener("touchmove",i,s),n.addEventListener("touchend",d),n.addEventListener("touchcancel",d)}}return l.getInstance=function(){return l._instance},l.prototype._touchstart=function(e){var n=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<l._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target)){e.cancelable&&e.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(e.target);o&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=o,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout(function(){n._dragSource==o&&n._img==null&&n._dispatchEvent(e,"contextmenu",o)&&n._reset()},l._CTXMENU),l._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){n._isDragEnabled=!0,n._touchmove(e)},l._PRESSHOLDAWAIT)))}},l.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e)){this._reset();return}if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var n=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",n)){this._lastTouch=e,e.cancelable&&e.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",n)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),n!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",n),this._lastTarget=n),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",n))}},l.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target)){e.cancelable&&e.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},l.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},l.prototype._shouldHandleMove=function(e){return!l._ISPRESSHOLDMODE&&this._shouldHandle(e)},l.prototype._shouldHandlePressHoldMove=function(e){return l._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},l.prototype._shouldCancelPressHoldMove=function(e){return l._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>l._PRESSHOLDMARGIN},l.prototype._shouldStartDragging=function(e){var n=this._getDelta(e);return n>l._THRESHOLD||l._ISPRESSHOLDMODE&&n>=l._PRESSHOLDTHRESHOLD},l.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new r,clearInterval(this._pressHoldInterval)},l.prototype._getPoint=function(e,n){return e&&e.touches&&(e=e.touches[0]),{x:n?e.pageX:e.clientX,y:n?e.pageY:e.clientY}},l.prototype._getDelta=function(e){if(l._ISPRESSHOLDMODE&&!this._ptDown)return 0;var n=this._getPoint(e);return Math.abs(n.x-this._ptDown.x)+Math.abs(n.y-this._ptDown.y)},l.prototype._getTarget=function(e){for(var n=this._getPoint(e),o=document.elementFromPoint(n.x,n.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},l.prototype._createImage=function(e){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=n.getBoundingClientRect(),i=this._getPoint(e);this._imgOffset={x:i.x-o.left,y:i.y-o.top},this._img.style.opacity=l._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},l.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},l.prototype._moveImage=function(e){var n=this;requestAnimationFrame(function(){if(n._img){var o=n._getPoint(e,!0),i=n._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(o.x-n._imgOffset.x)+"px",i.top=Math.round(o.y-n._imgOffset.y)+"px"}})},l.prototype._copyProps=function(e,n,o){for(var i=0;i<o.length;i++){var d=o[i];e[d]=n[d]}},l.prototype._copyStyle=function(e,n){if(l._rmvAtts.forEach(function(y){n.removeAttribute(y)}),e instanceof HTMLCanvasElement){var o=e,i=n;i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0)}for(var d=getComputedStyle(e),s=0;s<d.length;s++){var m=d[s];m.indexOf("transition")<0&&(n.style[m]=d[m])}n.style.pointerEvents="none";for(var s=0;s<e.children.length;s++)this._copyStyle(e.children[s],n.children[s])},l.prototype._dispatchEvent=function(e,n,o){if(e&&o){var i=document.createEvent("Event"),d=e.touches?e.touches[0]:e;return i.initEvent(n,!0,!0),i.button=0,i.which=i.buttons=1,this._copyProps(i,e,l._kbdProps),this._copyProps(i,d,l._ptProps),i.dataTransfer=this._dataTransfer,o.dispatchEvent(i),i.defaultPrevented}return!1},l.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},l}();a._instance=new a,a._THRESHOLD=5,a._OPACITY=.5,a._DBLCLICK=500,a._CTXMENU=900,a._ISPRESSHOLDMODE=!1,a._PRESSHOLDAWAIT=400,a._PRESSHOLDMARGIN=25,a._PRESSHOLDTHRESHOLD=0,a._rmvAtts="id,class,style,draggable".split(","),a._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),a._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=a})(te||(te={}));function ue(t,r){const a=I(null),l=f(()=>t.disable===!0?null:u("span",{ref:a,class:"no-outline",tabindex:-1}));function e(n){const o=r.value;n!==void 0&&n.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():a.value!==null&&(n===void 0||o!==null&&o.contains(n.target)===!0)&&a.value.focus()}return{refocusTargetEl:l,refocusTarget:e}}const ce={xs:30,sm:35,md:40,lg:50,xl:60},Ie=u("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[u("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),u("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),qe=R({name:"QRadio",props:{...X,...ne,...se,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:r,emit:a}){const{proxy:l}=U(),e=z(t,l.$q),n=le(t,ce),o=I(null),{refocusTargetEl:i,refocusTarget:d}=ue(t,o),s=f(()=>k(t.modelValue)===k(t.val)),m=f(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(e.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),y=f(()=>{const h=t.color!==void 0&&(t.keepColor===!0||s.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${s.value===!0?"truthy":"falsy"}${h}`}),p=f(()=>(s.value===!0?t.checkedIcon:t.uncheckedIcon)||null),q=f(()=>t.disable===!0?-1:t.tabindex||0),b=f(()=>{const h={type:"radio"};return t.name!==void 0&&Object.assign(h,{"^checked":s.value===!0?"checked":void 0,name:t.name,value:t.val}),h}),x=re(b);function T(h){h!==void 0&&(M(h),d(h)),t.disable!==!0&&s.value!==!0&&a("update:modelValue",t.val,h)}function A(h){(h.keyCode===13||h.keyCode===32)&&M(h)}function B(h){(h.keyCode===13||h.keyCode===32)&&T(h)}return Object.assign(l,{set:T}),()=>{const h=p.value!==null?[u("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[u(Q,{class:"q-radio__icon",name:p.value})])]:[Ie];t.disable!==!0&&x(h,"unshift"," q-radio__native q-ma-none q-pa-none");const O=[u("div",{class:y.value,style:n.value,"aria-hidden":"true"},h)];i.value!==null&&O.push(i.value);const P=t.label!==void 0?oe(r.default,[t.label]):C(r.default);return P!==void 0&&O.push(u("div",{class:"q-radio__label q-anchor--skip"},P)),u("div",{ref:o,class:m.value,tabindex:q.value,role:"radio","aria-label":t.label,"aria-checked":s.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:T,onKeydown:A,onKeyup:B},O)}}}),Oe={...X,...ne,...se,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ce=["update:modelValue"];function we(t,r){const{props:a,slots:l,emit:e,proxy:n}=U(),{$q:o}=n,i=z(a,o),d=I(null),{refocusTargetEl:s,refocusTarget:m}=ue(a,d),y=le(a,ce),p=f(()=>a.val!==void 0&&Array.isArray(a.modelValue)),q=f(()=>{const c=k(a.val);return p.value===!0?a.modelValue.findIndex(S=>k(S)===c):-1}),b=f(()=>p.value===!0?q.value>-1:k(a.modelValue)===k(a.trueValue)),x=f(()=>p.value===!0?q.value===-1:k(a.modelValue)===k(a.falseValue)),T=f(()=>b.value===!1&&x.value===!1),A=f(()=>a.disable===!0?-1:a.tabindex||0),B=f(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(a.disable===!0?" disabled":"")+(i.value===!0?` q-${t}--dark`:"")+(a.dense===!0?` q-${t}--dense`:"")+(a.leftLabel===!0?" reverse":"")),h=f(()=>{const c=b.value===!0?"truthy":x.value===!0?"falsy":"indet",S=a.color!==void 0&&(a.keepColor===!0||(t==="toggle"?b.value===!0:x.value!==!0))?` text-${a.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${c}${S}`}),O=f(()=>{const c={type:"checkbox"};return a.name!==void 0&&Object.assign(c,{"^checked":b.value===!0?"checked":void 0,name:a.name,value:p.value===!0?a.val:a.trueValue}),c}),P=re(O),de=f(()=>{const c={tabindex:A.value,role:t==="toggle"?"switch":"checkbox","aria-label":a.label,"aria-checked":T.value===!0?"mixed":b.value===!0?"true":"false"};return a.disable===!0&&(c["aria-disabled"]="true"),c});function j(c){c!==void 0&&(M(c),m(c)),a.disable!==!0&&e("update:modelValue",fe(),c)}function fe(){if(p.value===!0){if(b.value===!0){const c=a.modelValue.slice();return c.splice(q.value,1),c}return a.modelValue.concat([a.val])}if(b.value===!0){if(a.toggleOrder!=="ft"||a.toggleIndeterminate===!1)return a.falseValue}else if(x.value===!0){if(a.toggleOrder==="ft"||a.toggleIndeterminate===!1)return a.trueValue}else return a.toggleOrder!=="ft"?a.trueValue:a.falseValue;return a.indeterminateValue}function he(c){(c.keyCode===13||c.keyCode===32)&&M(c)}function me(c){(c.keyCode===13||c.keyCode===32)&&j(c)}const ve=r(b,T);return Object.assign(n,{toggle:j}),()=>{const c=ve();a.disable!==!0&&P(c,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const S=[u("div",{class:h.value,style:y.value,"aria-hidden":"true"},c)];s.value!==null&&S.push(s.value);const G=a.label!==void 0?oe(l.default,[a.label]):C(l.default);return G!==void 0&&S.push(u("div",{class:`q-${t}__label q-anchor--skip`},G)),u("div",{ref:d,class:B.value,...de.value,onClick:j,onKeydown:he,onKeyup:me},S)}}const Pe=u("div",{key:"svg",class:"q-checkbox__bg absolute"},[u("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[u("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),u("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Ve=R({name:"QCheckbox",props:Oe,emits:Ce,setup(t){function r(a,l){const e=f(()=>(a.value===!0?t.checkedIcon:l.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>e.value!==null?[u("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[u(Q,{class:"q-checkbox__icon",name:e.value})])]:[Pe]}return we("checkbox",r)}}),He=["onSubmit"],Le={class:"col-12 col-sm-10 row"},Me={class:"col-12 col-sm-2 row"},$e={class:"col-6 col-sm-12 col-xl"},Re={class:"col-6 col-sm-12 col-xl"},Qe={__name:"TimeDoneForm",props:{id:{type:Number,required:!0},done:{type:Boolean,required:!0}},emits:["mutate","submited"],setup(t,{emit:r}){const a=t,l=[{value:"15",label:"15 min"},{value:"30",label:"30 min"},{value:"45",label:"45 min"},{value:"60",label:"1 h"},{value:"90",label:"1.5 h"},{value:"120",label:"2 h"},{value:"150",label:"2.5 h"},{value:"180",label:"3 h"},{value:"240",label:"4 h"},{value:"300",label:"5 h"},{value:"360",label:"6 h"},{value:"480",label:"8 h"}],e=I(null),n=I(a.done),o=f(()=>!e.value&&n.value===a.done);function i(){e.value&&(L.create("/times/",{task:a.id,start:new Date().toISOString(),end:null,duration:e.value,description:""}).then(()=>r("mutate")),e.value=null),n.value!==a.done&&(L.update("/tasks/"+a.id+"/",{done:n.value?new Date().toISOString():null}).then(()=>r("mutate")),n.value,a.done),r("submited")}return(d,s)=>(g(),w("form",{class:"q-pa-sm row",onSubmit:H(i,["prevent"])},[V("div",Le,[(g(),w($,null,W(l,(m,y)=>v(qe,{key:y,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=p=>e.value=p),val:m.value,label:m.label,class:"col-6 col-sm-3 col-lg-2 col-xl"},null,8,["modelValue","val","label"])),64))]),V("div",Me,[V("div",$e,[v(Ve,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=m=>n.value=m),label:"Done"},null,8,["modelValue"])]),V("div",Re,[v(ie,{type:"submit",label:"Submit","no-caps":"",disable:D(o),onClick:i},null,8,["disable"])])])],40,He))}},Ae={__name:"TaskListItem",props:{task:{type:Object,required:!0}},setup(t){const r=t,a=I(!1),l=f(()=>[r.task.total_time_min,"of",r.task.planned_total_time,"min."].join(" "));return(e,n)=>(g(),E(Ee,{modelValue:a.value,"onUpdate:modelValue":n[4]||(n[4]=o=>a.value=o),"header-class":t.task.done?"text-grey":"",group:"tasks"},{header:_(()=>[v(J,{thumbnail:"",style:{cursor:"grab"},draggable:"true",onDragstart:n[0]||(n[0]=o=>e.$emit("ondragstart",o,t.task)),"onTouchmove:native":n[1]||(n[1]=o=>{})},{default:_(()=>[v(Q,{name:"drag_indicator"})]),_:1}),v(J,null,{default:_(()=>[v(ee,null,{default:_(()=>[K(Z(t.task.name),1)]),_:1}),v(ee,{caption:""},{default:_(()=>[K(Z(D(l)),1)]),_:1})]),_:1})]),default:_(()=>[v(Qe,{id:t.task.id,done:Boolean(t.task.done),onMutate:n[2]||(n[2]=o=>e.$emit("mutate")),onSubmited:n[3]||(n[3]=o=>a.value=!1)},null,8,["id","done"]),v(De,{class:"q-ma-sm"})]),_:1},8,["modelValue","header-class"]))}},Be={__name:"WeekTimelineEntryDrop",props:{week:{type:Object,required:!0}},emits:["mutate"],setup(t,{emit:r}){const a=t,l=new Date(a.week.day),e=Y.formatDate(l,"w-YYYY-Q-MMM D").split("-"),n=["Week "+e[0],e[1]+" / Q"+e[2],e[3]].join(" Â· ");function o(d,s){const m={id:s.id,day:Y.getDayOfWeek(s.planned),week:e[0]};d.dataTransfer.setData("text",JSON.stringify(m)),d.dataTransfer.dropEffect="move"}function i(d){const s=JSON.parse(d.dataTransfer.getData("text"));if(s.week===e[0])return;const m=Y.addToDate(l,{days:s.day-1});L.update("/tasks/"+s.id+"/",{planned:m.toISOString()}).then(()=>r("mutate"))}return(d,s)=>(g(),E(Te,{subtitle:D(n),onDragover:s[1]||(s[1]=H(()=>{},["prevent"])),onDragenter:s[2]||(s[2]=H(()=>{},["prevent"])),onDrop:s[3]||(s[3]=H(m=>i(m),["prevent"]))},{default:_(()=>[t.week.tasks&&t.week.tasks.length?(g(),E(Se,{key:0},{default:_(()=>[(g(!0),w($,null,W(t.week.tasks,m=>(g(),E(Ae,{key:m.id,task:m,onOndragstart:o,onMutate:s[0]||(s[0]=y=>d.$emit("mutate"))},null,8,["task"]))),128))]),_:1})):F("",!0)]),_:1},8,["subtitle"]))}},Je={__name:"HomeView",setup(t){const{data:r,mutate:a}=L.read("/plan/"),l=f(()=>Object.keys(r.value.key_results).find(e=>!r.value.key_results[e].in_the_past));return(e,n)=>(g(),E(ke,{padding:""},{default:_(()=>[v(ge,null,{default:_(()=>[v(_e,null,{default:_(()=>[K("Plan")]),_:1}),v(ie,{to:{name:"task",params:{id:"create"}},icon:"assignment_add",flat:"",round:""})]),_:1}),D(r)?(g(),E(xe,{key:0,layout:"dense",class:"q-px-md"},{default:_(()=>[(g(!0),w($,null,W(D(r).key_results,(o,i)=>(g(),w($,{key:i},[o.day?(g(),E(Be,{key:0,color:i===D(l)?"orange":"",week:o,onMutate:D(a)},null,8,["color","week","onMutate"])):F("",!0)],64))),128))]),_:1})):F("",!0)]),_:1}))}};export{Je as default};
