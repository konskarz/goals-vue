import{a as V,Q as k}from"./QToolbar-6e1c3e90.js";import{Q as v,_ as y}from"./WeekTimelineEntry-4d0bdb6e.js";import{Q as I}from"./GoalStore-dd9e5a71.js";import{d as T}from"./date-4ff4055f.js";import{r as b,f as x,o as Y,w as F,a1 as n,a2 as l,aI as B,a7 as t,a8 as m,aa as C,aw as r,ab as p,ac as E,ad as d,ay as f}from"./index-2673aaeb.js";import{_ as G}from"./GoalSelect-fc66fd1e.js";import"./QList-24eb127c.js";import"./TaskStore-e0f719a2.js";import"./QItem-35e67c9a.js";import"./QItemLabel-c1807fc2.js";import"./NumberInput-df63eab6.js";import"./TimeStore-ac66eb14.js";import"./DurationInput-4391edc2.js";import"./format-ff5bcb16.js";import"./QMenu-724d4b9b.js";const H={__name:"PlanView",setup(L){const s="Goal-Filter",_=T.formatDate(new Date,"YYYY-w"),e=b(null),g=x(()=>e.value?"/plan/?goal="+e.value:"/plan/"),{query:w}=B(),{data:u,refetch:Q}=w(g);return Y(()=>{const a=localStorage.getItem(s);a&&(e.value=parseInt(a))}),F(e,a=>{a?localStorage.setItem(s,a):localStorage.removeItem(s)}),(a,c)=>(t(),n(I,{padding:""},{default:l(()=>[m(k,null,{default:l(()=>[m(V,null,{default:l(()=>[C("Plan")]),_:1}),m(G,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=o=>e.value=o),label:"For Goal",dense:"",borderless:"",class:"col-6 col-sm-3 col-lg-2"},null,8,["modelValue"])]),_:1}),r(u)?(t(),n(v,{key:0,layout:"dense",class:"q-px-md"},{default:l(()=>[(t(!0),p(d,null,E(r(u),(o,i)=>(t(),p(d,{key:i},[o.day?(t(),n(y,{key:0,color:i===r(_)?"orange":"",week:o,onMutate:r(Q)},null,8,["color","week","onMutate"])):f("",!0)],64))),128))]),_:1})):f("",!0)]),_:1}))}};export{H as default};
