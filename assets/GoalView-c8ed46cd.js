import{Q as y,a as Q}from"./QToolbar-fbaba36b.js";import{j as g,R as d,S as m,T as n,U as o,W as q,a5 as e,V as r,a3 as x,a8 as p,ae as C,a6 as w}from"./index-d7307de2.js";import{Q as c,a as B}from"./QForm-c895f2ff.js";import{u as N,Q as S}from"./GoalStore-10baf2b4.js";import{u as T,_ as U}from"./DateInput-7b23e81b.js";import{_ as P}from"./GoalSelect-0bd38803.js";import"./use-field-64bc6d51.js";import"./use-dark-e5f5c597.js";import"./uid-6a237b22.js";import"./focus-manager-4e5c0bab.js";import"./QSlideTransition-c27aac13.js";import"./use-prevent-scroll-c8d971c8.js";import"./use-model-toggle-6c70179b.js";const G={class:"q-py-sm q-px-lg"},I={class:"row q-col-gutter-lg"},X={__name:"GoalView",props:{id:{type:String,required:!0}},setup(f){const s=parseInt(f.id),{item:l,original:b,persist:i,changed:V,remove:_,save:k,back:u}=T(s,N(),{name:"",parent:null,planned:null,description:""}),v=g(()=>!l.value.name||i.value||!!(s&&!V(b,{...l.value})));return(F,t)=>(d(),m(S,null,{default:n(()=>[o(B,{onSubmit:w(e(k),["prevent"])},{default:n(()=>[o(y,{class:"q-mt-md q-pl-lg"},{default:n(()=>[o(Q,null,{default:n(()=>[q("Goal")]),_:1}),e(s)?(d(),m(r,{key:0,type:"button",flat:"",round:"",icon:"delete",disable:e(i),onClick:e(_)},null,8,["disable","onClick"])):x("",!0),o(r,{type:"submit",flat:"",round:"",icon:"save",disable:v.value},null,8,["disable"]),o(r,{type:"button",flat:"",round:"",icon:"clear",onClick:e(u)},null,8,["onClick"])]),_:1}),p("div",G,[o(c,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),label:"Name","stack-label":"",autofocus:!e(s),rules:[a=>!!a||"Field is required"],onKeyup:C(e(u),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),p("div",I,[o(P,{modelValue:e(l).parent,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).parent=a),label:"Parent","stack-label":"","except-id":e(s),class:"col-12 col-sm-6"},null,8,["modelValue","except-id"]),o(U,{modelValue:e(l).planned,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).planned=a),label:"Planned",class:"col-12 col-sm-6"},null,8,["modelValue"])]),o(c,{modelValue:e(l).description,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).description=a),type:"textarea",label:"Description","stack-label":"",class:"q-pt-md"},null,8,["modelValue"])])]),_:1},8,["onSubmit"])]),_:1}))}};export{X as default};
