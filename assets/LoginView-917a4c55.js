import{r as i,a6 as v,Z as d,_ as a,an as w,$ as Q,a0 as x,a2 as u,a3 as e,aD as k,a5 as y,al as V,ax as m,a9 as p,am as h,a4 as g,ar as B,ao as T,b8 as q}from"./index-ee49e85a.js";import{a as C,Q as S,b as c}from"./api.client-4f1613d5.js";import{Q as A}from"./QForm-d2eb2285.js";const L={class:"fullscreen bg-blue flex flex-center"},N=T("img",{src:"icons/favicon.ico"},null,-1),R={__name:"LoginView",setup(U){const f=Q(),_=x(),s=i({username:"",password:""}),t=i(!1);function b(){!s.value.username||!s.value.password||(t.value=!0,c.create("/auth/",s.value).then(r=>{r&&r.token?(c.setAuthToken(r.token),f.push(_.query.next)):t.value=!1}))}function n(r){return!!r||"Field is required"}return(r,l)=>(u(),v("div",L,[t.value?(u(),d(q,{key:0,color:"primary",size:"3em"})):(u(),d(w,{key:1,style:{width:"20rem"}},{default:a(()=>[e(S,{class:"bg-primary text-white"},{default:a(()=>[e(k,{size:"xs",square:""},{default:a(()=>[N]),_:1}),e(C,null,{default:a(()=>[y("LifeTrackerBuddy")]),_:1})]),_:1}),e(A,{onSubmit:B(b,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(m,{modelValue:s.value.username,"onUpdate:modelValue":l[0]||(l[0]=o=>s.value.username=o),label:"Username",rules:[n]},{prepend:a(()=>[e(p,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),e(m,{modelValue:s.value.password,"onUpdate:modelValue":l[1]||(l[1]=o=>s.value.password=o),type:"password",label:"Password",rules:[n]},{prepend:a(()=>[e(p,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),e(h,{class:"q-pa-md"},{default:a(()=>[e(g,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{R as default};
