import{r as i,a6 as v,Z as d,_ as a,an as w,$ as Q,a0 as k,a2 as u,a3 as e,aC as x,a5 as y,al as V,aw as m,a9 as p,am as h,a4 as g,aq as q,ao as B,b7 as C}from"./index-d95bd3d0.js";import{a as T,Q as S,b as c}from"./api.client-a4d8c645.js";import{Q as A}from"./QForm-f0b6d40e.js";const L={class:"fullscreen bg-blue flex flex-center"},N=B("img",{src:"icons/favicon.ico"},null,-1),R={__name:"LoginView",setup(U){const f=Q(),_=k(),s=i({username:"",password:""}),t=i(!1);function b(){!s.value.username||!s.value.password||(t.value=!0,c.create("/auth/",s.value).then(l=>{l&&l.token?(c.setAuthToken(l.token),f.push(_.query.next)):t.value=!1}))}function n(l){return!!l||"Field is required"}return(l,r)=>(u(),v("div",L,[t.value?(u(),d(C,{key:0,color:"primary",size:"3em"})):(u(),d(w,{key:1,style:{width:"20rem"}},{default:a(()=>[e(S,{class:"bg-primary text-white"},{default:a(()=>[e(x,{size:"xs",square:""},{default:a(()=>[N]),_:1}),e(T,null,{default:a(()=>[y("LifeTrackerBuddy")]),_:1})]),_:1}),e(A,{onSubmit:q(b,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(m,{modelValue:s.value.username,"onUpdate:modelValue":r[0]||(r[0]=o=>s.value.username=o),label:"Username",rules:[n]},{prepend:a(()=>[e(p,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),e(m,{modelValue:s.value.password,"onUpdate:modelValue":r[1]||(r[1]=o=>s.value.password=o),type:"password",label:"Password",rules:[n]},{prepend:a(()=>[e(p,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),e(h,{class:"q-pa-md"},{default:a(()=>[e(g,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{R as default};
