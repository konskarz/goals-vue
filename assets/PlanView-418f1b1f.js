import{a as V,Q as k}from"./QToolbar-544ca16a.js";import{Q as v,_ as y}from"./WeekTimelineEntry-e7505211.js";import{Q as I}from"./GoalStore-2c01810a.js";import{d as T}from"./date-b3561e64.js";import{r as b,f as x,o as Y,w as F,a1 as n,a2 as l,aI as B,a7 as t,a8 as m,aa as C,aw as r,ab as p,ac as E,ad as d,ay as f}from"./index-d2c79a88.js";import{_ as G}from"./GoalSelect-8b13017e.js";import"./QList-8ac679fc.js";import"./TaskStore-1c10bc0f.js";import"./QItem-abaf32b3.js";import"./QItemLabel-2ef70e87.js";import"./NumberInput-fbad9384.js";import"./TimeStore-7b4fbed1.js";import"./DurationInput-6ddac7a0.js";import"./format-ff5bcb16.js";import"./QMenu-1739cc8c.js";const H={__name:"PlanView",setup(L){const s="Goal-Filter",_=T.formatDate(new Date,"YYYY-w"),e=b(null),g=x(()=>e.value?"/plan/?goal="+e.value:"/plan/"),{query:w}=B(),{data:u,refetch:Q}=w(g);return Y(()=>{const a=localStorage.getItem(s);a&&(e.value=parseInt(a))}),F(e,a=>{a?localStorage.setItem(s,a):localStorage.removeItem(s)}),(a,c)=>(t(),n(I,{padding:""},{default:l(()=>[m(k,null,{default:l(()=>[m(V,null,{default:l(()=>[C("Plan")]),_:1}),m(G,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=o=>e.value=o),label:"For Goal",dense:"",borderless:"",class:"col-6 col-sm-3 col-lg-2"},null,8,["modelValue"])]),_:1}),r(u)?(t(),n(v,{key:0,layout:"dense",class:"q-px-md"},{default:l(()=>[(t(!0),p(d,null,E(r(u),(o,i)=>(t(),p(d,{key:i},[o.day?(t(),n(y,{key:0,color:i===r(_)?"orange":"",week:o,onMutate:r(Q)},null,8,["color","week","onMutate"])):f("",!0)],64))),128))]),_:1})):f("",!0)]),_:1}))}};export{H as default};
