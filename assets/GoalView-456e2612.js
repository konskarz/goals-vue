import{Q as v,b as C}from"./QToolbar-42614659.js";import{a as g,C as m,H as x,F as o,E as n,bP as _,L as e,K as N,G as Q,D as q,e as r,M as y,N as B,bN as w}from"./index-7e23eb14.js";import{a as F,Q as p}from"./QForm-ca9498ff.js";import{a as G}from"./QTree-cff18bb9.js";import{u as K,_ as P,a as S}from"./DateInput-df0c39f3.js";import"./uid-11c26a05.js";import"./use-form-05eaf2b9.js";import"./QMenu-91e6a34a.js";import"./scroll-8baf78f9.js";const T={class:"row q-col-gutter-lg"},J={__name:"GoalView",props:{id:{type:String,required:!0}},setup(c){const s=parseInt(c.id),{item:l,original:b,persist:i,changed:f,remove:V,save:u,back:d}=K(s,G(),{name:"",parent:null,planned:null,description:""}),k=g(()=>!l.value.name||i.value||!!(s&&!f(b,{...l.value})));return(I,t)=>(m(),x(N,null,[o(v,{class:"q-pl-lg"},{default:n(()=>[o(C,null,{default:n(()=>[Q("Goal")]),_:1}),e(s)?(m(),q(r,{key:0,flat:"",round:"",icon:"delete",disable:e(i),onClick:e(V)},null,8,["disable","onClick"])):y("",!0),o(r,{flat:"",round:"",icon:"save",disable:k.value,onClick:e(u)},null,8,["disable","onClick"]),o(r,{flat:"",round:"",icon:"clear",onClick:e(d)},null,8,["onClick"])]),_:1}),o(F,{class:"q-pt-sm q-px-lg",onSubmit:_(e(u),["prevent"])},{default:n(()=>[B("div",T,[o(p,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),label:"Name","stack-label":"",autofocus:!e(s),rules:[a=>!!a||"Field is required"],class:"col-12",onKeyup:w(e(d),["esc"])},null,8,["modelValue","autofocus","rules","onKeyup"]),o(P,{modelValue:e(l).parent,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).parent=a),label:"Parent","stack-label":"","except-id":e(s),class:"col-12 col-md-6"},null,8,["modelValue","except-id"]),o(S,{modelValue:e(l).planned,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).planned=a),label:"Planned",class:"col-12 col-md-6"},null,8,["modelValue"]),o(p,{modelValue:e(l).description,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).description=a),type:"textarea",label:"Description","stack-label":"",class:"col-12"},null,8,["modelValue"])])]),_:1},8,["onSubmit"])],64))}};export{J as default};
