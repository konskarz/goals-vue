import{c as y,g as v,e as u,d as h,h as C,S as I,j as f,k as S,V as Q,r as F,b3 as $,aF as x}from"./index-c0954342.js";const q=y({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:r}){const{proxy:{$q:a}}=v(),t=f(S,u);if(t===u)return console.error("QPage needs to be a deep child of QLayout"),u;if(f(Q,u)===u)return console.error("QPage needs to be child of QPageContainer"),u;const l=h(()=>{const o=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const s=t.isContainer.value===!0?t.containerHeight.value:a.screen.height;return e.styleFn(o,s)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-o+"px":a.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":a.screen.height-o+"px"}}),d=h(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>C("main",{class:d.value,style:l.value},I(r.default))}});function P(e){const{request:r,get:a}=$(),t=F(JSON.parse(localStorage.getItem(e)));function i(){a(e).then(n=>{t.value=n,localStorage.setItem(e,JSON.stringify(n))})}function l(n){return t.value.find(c=>c.id===n)}function d(n){return r({method:"post",url:e,data:n})}function o(n,c){return r({method:"patch",url:e+n,data:c})}function s(n){return r({method:"delete",url:e+n})}return i(),{data:t,refetch:i,getItem:l,createItem:d,updateItem:o,deleteItem:s}}const p=(e,r=null)=>e.filter(a=>a.parent===r).map(a=>({...a,children:p(e,a.id)})),H=x("GoalStore",()=>{const{data:e,refetch:r,getItem:a,createItem:t,updateItem:i,deleteItem:l}=P("/goals/"),d=h(()=>e.value?p(e.value):null);function o(s){const n=[s],c=m=>e.value.filter(g=>g.parent===m).forEach(g=>{n.push(g.id),c(g.id)});return c(s),n}return{data:e,refetch:r,getItem:a,createItem:t,updateItem:i,deleteItem:l,tree:d,getBranch:o}});export{q as Q,P as a,H as u};
