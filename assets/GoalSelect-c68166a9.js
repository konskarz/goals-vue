import{r as M,j as k,h as x,g as X,ac as ct,ag as ie,D as dt,G as ae,ab as ft,z as de,c as te,$ as me,ah as vt,w as W,b as $e,ai as ht,aj as mt,E as gt,a7 as bt,ak as ge,B as xt,a as fe,al as yt,am as Ce,K as kt,an as qt,ao as wt,ap as St,p as He,ae as Qe,a5 as Ee,aq as Ne,u as Fe,s as Me,o as _t,y as Ct,l as pe,x as Tt,Q as Et,R as pt,S as se,a3 as Bt,a1 as Pt,T as ve,Z as $t}from"./index-0fdc49f5.js";import{a as ke,u as qe}from"./use-dark-76697cae.js";import{u as Ht,a as Kt,r as Ve,b as At,c as je,d as Ft,e as Mt,f as Vt,g as zt}from"./use-field-6a3f67fa.js";import{Q as Lt}from"./QSlideTransition-a6e74b00.js";import{u as Ge,e as Dt,f as It,c as Ot,h as Wt,g as Rt}from"./use-timeout-da1c750b.js";import{u as Ue,a as Xe,b as Ye}from"./use-model-toggle-38450808.js";import{a as Qt}from"./MainPage-8412275f.js";function Nt(e,i){const t=M(null),a=k(()=>e.disable===!0?null:x("span",{ref:t,class:"no-outline",tabindex:-1}));function r(d){const o=i.value;d!==void 0&&d.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():t.value!==null&&(d===void 0||o!==null&&o.contains(d.target)===!0)&&t.value.focus()}return{refocusTargetEl:a,refocusTarget:r}}const jt={xs:30,sm:35,md:40,lg:50,xl:60},Gt={...qe,...ft,...Ht,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ut=["update:modelValue"];function Xt(e,i){const{props:t,slots:a,emit:r,proxy:d}=X(),{$q:o}=d,v=ke(t,o),h=M(null),{refocusTargetEl:m,refocusTarget:y}=Nt(t,h),S=ct(t,jt),T=k(()=>t.val!==void 0&&Array.isArray(t.modelValue)),f=k(()=>{const w=ie(t.val);return T.value===!0?t.modelValue.findIndex(V=>ie(V)===w):-1}),g=k(()=>T.value===!0?f.value>-1:ie(t.modelValue)===ie(t.trueValue)),C=k(()=>T.value===!0?f.value===-1:ie(t.modelValue)===ie(t.falseValue)),A=k(()=>g.value===!1&&C.value===!1),P=k(()=>t.disable===!0?-1:t.tabindex||0),I=k(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(v.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),$=k(()=>{const w=g.value===!0?"truthy":C.value===!0?"falsy":"indet",V=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?g.value===!0:C.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${w}${V}`}),z=k(()=>{const w={type:"checkbox"};return t.name!==void 0&&Object.assign(w,{".checked":g.value,"^checked":g.value===!0?"checked":void 0,name:t.name,value:T.value===!0?t.val:t.trueValue}),w}),p=Kt(z),O=k(()=>{const w={tabindex:P.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":A.value===!0?"mixed":g.value===!0?"true":"false"};return t.disable===!0&&(w["aria-disabled"]="true"),w});function B(w){w!==void 0&&(de(w),y(w)),t.disable!==!0&&r("update:modelValue",F(),w)}function F(){if(T.value===!0){if(g.value===!0){const w=t.modelValue.slice();return w.splice(f.value,1),w}return t.modelValue.concat([t.val])}if(g.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(C.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function L(w){(w.keyCode===13||w.keyCode===32)&&de(w)}function U(w){(w.keyCode===13||w.keyCode===32)&&B(w)}const D=i(g,A);return Object.assign(d,{toggle:B}),()=>{const w=D();t.disable!==!0&&p(w,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const V=[x("div",{class:$.value,style:S.value,"aria-hidden":"true"},w)];m.value!==null&&V.push(m.value);const R=t.label!==void 0?dt(a.default,[t.label]):ae(a.default);return R!==void 0&&V.push(x("div",{class:`q-${e}__label q-anchor--skip`},R)),x("div",{ref:h,class:I.value,...O.value,onClick:B,onKeydown:L,onKeyup:U},V)}}const Yt=x("div",{key:"svg",class:"q-checkbox__bg absolute"},[x("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[x("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),x("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Zt=te({name:"QCheckbox",props:Gt,emits:Ut,setup(e){function i(t,a){const r=k(()=>(t.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[x("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[x(me,{class:"q-checkbox__icon",name:r.value})])]:[Yt]}return Xt("checkbox",i)}}),Jt=["none","strict","leaf","leaf-filtered"],en=te({name:"QTree",props:{...qe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Jt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:i,emit:t}){const{proxy:a}=X(),{$q:r}=a,d=ke(e,r),o=M({}),v=M(e.ticked||[]),h=M(e.expanded||[]);let m={};vt(()=>{m={}});const y=k(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(d.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),S=k(()=>e.selected!==void 0),T=k(()=>e.icon||r.iconSet.tree.icon),f=k(()=>e.controlColor||e.color),g=k(()=>e.textColor!==void 0?` text-${e.textColor}`:""),C=k(()=>{const l=e.selectedColor||e.color;return l?` text-${l}`:""}),A=k(()=>e.filterMethod!==void 0?e.filterMethod:(l,c)=>{const n=c.toLowerCase();return l[e.labelKey]&&l[e.labelKey].toLowerCase().indexOf(n)>-1}),P=k(()=>{const l={},c=(n,s)=>{const u=n.tickStrategy||(s?s.tickStrategy:e.tickStrategy),q=n[e.nodeKey],E=n[e.childrenKey]&&Array.isArray(n[e.childrenKey])&&n[e.childrenKey].length!==0,b=n.disabled!==!0&&S.value===!0&&n.selectable!==!1,H=n.disabled!==!0&&n.expandable!==!1,we=u!=="none",ne=u==="strict",Ke=u==="leaf-filtered",Se=u==="leaf"||u==="leaf-filtered";let _e=n.disabled!==!0&&n.tickable!==!1;Se===!0&&_e===!0&&s&&s.tickable!==!0&&(_e=!1);let le=n.lazy;le===!0&&o.value[q]!==void 0&&Array.isArray(n[e.childrenKey])===!0&&(le=o.value[q]);const _={key:q,parent:s,isParent:E,lazy:le,disabled:n.disabled,link:n.disabled!==!0&&(b===!0||H===!0&&(E===!0||le===!0)),children:[],matchesFilter:e.filter?A.value(n,e.filter):!0,selected:q===e.selected&&b===!0,selectable:b,expanded:E===!0?h.value.includes(q):!1,expandable:H,noTick:n.noTick===!0||ne!==!0&&le&&le!=="loaded",tickable:_e,tickStrategy:u,hasTicking:we,strictTicking:ne,leafFilteredTicking:Ke,leafTicking:Se,ticked:ne===!0?v.value.includes(q):E===!0?!1:v.value.includes(q)};if(l[q]=_,E===!0&&(_.children=n[e.childrenKey].map(K=>c(K,_)),e.filter&&(_.matchesFilter!==!0?_.matchesFilter=_.children.some(K=>K.matchesFilter):_.noTick!==!0&&_.disabled!==!0&&_.tickable===!0&&Ke===!0&&_.children.every(K=>K.matchesFilter!==!0||K.noTick===!0||K.tickable!==!0)===!0&&(_.tickable=!1)),_.matchesFilter===!0&&(_.noTick!==!0&&ne!==!0&&_.children.every(K=>K.noTick)===!0&&(_.noTick=!0),Se))){if(_.ticked=!1,_.indeterminate=_.children.some(K=>K.indeterminate===!0),_.tickable=_.tickable===!0&&_.children.some(K=>K.tickable),_.indeterminate!==!0){const K=_.children.reduce((Ae,st)=>st.ticked===!0?Ae+1:Ae,0);K===_.children.length?_.ticked=!0:K>0&&(_.indeterminate=!0)}_.indeterminate===!0&&(_.indeterminateNextState=_.children.every(K=>K.tickable!==!0||K.ticked!==!0))}return _};return e.nodes.forEach(n=>c(n,null)),l});W(()=>e.ticked,l=>{v.value=l}),W(()=>e.expanded,l=>{h.value=l});function I(l){const c=[].reduce,n=(s,u)=>{if(s||!u)return s;if(Array.isArray(u)===!0)return c.call(Object(u),n,s);if(u[e.nodeKey]===l)return u;if(u[e.childrenKey])return n(null,u[e.childrenKey])};return n(null,e.nodes)}function $(){return v.value.map(l=>I(l))}function z(){return h.value.map(l=>I(l))}function p(l){return l&&P.value[l]?P.value[l].expanded:!1}function O(){e.expanded!==void 0?t("update:expanded",[]):h.value=[]}function B(){const l=[],c=n=>{n[e.childrenKey]&&n[e.childrenKey].length!==0&&n.expandable!==!1&&n.disabled!==!0&&(l.push(n[e.nodeKey]),n[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?t("update:expanded",l):h.value=l}function F(l,c,n=I(l),s=P.value[l]){if(s.lazy&&s.lazy!=="loaded"){if(s.lazy==="loading")return;o.value[l]="loading",Array.isArray(n[e.childrenKey])!==!0&&(n[e.childrenKey]=[]),t("lazyLoad",{node:n,key:l,done:u=>{o.value[l]="loaded",n[e.childrenKey]=Array.isArray(u)===!0?u:[],$e(()=>{const q=P.value[l];q&&q.isParent===!0&&L(l,!0)})},fail:()=>{delete o.value[l],n[e.childrenKey].length===0&&delete n[e.childrenKey]}})}else s.isParent===!0&&s.expandable===!0&&L(l,c)}function L(l,c){let n=h.value;const s=e.expanded!==void 0;if(s===!0&&(n=n.slice()),c){if(e.accordion&&P.value[l]){const u=[];P.value[l].parent?P.value[l].parent.children.forEach(q=>{q.key!==l&&q.expandable===!0&&u.push(q.key)}):e.nodes.forEach(q=>{const E=q[e.nodeKey];E!==l&&u.push(E)}),u.length!==0&&(n=n.filter(q=>u.includes(q)===!1))}n=n.concat([l]).filter((u,q,E)=>E.indexOf(u)===q)}else n=n.filter(u=>u!==l);s===!0?t("update:expanded",n):h.value=n}function U(l){return l&&P.value[l]?P.value[l].ticked:!1}function D(l,c){let n=v.value;const s=e.ticked!==void 0;s===!0&&(n=n.slice()),c?n=n.concat(l).filter((u,q,E)=>E.indexOf(u)===q):n=n.filter(u=>l.includes(u)===!1),s===!0&&t("update:ticked",n)}function w(l,c,n){const s={tree:a,node:l,key:n,color:e.color,dark:d.value};return ge(s,"expanded",()=>c.expanded,u=>{u!==c.expanded&&F(n,u)}),ge(s,"ticked",()=>c.ticked,u=>{u!==c.ticked&&D([n],u)}),s}function V(l){return(e.filter?l.filter(c=>P.value[c[e.nodeKey]].matchesFilter):l).map(c=>Y(c))}function R(l){if(l.icon!==void 0)return x(me,{class:"q-tree__icon q-mr-sm",name:l.icon,color:l.iconColor});const c=l.img||l.avatar;if(c)return x("img",{class:`q-tree__${l.img?"img":"avatar"} q-mr-sm`,src:c})}function re(){t("afterShow")}function Q(){t("afterHide")}function Y(l){const c=l[e.nodeKey],n=P.value[c],s=l.header&&i[`header-${l.header}`]||i["default-header"],u=n.isParent===!0?V(l[e.childrenKey]):[],q=u.length!==0||n.lazy&&n.lazy!=="loaded";let E=l.body&&i[`body-${l.body}`]||i["default-body"];const b=s!==void 0||E!==void 0?w(l,n,c):null;return E!==void 0&&(E=x("div",{class:"q-tree__node-body relative-position"},[x("div",{class:g.value},[E(b)])])),x("div",{key:c,class:`q-tree__node relative-position q-tree__node--${q===!0?"parent":"child"}`},[x("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(n.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(n.selected===!0?" q-tree__node--selected":"")+(n.disabled===!0?" q-tree__node--disabled":""),tabindex:n.link===!0?0:-1,onClick:H=>{j(l,n,H)},onKeypress(H){ht(H)!==!0&&(H.keyCode===13?j(l,n,H,!0):H.keyCode===32&&G(l,n,H,!0))}},[x("div",{class:"q-focus-helper",tabindex:-1,ref:H=>{m[n.key]=H}}),n.lazy==="loading"?x(mt,{class:"q-tree__spinner",color:f.value}):q===!0?x(me,{class:"q-tree__arrow"+(n.expanded===!0?" q-tree__arrow--rotate":""),name:T.value,onClick(H){G(l,n,H)}}):null,n.hasTicking===!0&&n.noTick!==!0?x(Zt,{class:"q-tree__tickbox",modelValue:n.indeterminate===!0?null:n.ticked,color:f.value,dark:d.value,dense:!0,keepColor:!0,disable:n.tickable!==!0,onKeydown:de,"onUpdate:modelValue":H=>{ue(n,H)}}):null,x("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(n.selected===!0?C.value:g.value)},[s?s(b):[R(l),x("div",l[e.labelKey])]])]),q===!0?e.noTransition===!0?x("div",{class:"q-tree__node-collapsible"+g.value,key:`${c}__q`},[E,x("div",{class:"q-tree__children"+(n.disabled===!0?" q-tree__node--disabled":"")},n.expanded?u:null)]):x(Lt,{duration:e.duration,onShow:re,onHide:Q},()=>gt(x("div",{class:"q-tree__node-collapsible"+g.value,key:`${c}__q`},[E,x("div",{class:"q-tree__children"+(n.disabled===!0?" q-tree__node--disabled":"")},u)]),[[bt,n.expanded]])):E])}function N(l){const c=m[l];c&&c.focus()}function j(l,c,n,s){s!==!0&&c.selectable!==!1&&N(c.key),S.value&&c.selectable?e.noSelectionUnset===!1?t("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&t("update:selected",c.key===void 0?null:c.key):G(l,c,n,s),typeof l.handler=="function"&&l.handler(l)}function G(l,c,n,s){n!==void 0&&de(n),s!==!0&&c.selectable!==!1&&N(c.key),F(c.key,!c.expanded,l,c)}function ue(l,c){if(l.indeterminate===!0&&(c=l.indeterminateNextState),l.strictTicking)D([l.key],c);else if(l.leafTicking){const n=[],s=u=>{u.isParent?(c!==!0&&u.noTick!==!0&&u.tickable===!0&&n.push(u.key),u.leafTicking===!0&&u.children.forEach(s)):u.noTick!==!0&&u.tickable===!0&&(u.leafFilteredTicking!==!0||u.matchesFilter===!0)&&n.push(u.key)};s(l),D(n,c)}}return e.defaultExpandAll===!0&&B(),Object.assign(a,{getNodeByKey:I,getTickedNodes:$,getExpandedNodes:z,isExpanded:p,collapseAll:O,expandAll:B,setExpanded:F,isTicked:U,setTicked:D}),()=>{const l=V(e.nodes);return x("div",{class:y.value},l.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:l)}}}),tn=te({name:"QBanner",props:{...qe,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:i}){const{proxy:{$q:t}}=X(),a=ke(e,t),r=k(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(a.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),d=k(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const o=[x("div",{class:"q-banner__avatar col-auto row items-center self-start"},ae(i.avatar)),x("div",{class:"q-banner__content col text-body2"},ae(i.default))],v=ae(i.action);return v!==void 0&&o.push(x("div",{class:d.value},v)),x("div",{class:r.value+(e.inlineActions===!1&&v!==void 0?" q-banner--top-padding":""),role:"alert"},o)}}});function Ze(){let e;const i=X();function t(){e=void 0}return xt(t),fe(t),{removeTick:t,registerTick(a){e=a,$e(()=>{e===a&&(yt(i)===!1&&e(),e=void 0)})}}}const Je={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function et(e,i=()=>{},t=()=>{}){return{transitionProps:k(()=>{const a=`q-transition--${e.transitionShow||i()}`,r=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:k(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ce=[];function nn(e,i){do{if(e.$options.name==="QMenu"){if(e.hide(i),e.$props.separateClosePopup===!0)return Ce(e)}else if(e.__qPortal===!0){const t=Ce(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(i),t):e}e=Ce(e)}while(e!=null)}function ln(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function tt(e,i,t,a){const r=M(!1),d=M(!1);let o=null;const v={},h=a==="dialog"&&ln(e);function m(S){if(S===!0){Ve(v),d.value=!0;return}d.value=!1,r.value===!1&&(h===!1&&o===null&&(o=wt(!1,a)),r.value=!0,ce.push(e.proxy),At(v))}function y(S){if(d.value=!1,S!==!0)return;Ve(v),r.value=!1;const T=ce.indexOf(e.proxy);T!==-1&&ce.splice(T,1),o!==null&&(St(o),o=null)}return kt(()=>{y(!0)}),e.proxy.__qPortal=!0,ge(e.proxy,"contentEl",()=>i.value),{showPortal:m,hidePortal:y,portalIsActive:r,portalIsAccessible:d,renderPortal:()=>h===!0?t():r.value===!0?[x(qt,{to:o},t())]:void 0}}const Z=[];let oe;function an(e){oe=e.keyCode===27}function on(){oe===!0&&(oe=!1)}function rn(e){oe===!0&&(oe=!1,Qe(e,27)===!0&&Z[Z.length-1](e))}function nt(e){window[e]("keydown",an),window[e]("blur",on),window[e]("keyup",rn),oe=!1}function lt(e){He.is.desktop===!0&&(Z.push(e),Z.length===1&&nt("addEventListener"))}function be(e){const i=Z.indexOf(e);i>-1&&(Z.splice(i,1),Z.length===0&&nt("removeEventListener"))}const J=[];function it(e){J[J.length-1](e)}function at(e){He.is.desktop===!0&&(J.push(e),J.length===1&&document.body.addEventListener("focusin",it))}function Be(e){const i=J.indexOf(e);i>-1&&(J.splice(i,1),J.length===0&&document.body.removeEventListener("focusin",it))}let he=0;const un={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ze={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},sn=te({name:"QDialog",inheritAttrs:!1,props:{...Ue,...Je,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Xe,"shake","click","escapeKey"],setup(e,{slots:i,emit:t,attrs:a}){const r=X(),d=M(null),o=M(!1),v=M(!1);let h=null,m=null,y,S;const T=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:f}=It(),{registerTimeout:g}=Ge(),{registerTick:C,removeTick:A}=Ze(),{transitionProps:P,transitionStyle:I}=et(e,()=>ze[e.position][0],()=>ze[e.position][1]),{showPortal:$,hidePortal:z,portalIsAccessible:p,renderPortal:O}=tt(r,d,n,"dialog"),{hide:B}=Ye({showing:o,hideOnRouteChange:T,handleShow:R,handleHide:re,processOnMount:!0}),{addToHistory:F,removeFromHistory:L}=Dt(o,B,T),U=k(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${un[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),D=k(()=>o.value===!0&&e.seamless!==!0),w=k(()=>e.autoClose===!0?{onClick:ue}:{}),V=k(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${D.value===!0?"modal":"seamless"}`,a.class]);W(()=>e.maximized,s=>{o.value===!0&&G(s)}),W(D,s=>{f(s),s===!0?(at(c),lt(N)):(Be(c),be(N))});function R(s){F(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,G(e.maximized),$(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),C(Q)):A(),g(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:u,bottom:q}=document.activeElement.getBoundingClientRect(),{innerHeight:E}=window,b=window.visualViewport!==void 0?window.visualViewport.height:E;u>0&&q>b/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-b,q>=E?1/0:Math.ceil(document.scrollingElement.scrollTop+q-b/2))),document.activeElement.scrollIntoView()}S=!0,d.value.click(),S=!1}$(!0),v.value=!1,t("show",s)},e.transitionDuration)}function re(s){A(),L(),j(!0),v.value=!0,z(),m!==null&&(((s&&s.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),g(()=>{z(!0),v.value=!1,t("hide",s)},e.transitionDuration)}function Q(s){je(()=>{let u=d.value;u===null||u.contains(document.activeElement)===!0||(u=(s!==""?u.querySelector(s):null)||u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function Y(s){s&&typeof s.focus=="function"?s.focus({preventScroll:!0}):Q(),t("shake");const u=d.value;u!==null&&(u.classList.remove("q-animate--scale"),u.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,d.value!==null&&(u.classList.remove("q-animate--scale"),Q())},170))}function N(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Y():(t("escapeKey"),B()))}function j(s){h!==null&&(clearTimeout(h),h=null),(s===!0||o.value===!0)&&(G(!1),e.seamless!==!0&&(f(!1),Be(c),be(N))),s!==!0&&(m=null)}function G(s){s===!0?y!==!0&&(he<1&&document.body.classList.add("q-body--dialog"),he++,y=!0):y===!0&&(he<2&&document.body.classList.remove("q-body--dialog"),he--,y=!1)}function ue(s){S!==!0&&(B(s),t("click",s))}function l(s){e.persistent!==!0&&e.noBackdropDismiss!==!0?B(s):e.noShake!==!0&&Y()}function c(s){e.allowFocusOutside!==!0&&p.value===!0&&Ne(d.value,s.target)!==!0&&Q('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:Q,shake:Y,__updateRefocusTarget(s){m=s||null}}),fe(j);function n(){return x("div",{role:"dialog","aria-modal":D.value===!0?"true":"false",...a,class:V.value},[x(Ee,{name:"q-transition--fade",appear:!0},()=>D.value===!0?x("div",{class:"q-dialog__backdrop fixed-full",style:I.value,"aria-hidden":"true",tabindex:-1,onClick:l}):null),x(Ee,P.value,()=>o.value===!0?x("div",{ref:d,class:U.value,style:I.value,tabindex:-1,...w.value},ae(i.default)):null)])}return O}}),ot={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function rt({showing:e,avoidEmit:i,configureAnchorEl:t}){const{props:a,proxy:r,emit:d}=X(),o=M(null);let v=null;function h(f){return o.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const m={};t===void 0&&(Object.assign(m,{hide(f){r.hide(f)},toggle(f){r.toggle(f),f.qAnchorHandled=!0},toggleKey(f){Qe(f,13)===!0&&m.toggle(f)},contextClick(f){r.hide(f),Fe(f),$e(()=>{r.show(f),f.qAnchorHandled=!0})},prevent:Fe,mobileTouch(f){if(m.mobileCleanup(f),h(f)!==!0)return;r.hide(f),o.value.classList.add("non-selectable");const g=f.target;Me(m,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,r.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){o.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&f!==void 0&&Ot()}}),t=function(f=a.contextMenu){if(a.noParentEvent===!0||o.value===null)return;let g;f===!0?r.$q.platform.is.mobile===!0?g=[[o.value,"touchstart","mobileTouch","passive"]]:g=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:g=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],Me(m,"anchor",g)});function y(){Ct(m,"anchor")}function S(f){for(o.value=f;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;t()}function T(){if(a.target===!1||a.target===""||r.$el.parentNode===null)o.value=null;else if(a.target===!0)S(r.$el.parentNode);else{let f=a.target;if(typeof a.target=="string")try{f=document.querySelector(a.target)}catch{f=void 0}f!=null?(o.value=f.$el||f,t()):(o.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return W(()=>a.contextMenu,f=>{o.value!==null&&(y(),t(f))}),W(()=>a.target,()=>{o.value!==null&&y(),T()}),W(()=>a.noParentEvent,f=>{o.value!==null&&(f===!0?y():t())}),_t(()=>{T(),i!==!0&&a.modelValue===!0&&o.value===null&&d("update:modelValue",!1)}),fe(()=>{v!==null&&clearTimeout(v),y()}),{anchorEl:o,canShow:h,anchorEvents:m}}function cn(e,i){const t=M(null);let a;function r(v,h){const m=`${h!==void 0?"add":"remove"}EventListener`,y=h!==void 0?h:a;v!==window&&v[m]("scroll",y,pe.passive),window[m]("scroll",y,pe.passive),a=h}function d(){t.value!==null&&(r(t.value),t.value=null)}const o=W(()=>e.noParentEvent,()=>{t.value!==null&&(d(),i())});return fe(o),{localScrollTarget:t,unconfigureScrollTarget:d,changeScrollEvent:r}}const{notPassiveCapture:xe}=pe,ee=[];function ye(e){const i=e.target;if(i===void 0||i.nodeType===8||i.classList.contains("no-pointer-events")===!0)return;let t=ce.length-1;for(;t>=0;){const a=ce[t].$;if(a.type.name==="QTooltip"){t--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;t--}for(let a=ee.length-1;a>=0;a--){const r=ee[a];if((r.anchorEl.value===null||r.anchorEl.value.contains(i)===!1)&&(i===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(i)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function dn(e){ee.push(e),ee.length===1&&(document.addEventListener("mousedown",ye,xe),document.addEventListener("touchstart",ye,xe))}function Le(e){const i=ee.findIndex(t=>t===e);i>-1&&(ee.splice(i,1),ee.length===0&&(document.removeEventListener("mousedown",ye,xe),document.removeEventListener("touchstart",ye,xe)))}let De,Ie;function Oe(e){const i=e.split(" ");return i.length!==2?!1:["top","center","bottom"].includes(i[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(i[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function fn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Pe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Pe[`${e}#ltr`]=e,Pe[`${e}#rtl`]=e});function We(e,i){const t=e.split(" ");return{vertical:t[0],horizontal:Pe[`${t[1]}#${i===!0?"rtl":"ltr"}`]}}function vn(e,i){let{top:t,left:a,right:r,bottom:d,width:o,height:v}=e.getBoundingClientRect();return i!==void 0&&(t-=i[1],a-=i[0],d+=i[1],r+=i[0],o+=i[0],v+=i[1]),{top:t,bottom:d,height:v,left:a,right:r,width:o,middle:a+(r-a)/2,center:t+(d-t)/2}}function hn(e,i,t){let{top:a,left:r}=e.getBoundingClientRect();return a+=i.top,r+=i.left,t!==void 0&&(a+=t[1],r+=t[0]),{top:a,bottom:a+1,height:1,left:r,right:r+1,width:1,middle:r,center:a}}function mn(e,i){return{top:0,center:i/2,bottom:i,left:0,middle:e/2,right:e}}function Re(e,i,t,a){return{top:e[t.vertical]-i[a.vertical],left:e[t.horizontal]-i[a.horizontal]}}function ut(e,i=0){if(e.targetEl===null||e.anchorEl===null||i>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ut(e,i+1)},10);return}const{targetEl:t,offset:a,anchorEl:r,anchorOrigin:d,selfOrigin:o,absoluteOffset:v,fit:h,cover:m,maxHeight:y,maxWidth:S}=e;if(He.is.ios===!0&&window.visualViewport!==void 0){const O=document.body.style,{offsetLeft:B,offsetTop:F}=window.visualViewport;B!==De&&(O.setProperty("--q-pe-left",B+"px"),De=B),F!==Ie&&(O.setProperty("--q-pe-top",F+"px"),Ie=F)}const{scrollLeft:T,scrollTop:f}=t,g=v===void 0?vn(r,m===!0?[0,0]:a):hn(r,v,a);Object.assign(t.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:S||"100vw",maxHeight:y||"100vh",visibility:"visible"});const{offsetWidth:C,offsetHeight:A}=t,{elWidth:P,elHeight:I}=h===!0||m===!0?{elWidth:Math.max(g.width,C),elHeight:m===!0?Math.max(g.height,A):A}:{elWidth:C,elHeight:A};let $={maxWidth:S,maxHeight:y};(h===!0||m===!0)&&($.minWidth=g.width+"px",m===!0&&($.minHeight=g.height+"px")),Object.assign(t.style,$);const z=mn(P,I);let p=Re(g,z,d,o);if(v===void 0||a===void 0)Te(p,g,z,d,o);else{const{top:O,left:B}=p;Te(p,g,z,d,o);let F=!1;if(p.top!==O){F=!0;const L=2*a[1];g.center=g.top-=L,g.bottom-=L+2}if(p.left!==B){F=!0;const L=2*a[0];g.middle=g.left-=L,g.right-=L+2}F===!0&&(p=Re(g,z,d,o),Te(p,g,z,d,o))}$={top:p.top+"px",left:p.left+"px"},p.maxHeight!==void 0&&($.maxHeight=p.maxHeight+"px",g.height>p.maxHeight&&($.minHeight=$.maxHeight)),p.maxWidth!==void 0&&($.maxWidth=p.maxWidth+"px",g.width>p.maxWidth&&($.minWidth=$.maxWidth)),Object.assign(t.style,$),t.scrollTop!==f&&(t.scrollTop=f),t.scrollLeft!==T&&(t.scrollLeft=T)}function Te(e,i,t,a,r){const d=t.bottom,o=t.right,v=Wt(),h=window.innerHeight-v,m=document.body.clientWidth;if(e.top<0||e.top+d>h)if(r.vertical==="center")e.top=i[a.vertical]>h/2?Math.max(0,h-d):0,e.maxHeight=Math.min(d,h);else if(i[a.vertical]>h/2){const y=Math.min(h,a.vertical==="center"?i.center:a.vertical===r.vertical?i.bottom:i.top);e.maxHeight=Math.min(d,y),e.top=Math.max(0,y-d)}else e.top=Math.max(0,a.vertical==="center"?i.center:a.vertical===r.vertical?i.top:i.bottom),e.maxHeight=Math.min(d,h-e.top);if(e.left<0||e.left+o>m)if(e.maxWidth=Math.min(o,m),r.horizontal==="middle")e.left=i[a.horizontal]>m/2?Math.max(0,m-o):0;else if(i[a.horizontal]>m/2){const y=Math.min(m,a.horizontal==="middle"?i.middle:a.horizontal===r.horizontal?i.right:i.left);e.maxWidth=Math.min(o,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?i.middle:a.horizontal===r.horizontal?i.left:i.right),e.maxWidth=Math.min(o,m-e.left)}const gn=te({name:"QMenu",inheritAttrs:!1,props:{...ot,...Ue,...qe,...Je,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Oe},self:{type:String,validator:Oe},offset:{type:Array,validator:fn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Xe,"click","escapeKey"],setup(e,{slots:i,emit:t,attrs:a}){let r=null,d,o,v;const h=X(),{proxy:m}=h,{$q:y}=m,S=M(null),T=M(!1),f=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=ke(e,y),{registerTick:C,removeTick:A}=Ze(),{registerTimeout:P}=Ge(),{transitionProps:I,transitionStyle:$}=et(e),{localScrollTarget:z,changeScrollEvent:p,unconfigureScrollTarget:O}=cn(e,c),{anchorEl:B,canShow:F}=rt({showing:T}),{hide:L}=Ye({showing:T,canShow:F,handleShow:G,handleHide:ue,hideOnRouteChange:f,processOnMount:!0}),{showPortal:U,hidePortal:D,renderPortal:w}=tt(h,S,E,"menu"),V={anchorEl:B,innerRef:S,onClickOutside(b){if(e.persistent!==!0&&T.value===!0)return L(b),(b.type==="touchstart"||b.target.classList.contains("q-dialog__backdrop"))&&de(b),!0}},R=k(()=>We(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),re=k(()=>e.cover===!0?R.value:We(e.self||"top start",y.lang.rtl)),Q=k(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),Y=k(()=>e.autoClose===!0?{onClick:n}:{}),N=k(()=>T.value===!0&&e.persistent!==!0);W(N,b=>{b===!0?(lt(u),dn(V)):(be(u),Le(V))});function j(){je(()=>{let b=S.value;b&&b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||b.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function G(b){if(r=e.noRefocus===!1?document.activeElement:null,at(s),U(),c(),d=void 0,b!==void 0&&(e.touchPosition||e.contextMenu)){const H=Tt(b);if(H.left!==void 0){const{top:we,left:ne}=B.value.getBoundingClientRect();d={left:H.left-ne,top:H.top-we}}}o===void 0&&(o=W(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,q)),e.noFocus!==!0&&document.activeElement.blur(),C(()=>{q(),e.noFocus!==!0&&j()}),P(()=>{y.platform.is.ios===!0&&(v=e.autoClose,S.value.click()),q(),U(!0),t("show",b)},e.transitionDuration)}function ue(b){A(),D(),l(!0),r!==null&&(b===void 0||b.qClickOutside!==!0)&&(((b&&b.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),P(()=>{D(!0),t("hide",b)},e.transitionDuration)}function l(b){d=void 0,o!==void 0&&(o(),o=void 0),(b===!0||T.value===!0)&&(Be(s),O(),Le(V),be(u)),b!==!0&&(r=null)}function c(){(B.value!==null||e.scrollTarget!==void 0)&&(z.value=Rt(B.value,e.scrollTarget),p(z.value,q))}function n(b){v!==!0?(nn(m,b),t("click",b)):v=!1}function s(b){N.value===!0&&e.noFocus!==!0&&Ne(S.value,b.target)!==!0&&j()}function u(b){t("escapeKey"),L(b)}function q(){ut({targetEl:S.value,offset:e.offset,anchorEl:B.value,anchorOrigin:R.value,selfOrigin:re.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function E(){return x(Ee,I.value,()=>T.value===!0?x("div",{role:"menu",...a,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+Q.value,a.class],style:[a.style,$.value],...Y.value},ae(i.default)):null)}return fe(l),Object.assign(m,{focus:j,updatePosition:q}),w}}),bn=te({name:"QPopupProxy",props:{...ot,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:i,emit:t,attrs:a}){const{proxy:r}=X(),{$q:d}=r,o=M(!1),v=M(null),h=k(()=>parseInt(e.breakpoint,10)),{canShow:m}=rt({showing:o});function y(){return d.screen.width<h.value||d.screen.height<h.value?"dialog":"menu"}const S=M(y()),T=k(()=>S.value==="menu"?{maxHeight:"99vh"}:{});W(()=>y(),C=>{o.value!==!0&&(S.value=C)});function f(C){o.value=!0,t("show",C)}function g(C){o.value=!1,S.value=y(),t("hide",C)}return Object.assign(r,{show(C){m(C)===!0&&v.value.show(C)},hide(C){v.value.hide(C)},toggle(C){v.value.toggle(C)}}),ge(r,"currentComponent",()=>({type:S.value,ref:v.value})),()=>{const C={ref:v,...T.value,...a,onShow:f,onHide:g};let A;return S.value==="dialog"?A=sn:(A=gn,Object.assign(C,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),x(A,C,i.default)}}}),xn=te({name:"QField",inheritAttrs:!1,props:Ft,emits:Mt,setup(){return Vt(zt())}}),yn={class:"self-center full-width no-outline ellipsis",tabindex:"0"},En={__name:"GoalSelect",props:{modelValue:{type:Number,default:null},exceptId:{type:Number,default:null}},emits:["update:modelValue"],setup(e,{emit:i}){const t=e,a=k({get(){return t.modelValue},set(v){i("update:modelValue",v)}}),r=Qt(),d=k(()=>t.modelValue?r.getItem(t.modelValue).name:null);function o(v){return v.id!==t.exceptId}return(v,h)=>(Et(),pt(xn,{modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=m=>a.value=m),clearable:"","clear-icon":"close"},{control:se(()=>[Bt("div",yn,Pt(d.value),1)]),append:se(()=>[ve(me,{name:"keyboard_arrow_down"})]),default:se(()=>[ve(bn,{fit:"","auto-close":""},{default:se(()=>[ve(tn,null,{default:se(()=>[ve(en,{selected:a.value,"onUpdate:selected":h[0]||(h[0]=m=>a.value=m),nodes:$t(r).tree,filter:String(e.exceptId),"filter-method":o,"node-key":"id","label-key":"name",icon:"keyboard_arrow_right","no-selection-unset":"","default-expand-all":""},null,8,["selected","nodes","filter"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{En as _,Ut as a,Xt as b,Gt as u};
