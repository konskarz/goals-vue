import{a as re,Q as ue}from"./QToolbar-cb39847f.js";import{a as D,c as k,b as I,Q as P}from"./QList-727e3e84.js";import{u as ce,Q as de}from"./GoalStore-d1c1993f.js";import{as as se,c as ge,at as E,M as fe,D as me,N as ve,g as he,E as be,r as B,au as O,P as xe,d as l,w as L,a as _e,h as a,av as A,J as Se,aw as Ie,S as ke,ae as G,C as Te,a4 as c,a2 as m,a3 as i,a5 as v,a7 as y,af as N,aj as T,ad as we,a8 as M,aa as H,a9 as V,ap as Le}from"./index-387a8200.js";import{Q as ye}from"./QSlideTransition-ed7f4295.js";import{d as qe}from"./date-08927ab6.js";import"./format-8c778330.js";const f=se({}),Ce=Object.keys(E),Qe=ge({name:"QExpansionItem",props:{...E,...fe,...me,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...ve,"click","afterShow","afterHide"],setup(e,{slots:n,emit:r}){const{proxy:{$q:d}}=he(),s=be(e,d),o=B(e.modelValue!==null?e.modelValue:e.defaultOpened),b=B(null),x=O(),{show:$,hide:q,toggle:w}=xe({showing:o});let g,h;const R=l(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),Y=l(()=>e.contentInsetLevel===void 0?null:{["padding"+(d.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),_=l(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),K=l(()=>{const t={};return Ce.forEach(u=>{t[u]=e[u]}),t}),U=l(()=>_.value===!0||e.expandIconToggle!==!0),F=l(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||d.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),J=l(()=>e.disable!==!0&&(_.value===!0||e.expandIconToggle===!0)),z=l(()=>({expanded:o.value===!0,detailsId:e.targetUid,toggle:w,show:$,hide:q})),C=l(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:d.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":x,"aria-label":t}});L(()=>e.group,t=>{h!==void 0&&h(),t!==void 0&&p()});function W(t){_.value!==!0&&w(t),r("click",t)}function X(t){t.keyCode===13&&Q(t,!0)}function Q(t,u){u!==!0&&b.value!==null&&b.value.focus(),w(t),Te(t)}function Z(){r("afterShow")}function ee(){r("afterHide")}function p(){g===void 0&&(g=O()),o.value===!0&&(f[e.group]=g);const t=L(o,S=>{S===!0?f[e.group]=g:f[e.group]===g&&delete f[e.group]}),u=L(()=>f[e.group],(S,ie)=>{ie===g&&S!==void 0&&S!==g&&q()});h=()=>{t(),u(),f[e.group]===g&&delete f[e.group],h=void 0}}function te(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},u=[a(G,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:F.value})];return J.value===!0&&(Object.assign(t,{tabindex:0,...C.value,onClick:Q,onKeyup:X}),u.unshift(a("div",{ref:b,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),a(I,t,()=>u)}function ae(){let t;return n.header!==void 0?t=[].concat(n.header(z.value)):(t=[a(I,()=>[a(k,{lines:e.labelLines},()=>e.label||""),e.caption?a(k,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](a(I,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>a(G,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](te()),t}function ne(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:s.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return U.value===!0&&(t.clickable=!0,t.onClick=W,Object.assign(t,_.value===!0?K.value:C.value)),a(D,t,ae)}function oe(){return Se(a("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:Y.value,id:x},ke(n.default)),[[Ie,o.value]])}function le(){const t=[ne(),a(ye,{duration:e.duration,onShow:Z,onHide:ee},oe)];return e.expandSeparator===!0&&t.push(a(A,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),a(A,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),t}return e.group!==void 0&&p(),_e(()=>{h!==void 0&&h()}),()=>a("div",{class:R.value},[a("div",{class:"q-expansion-item__container relative-position"},le())])}}),j={__name:"GoalListItemSections",props:{goal:{type:Object,required:!0}},setup(e){const n=e,r=l(()=>n.goal.planned?qe.formatDate(n.goal.planned,"ddd MMM DD YYYY"):null);return(d,s)=>(c(),m(I,null,{default:i(()=>[v(k,null,{default:i(()=>[y(N(e.goal.name),1)]),_:1}),v(k,{caption:""},{default:i(()=>[y(N(T(r)),1)]),_:1})]),_:1}))}},pe={__name:"GoalListItem",props:{goal:{type:Object,required:!0}},setup(e){const n=e,r={name:"goal",params:{id:n.goal.id}},d=l(()=>n.goal.children&&n.goal.children.length);return(s,o)=>{const b=we("GoalListItem",!0);return T(d)?(c(),m(Qe,{key:0,to:r,"content-inset-level":.5,"default-opened":"","expand-icon-toggle":"","expand-icon":"keyboard_arrow_right","expanded-icon":"keyboard_arrow_down"},{header:i(()=>[v(j,{goal:e.goal},null,8,["goal"])]),default:i(()=>[v(P,null,{default:i(()=>[(c(!0),M(H,null,V(e.goal.children,x=>(c(),m(b,{key:x.id,goal:x},null,8,["goal"]))),128))]),_:1})]),_:1},8,["content-inset-level"])):(c(),m(D,{key:1,to:r},{default:i(()=>[v(j,{goal:e.goal},null,8,["goal"])]),_:1}))}}},Pe={__name:"GoalsView",setup(e){const n=ce();return(r,d)=>(c(),m(de,{padding:""},{default:i(()=>[v(ue,null,{default:i(()=>[v(re,null,{default:i(()=>[y("Goals")]),_:1})]),_:1}),T(n).tree?(c(),m(P,{key:0},{default:i(()=>[(c(!0),M(H,null,V(T(n).tree,s=>(c(),m(pe,{key:s.id,goal:s},null,8,["goal"]))),128))]),_:1})):Le("",!0)]),_:1}))}};export{Pe as default};
