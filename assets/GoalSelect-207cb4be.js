import{r as F,j as x,h as y,g as N,a6 as dt,ai as ae,u as ft,m as Z,a5 as vt,F as fe,a9 as je,B as Me,b as Fe,z as Oe,w as O,o as ht,a as ve,E as mt,l as Ee,aj as Te,t as gt,ak as ge,al as bt,am as yt,an as xt,H as kt,ao as qt,x as He,c as G,D as wt,ab as Be,ap as Ue,d as ze,e as oe,f as St,q as _t,Q as be,aq as Ct,ar as Tt,as as pt,J as Et,N as Bt,O as Pt,P as $t,R as ce,ac as Ft,U as Ht,S as he,_ as Kt}from"./index-5a3b7a6b.js";import{a as qe,u as we}from"./uid-ba94bac9.js";import{u as At,a as Mt,r as Ve,b as Ot,c as Ge,d as zt,e as Vt,f as Lt,g as Dt}from"./use-field-9a346963.js";import{d as It,c as Qt,u as Xe,f as Ye,h as Je,i as Ze,g as Rt,Q as Wt,j as Nt,k as jt,l as Ut}from"./QSlideTransition-a77edcff.js";function Gt(e,o){const t=F(null),n=x(()=>e.disable===!0?null:y("span",{ref:t,class:"no-outline",tabindex:-1}));function r(f){const a=o.value;f!==void 0&&f.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():t.value!==null&&(f===void 0||a!==null&&a.contains(f.target)===!0)&&t.value.focus()}return{refocusTargetEl:n,refocusTarget:r}}const Xt={xs:30,sm:35,md:40,lg:50,xl:60},Yt={...we,...vt,...At,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Jt=["update:modelValue"];function Zt(e,o){const{props:t,slots:n,emit:r,proxy:f}=N(),{$q:a}=f,d=qe(t,a),v=F(null),{refocusTargetEl:m,refocusTarget:b}=Gt(t,v),_=dt(t,Xt),T=x(()=>t.val!==void 0&&Array.isArray(t.modelValue)),h=x(()=>{const q=ae(t.val);return T.value===!0?t.modelValue.findIndex(H=>ae(H)===q):-1}),w=x(()=>T.value===!0?h.value>-1:ae(t.modelValue)===ae(t.trueValue)),C=x(()=>T.value===!0?h.value===-1:ae(t.modelValue)===ae(t.falseValue)),A=x(()=>w.value===!1&&C.value===!1),P=x(()=>t.disable===!0?-1:t.tabindex||0),M=x(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),j=x(()=>{const q=w.value===!0?"truthy":C.value===!0?"falsy":"indet",H=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?w.value===!0:C.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${q}${H}`}),z=x(()=>{const q={type:"checkbox"};return t.name!==void 0&&Object.assign(q,{".checked":w.value,"^checked":w.value===!0?"checked":void 0,name:t.name,value:T.value===!0?t.val:t.trueValue}),q}),X=Mt(z),Y=x(()=>{const q={tabindex:P.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":A.value===!0?"mixed":w.value===!0?"true":"false"};return t.disable===!0&&(q["aria-disabled"]="true"),q});function $(q){q!==void 0&&(fe(q),b(q)),t.disable!==!0&&r("update:modelValue",V(),q)}function V(){if(T.value===!0){if(w.value===!0){const q=t.modelValue.slice();return q.splice(h.value,1),q}return t.modelValue.concat([t.val])}if(w.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(C.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function L(q){(q.keyCode===13||q.keyCode===32)&&fe(q)}function U(q){(q.keyCode===13||q.keyCode===32)&&$(q)}const K=o(w,A);return Object.assign(f,{toggle:$}),()=>{const q=K();t.disable!==!0&&X(q,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const H=[y("div",{class:j.value,style:_.value,"aria-hidden":"true"},q)];m.value!==null&&H.push(m.value);const D=t.label!==void 0?ft(n.default,[t.label]):Z(n.default);return D!==void 0&&H.push(y("div",{class:`q-${e}__label q-anchor--skip`},D)),y("div",{ref:v,class:M.value,...Y.value,onClick:$,onKeydown:L,onKeyup:U},H)}}const et={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function tt({showing:e,avoidEmit:o,configureAnchorEl:t}){const{props:n,proxy:r,emit:f}=N(),a=F(null);let d=null;function v(h){return a.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const m={};t===void 0&&(Object.assign(m,{hide(h){r.hide(h)},toggle(h){r.toggle(h),h.qAnchorHandled=!0},toggleKey(h){je(h,13)===!0&&m.toggle(h)},contextClick(h){r.hide(h),Me(h),Fe(()=>{r.show(h),h.qAnchorHandled=!0})},prevent:Me,mobileTouch(h){if(m.mobileCleanup(h),v(h)!==!0)return;r.hide(h),a.value.classList.add("non-selectable");const w=h.target;Oe(m,"anchor",[[w,"touchmove","mobileCleanup","passive"],[w,"touchend","mobileCleanup","passive"],[w,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,r.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){a.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),e.value===!0&&h!==void 0&&It()}}),t=function(h=n.contextMenu){if(n.noParentEvent===!0||a.value===null)return;let w;h===!0?r.$q.platform.is.mobile===!0?w=[[a.value,"touchstart","mobileTouch","passive"]]:w=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:w=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Oe(m,"anchor",w)});function b(){mt(m,"anchor")}function _(h){for(a.value=h;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;t()}function T(){if(n.target===!1||n.target===""||r.$el.parentNode===null)a.value=null;else if(n.target===!0)_(r.$el.parentNode);else{let h=n.target;if(typeof n.target=="string")try{h=document.querySelector(n.target)}catch{h=void 0}h!=null?(a.value=h.$el||h,t()):(a.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return O(()=>n.contextMenu,h=>{a.value!==null&&(b(),t(h))}),O(()=>n.target,()=>{a.value!==null&&b(),T()}),O(()=>n.noParentEvent,h=>{a.value!==null&&(h===!0?b():t())}),ht(()=>{T(),o!==!0&&n.modelValue===!0&&a.value===null&&f("update:modelValue",!1)}),ve(()=>{d!==null&&clearTimeout(d),b()}),{anchorEl:a,canShow:v,anchorEvents:m}}function en(e,o){const t=F(null);let n;function r(d,v){const m=`${v!==void 0?"add":"remove"}EventListener`,b=v!==void 0?v:n;d!==window&&d[m]("scroll",b,Ee.passive),window[m]("scroll",b,Ee.passive),n=v}function f(){t.value!==null&&(r(t.value),t.value=null)}const a=O(()=>e.noParentEvent,()=>{t.value!==null&&(f(),o())});return ve(a),{localScrollTarget:t,unconfigureScrollTarget:f,changeScrollEvent:r}}const de=[];function tn(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return Te(e)}else if(e.__qPortal===!0){const t=Te(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(o),t):e}e=Te(e)}while(e!=null)}function nn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function nt(e,o,t,n){const r=F(!1),f=F(!1);let a=null;const d={},v=n==="dialog"&&nn(e);function m(_){if(_===!0){Ve(d),f.value=!0;return}f.value=!1,r.value===!1&&(v===!1&&a===null&&(a=yt(!1,n)),r.value=!0,de.push(e.proxy),Ot(d))}function b(_){if(f.value=!1,_!==!0)return;Ve(d),r.value=!1;const T=de.indexOf(e.proxy);T!==-1&&de.splice(T,1),a!==null&&(xt(a),a=null)}return gt(()=>{b(!0)}),e.proxy.__qPortal=!0,ge(e.proxy,"contentEl",()=>o.value),{showPortal:m,hidePortal:b,portalIsActive:r,portalIsAccessible:f,renderPortal:()=>v===!0?t():r.value===!0?[y(bt,{to:a},t())]:void 0}}const lt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function it(e,o=()=>{},t=()=>{}){return{transitionProps:x(()=>{const n=`q-transition--${e.transitionShow||o()}`,r=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:x(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function at(){let e;const o=N();function t(){e=void 0}return kt(t),ve(t),{removeTick:t,registerTick(n){e=n,Fe(()=>{e===n&&(qt(o)===!1&&e(),e=void 0)})}}}const ee=[];let re;function ln(e){re=e.keyCode===27}function an(){re===!0&&(re=!1)}function on(e){re===!0&&(re=!1,je(e,27)===!0&&ee[ee.length-1](e))}function ot(e){window[e]("keydown",ln),window[e]("blur",an),window[e]("keyup",on),re=!1}function rt(e){He.is.desktop===!0&&(ee.push(e),ee.length===1&&ot("addEventListener"))}function ye(e){const o=ee.indexOf(e);o>-1&&(ee.splice(o,1),ee.length===0&&ot("removeEventListener"))}const te=[];function ut(e){te[te.length-1](e)}function st(e){He.is.desktop===!0&&(te.push(e),te.length===1&&document.body.addEventListener("focusin",ut))}function Pe(e){const o=te.indexOf(e);o>-1&&(te.splice(o,1),te.length===0&&document.body.removeEventListener("focusin",ut))}const{notPassiveCapture:xe}=Ee,ne=[];function ke(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let t=de.length-1;for(;t>=0;){const n=de[t].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;t--}for(let n=ne.length-1;n>=0;n--){const r=ne[n];if((r.anchorEl.value===null||r.anchorEl.value.contains(o)===!1)&&(o===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(o)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function rn(e){ne.push(e),ne.length===1&&(document.addEventListener("mousedown",ke,xe),document.addEventListener("touchstart",ke,xe))}function Le(e){const o=ne.findIndex(t=>t===e);o>-1&&(ne.splice(o,1),ne.length===0&&(document.removeEventListener("mousedown",ke,xe),document.removeEventListener("touchstart",ke,xe)))}let De,Ie;function Qe(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function un(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const $e={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{$e[`${e}#ltr`]=e,$e[`${e}#rtl`]=e});function Re(e,o){const t=e.split(" ");return{vertical:t[0],horizontal:$e[`${t[1]}#${o===!0?"rtl":"ltr"}`]}}function sn(e,o){let{top:t,left:n,right:r,bottom:f,width:a,height:d}=e.getBoundingClientRect();return o!==void 0&&(t-=o[1],n-=o[0],f+=o[1],r+=o[0],a+=o[0],d+=o[1]),{top:t,bottom:f,height:d,left:n,right:r,width:a,middle:n+(r-n)/2,center:t+(f-t)/2}}function cn(e,o,t){let{top:n,left:r}=e.getBoundingClientRect();return n+=o.top,r+=o.left,t!==void 0&&(n+=t[1],r+=t[0]),{top:n,bottom:n+1,height:1,left:r,right:r+1,width:1,middle:r,center:n}}function dn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function We(e,o,t){return{top:e[t.anchorOrigin.vertical]-o[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-o[t.selfOrigin.horizontal]}}function fn(e){if(He.is.ios===!0&&window.visualViewport!==void 0){const d=document.body.style,{offsetLeft:v,offsetTop:m}=window.visualViewport;v!==De&&(d.setProperty("--q-pe-left",v+"px"),De=v),m!==Ie&&(d.setProperty("--q-pe-top",m+"px"),Ie=m)}const{scrollLeft:o,scrollTop:t}=e.el,n=e.absoluteOffset===void 0?sn(e.anchorEl,e.cover===!0?[0,0]:e.offset):cn(e.anchorEl,e.absoluteOffset,e.offset);let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(r.minWidth=n.width+"px",e.cover===!0&&(r.minHeight=n.height+"px")),Object.assign(e.el.style,r);const f=dn(e.el);let a=We(n,f,e);if(e.absoluteOffset===void 0||e.offset===void 0)pe(a,n,f,e.anchorOrigin,e.selfOrigin);else{const{top:d,left:v}=a;pe(a,n,f,e.anchorOrigin,e.selfOrigin);let m=!1;if(a.top!==d){m=!0;const b=2*e.offset[1];n.center=n.top-=b,n.bottom-=b+2}if(a.left!==v){m=!0;const b=2*e.offset[0];n.middle=n.left-=b,n.right-=b+2}m===!0&&(a=We(n,f,e),pe(a,n,f,e.anchorOrigin,e.selfOrigin))}r={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(r.maxHeight=a.maxHeight+"px",n.height>a.maxHeight&&(r.minHeight=r.maxHeight)),a.maxWidth!==void 0&&(r.maxWidth=a.maxWidth+"px",n.width>a.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==t&&(e.el.scrollTop=t),e.el.scrollLeft!==o&&(e.el.scrollLeft=o)}function pe(e,o,t,n,r){const f=t.bottom,a=t.right,d=Qt(),v=window.innerHeight-d,m=document.body.clientWidth;if(e.top<0||e.top+f>v)if(r.vertical==="center")e.top=o[n.vertical]>v/2?Math.max(0,v-f):0,e.maxHeight=Math.min(f,v);else if(o[n.vertical]>v/2){const b=Math.min(v,n.vertical==="center"?o.center:n.vertical===r.vertical?o.bottom:o.top);e.maxHeight=Math.min(f,b),e.top=Math.max(0,b-f)}else e.top=Math.max(0,n.vertical==="center"?o.center:n.vertical===r.vertical?o.top:o.bottom),e.maxHeight=Math.min(f,v-e.top);if(e.left<0||e.left+a>m)if(e.maxWidth=Math.min(a,m),r.horizontal==="middle")e.left=o[n.horizontal]>m/2?Math.max(0,m-a):0;else if(o[n.horizontal]>m/2){const b=Math.min(m,n.horizontal==="middle"?o.middle:n.horizontal===r.horizontal?o.right:o.left);e.maxWidth=Math.min(a,b),e.left=Math.max(0,b-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?o.middle:n.horizontal===r.horizontal?o.left:o.right),e.maxWidth=Math.min(a,m-e.left)}const vn=G({name:"QMenu",inheritAttrs:!1,props:{...et,...Xe,...we,...lt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qe},self:{type:String,validator:Qe},offset:{type:Array,validator:un},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ye,"click","escapeKey"],setup(e,{slots:o,emit:t,attrs:n}){let r=null,f,a,d;const v=N(),{proxy:m}=v,{$q:b}=m,_=F(null),T=F(!1),h=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),w=qe(e,b),{registerTick:C,removeTick:A}=at(),{registerTimeout:P}=Je(),{transitionProps:M,transitionStyle:j}=it(e),{localScrollTarget:z,changeScrollEvent:X,unconfigureScrollTarget:Y}=en(e,c),{anchorEl:$,canShow:V}=tt({showing:T}),{hide:L}=Ze({showing:T,canShow:V,handleShow:W,handleHide:se,hideOnRouteChange:h,processOnMount:!0}),{showPortal:U,hidePortal:K,renderPortal:q}=nt(v,_,p,"menu"),H={anchorEl:$,innerRef:_,onClickOutside(g){if(e.persistent!==!0&&T.value===!0)return L(g),(g.type==="touchstart"||g.target.classList.contains("q-dialog__backdrop"))&&fe(g),!0}},D=x(()=>Re(e.anchor||(e.cover===!0?"center middle":"bottom start"),b.lang.rtl)),ue=x(()=>e.cover===!0?D.value:Re(e.self||"top start",b.lang.rtl)),I=x(()=>(e.square===!0?" q-menu--square":"")+(w.value===!0?" q-menu--dark q-dark":"")),J=x(()=>e.autoClose===!0?{onClick:l}:{}),Q=x(()=>T.value===!0&&e.persistent!==!0);O(Q,g=>{g===!0?(rt(u),rn(H)):(ye(u),Le(H))});function R(){Ge(()=>{let g=_.value;g&&g.contains(document.activeElement)!==!0&&(g=g.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||g.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||g.querySelector("[autofocus], [data-autofocus]")||g,g.focus({preventScroll:!0}))})}function W(g){if(r=e.noRefocus===!1?document.activeElement:null,st(s),U(),c(),f=void 0,g!==void 0&&(e.touchPosition||e.contextMenu)){const E=wt(g);if(E.left!==void 0){const{top:Se,left:le}=$.value.getBoundingClientRect();f={left:E.left-le,top:E.top-Se}}}a===void 0&&(a=O(()=>b.screen.width+"|"+b.screen.height+"|"+e.self+"|"+e.anchor+"|"+b.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),C(()=>{k(),e.noFocus!==!0&&R()}),P(()=>{b.platform.is.ios===!0&&(d=e.autoClose,_.value.click()),k(),U(!0),t("show",g)},e.transitionDuration)}function se(g){A(),K(),i(!0),r!==null&&(g===void 0||g.qClickOutside!==!0)&&(((g&&g.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),P(()=>{K(!0),t("hide",g)},e.transitionDuration)}function i(g){f=void 0,a!==void 0&&(a(),a=void 0),(g===!0||T.value===!0)&&(Pe(s),Y(),Le(H),ye(u)),g!==!0&&(r=null)}function c(){($.value!==null||e.scrollTarget!==void 0)&&(z.value=Rt($.value,e.scrollTarget),X(z.value,k))}function l(g){d!==!0?(tn(m,g),t("click",g)):d=!1}function s(g){Q.value===!0&&e.noFocus!==!0&&Ue(_.value,g.target)!==!0&&R()}function u(g){t("escapeKey"),L(g)}function k(){const g=_.value;g===null||$.value===null||fn({el:g,offset:e.offset,anchorEl:$.value,anchorOrigin:D.value,selfOrigin:ue.value,absoluteOffset:f,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function p(){return y(Be,M.value,()=>T.value===!0?y("div",{role:"menu",...n,ref:_,tabindex:-1,class:["q-menu q-position-engine scroll"+I.value,n.class],style:[n.style,j.value],...J.value},Z(o.default)):null)}return ve(i),Object.assign(m,{focus:R,updatePosition:k}),q}}),En=G({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:o}){const{proxy:{$q:t}}=N(),n=ze(St,oe);if(n===oe)return console.error("QPage needs to be a deep child of QLayout"),oe;if(ze(_t,oe)===oe)return console.error("QPage needs to be child of QPageContainer"),oe;const f=x(()=>{const d=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const v=n.isContainer.value===!0?n.containerHeight.value:t.screen.height;return e.styleFn(d,v)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-d+"px":t.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":t.screen.height-d+"px"}}),a=x(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>y("main",{class:a.value,style:f.value},Z(o.default))}}),hn=y("div",{key:"svg",class:"q-checkbox__bg absolute"},[y("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[y("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),y("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),mn=G({name:"QCheckbox",props:Yt,emits:Jt,setup(e){function o(t,n){const r=x(()=>(t.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[y("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[y(be,{class:"q-checkbox__icon",name:r.value})])]:[hn]}return Zt("checkbox",o)}}),gn=["none","strict","leaf","leaf-filtered"],bn=G({name:"QTree",props:{...we,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>gn.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:o,emit:t}){const{proxy:n}=N(),{$q:r}=n,f=qe(e,r),a=F({}),d=F(e.ticked||[]),v=F(e.expanded||[]);let m={};Ct(()=>{m={}});const b=x(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(f.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),_=x(()=>e.selected!==void 0),T=x(()=>e.icon||r.iconSet.tree.icon),h=x(()=>e.controlColor||e.color),w=x(()=>e.textColor!==void 0?` text-${e.textColor}`:""),C=x(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),A=x(()=>e.filterMethod!==void 0?e.filterMethod:(i,c)=>{const l=c.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(l)>-1}),P=x(()=>{const i={},c=(l,s)=>{const u=l.tickStrategy||(s?s.tickStrategy:e.tickStrategy),k=l[e.nodeKey],p=l[e.childrenKey]&&l[e.childrenKey].length!==0,g=l.disabled!==!0&&_.value===!0&&l.selectable!==!1,E=l.disabled!==!0&&l.expandable!==!1,Se=u!=="none",le=u==="strict",Ke=u==="leaf-filtered",_e=u==="leaf"||u==="leaf-filtered";let Ce=l.disabled!==!0&&l.tickable!==!1;_e===!0&&Ce===!0&&s&&s.tickable!==!0&&(Ce=!1);let ie=l.lazy;ie===!0&&a.value[k]!==void 0&&Array.isArray(l[e.childrenKey])===!0&&(ie=a.value[k]);const S={key:k,parent:s,isParent:p,lazy:ie,disabled:l.disabled,link:l.disabled!==!0&&(g===!0||E===!0&&(p===!0||ie===!0)),children:[],matchesFilter:e.filter?A.value(l,e.filter):!0,selected:k===e.selected&&g===!0,selectable:g,expanded:p===!0?v.value.includes(k):!1,expandable:E,noTick:l.noTick===!0||le!==!0&&ie&&ie!=="loaded",tickable:Ce,tickStrategy:u,hasTicking:Se,strictTicking:le,leafFilteredTicking:Ke,leafTicking:_e,ticked:le===!0?d.value.includes(k):p===!0?!1:d.value.includes(k)};if(i[k]=S,p===!0&&(S.children=l[e.childrenKey].map(B=>c(B,S)),e.filter&&(S.matchesFilter!==!0?S.matchesFilter=S.children.some(B=>B.matchesFilter):S.noTick!==!0&&S.disabled!==!0&&S.tickable===!0&&Ke===!0&&S.children.every(B=>B.matchesFilter!==!0||B.noTick===!0||B.tickable!==!0)===!0&&(S.tickable=!1)),S.matchesFilter===!0&&(S.noTick!==!0&&le!==!0&&S.children.every(B=>B.noTick)===!0&&(S.noTick=!0),_e))){if(S.ticked=!1,S.indeterminate=S.children.some(B=>B.indeterminate===!0),S.tickable=S.tickable===!0&&S.children.some(B=>B.tickable),S.indeterminate!==!0){const B=S.children.reduce((Ae,ct)=>ct.ticked===!0?Ae+1:Ae,0);B===S.children.length?S.ticked=!0:B>0&&(S.indeterminate=!0)}S.indeterminate===!0&&(S.indeterminateNextState=S.children.every(B=>B.tickable!==!0||B.ticked!==!0))}return S};return e.nodes.forEach(l=>c(l,null)),i});O(()=>e.ticked,i=>{d.value=i}),O(()=>e.expanded,i=>{v.value=i});function M(i){const c=[].reduce,l=(s,u)=>{if(s||!u)return s;if(Array.isArray(u)===!0)return c.call(Object(u),l,s);if(u[e.nodeKey]===i)return u;if(u[e.childrenKey])return l(null,u[e.childrenKey])};return l(null,e.nodes)}function j(){return d.value.map(i=>M(i))}function z(){return v.value.map(i=>M(i))}function X(i){return i&&P.value[i]?P.value[i].expanded:!1}function Y(){e.expanded!==void 0?t("update:expanded",[]):v.value=[]}function $(){const i=[],c=l=>{l[e.childrenKey]&&l[e.childrenKey].length!==0&&l.expandable!==!1&&l.disabled!==!0&&(i.push(l[e.nodeKey]),l[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?t("update:expanded",i):v.value=i}function V(i,c,l=M(i),s=P.value[i]){if(s.lazy&&s.lazy!=="loaded"){if(s.lazy==="loading")return;a.value[i]="loading",Array.isArray(l[e.childrenKey])!==!0&&(l[e.childrenKey]=[]),t("lazyLoad",{node:l,key:i,done:u=>{a.value[i]="loaded",l[e.childrenKey]=Array.isArray(u)===!0?u:[],Fe(()=>{const k=P.value[i];k&&k.isParent===!0&&L(i,!0)})},fail:()=>{delete a.value[i],l[e.childrenKey].length===0&&delete l[e.childrenKey]}})}else s.isParent===!0&&s.expandable===!0&&L(i,c)}function L(i,c){let l=v.value;const s=e.expanded!==void 0;if(s===!0&&(l=l.slice()),c){if(e.accordion&&P.value[i]){const u=[];P.value[i].parent?P.value[i].parent.children.forEach(k=>{k.key!==i&&k.expandable===!0&&u.push(k.key)}):e.nodes.forEach(k=>{const p=k[e.nodeKey];p!==i&&u.push(p)}),u.length!==0&&(l=l.filter(k=>u.includes(k)===!1))}l=l.concat([i]).filter((u,k,p)=>p.indexOf(u)===k)}else l=l.filter(u=>u!==i);s===!0?t("update:expanded",l):v.value=l}function U(i){return i&&P.value[i]?P.value[i].ticked:!1}function K(i,c){let l=d.value;const s=e.ticked!==void 0;s===!0&&(l=l.slice()),c?l=l.concat(i).filter((u,k,p)=>p.indexOf(u)===k):l=l.filter(u=>i.includes(u)===!1),s===!0&&t("update:ticked",l)}function q(i,c,l){const s={tree:n,node:i,key:l,color:e.color,dark:f.value};return ge(s,"expanded",()=>c.expanded,u=>{u!==c.expanded&&V(l,u)}),ge(s,"ticked",()=>c.ticked,u=>{u!==c.ticked&&K([l],u)}),s}function H(i){return(e.filter?i.filter(c=>P.value[c[e.nodeKey]].matchesFilter):i).map(c=>J(c))}function D(i){if(i.icon!==void 0)return y(be,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const c=i.img||i.avatar;if(c)return y("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:c})}function ue(){t("afterShow")}function I(){t("afterHide")}function J(i){const c=i[e.nodeKey],l=P.value[c],s=i.header&&o[`header-${i.header}`]||o["default-header"],u=l.isParent===!0?H(i[e.childrenKey]):[],k=u.length!==0||l.lazy&&l.lazy!=="loaded";let p=i.body&&o[`body-${i.body}`]||o["default-body"];const g=s!==void 0||p!==void 0?q(i,l,c):null;return p!==void 0&&(p=y("div",{class:"q-tree__node-body relative-position"},[y("div",{class:w.value},[p(g)])])),y("div",{key:c,class:`q-tree__node relative-position q-tree__node--${k===!0?"parent":"child"}`},[y("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(l.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(l.selected===!0?" q-tree__node--selected":"")+(l.disabled===!0?" q-tree__node--disabled":""),tabindex:l.link===!0?0:-1,onClick:E=>{R(i,l,E)},onKeypress(E){Tt(E)!==!0&&(E.keyCode===13?R(i,l,E,!0):E.keyCode===32&&W(i,l,E,!0))}},[y("div",{class:"q-focus-helper",tabindex:-1,ref:E=>{m[l.key]=E}}),l.lazy==="loading"?y(pt,{class:"q-tree__spinner",color:h.value}):k===!0?y(be,{class:"q-tree__arrow"+(l.expanded===!0?" q-tree__arrow--rotate":""),name:T.value,onClick(E){W(i,l,E)}}):null,l.hasTicking===!0&&l.noTick!==!0?y(mn,{class:"q-tree__tickbox",modelValue:l.indeterminate===!0?null:l.ticked,color:h.value,dark:f.value,dense:!0,keepColor:!0,disable:l.tickable!==!0,onKeydown:fe,"onUpdate:modelValue":E=>{se(l,E)}}):null,y("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(l.selected===!0?C.value:w.value)},[s?s(g):[D(i),y("div",i[e.labelKey])]])]),k===!0?e.noTransition===!0?y("div",{class:"q-tree__node-collapsible"+w.value,key:`${c}__q`},[p,y("div",{class:"q-tree__children"+(l.disabled===!0?" q-tree__node--disabled":"")},l.expanded?u:null)]):y(Wt,{duration:e.duration,onShow:ue,onHide:I},()=>Et(y("div",{class:"q-tree__node-collapsible"+w.value,key:`${c}__q`},[p,y("div",{class:"q-tree__children"+(l.disabled===!0?" q-tree__node--disabled":"")},u)]),[[Bt,l.expanded]])):p])}function Q(i){const c=m[i];c&&c.focus()}function R(i,c,l,s){s!==!0&&c.selectable!==!1&&Q(c.key),_.value&&c.selectable?e.noSelectionUnset===!1?t("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&t("update:selected",c.key===void 0?null:c.key):W(i,c,l,s),typeof i.handler=="function"&&i.handler(i)}function W(i,c,l,s){l!==void 0&&fe(l),s!==!0&&c.selectable!==!1&&Q(c.key),V(c.key,!c.expanded,i,c)}function se(i,c){if(i.indeterminate===!0&&(c=i.indeterminateNextState),i.strictTicking)K([i.key],c);else if(i.leafTicking){const l=[],s=u=>{u.isParent?(c!==!0&&u.noTick!==!0&&u.tickable===!0&&l.push(u.key),u.leafTicking===!0&&u.children.forEach(s)):u.noTick!==!0&&u.tickable===!0&&(u.leafFilteredTicking!==!0||u.matchesFilter===!0)&&l.push(u.key)};s(i),K(l,c)}}return e.defaultExpandAll===!0&&$(),Object.assign(n,{getNodeByKey:M,getTickedNodes:j,getExpandedNodes:z,isExpanded:X,collapseAll:Y,expandAll:$,setExpanded:V,isTicked:U,setTicked:K}),()=>{const i=H(e.nodes);return y("div",{class:b.value},i.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:i)}}}),yn=G({name:"QBanner",props:{...we,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:o}){const{proxy:{$q:t}}=N(),n=qe(e,t),r=x(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),f=x(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const a=[y("div",{class:"q-banner__avatar col-auto row items-center self-start"},Z(o.avatar)),y("div",{class:"q-banner__content col text-body2"},Z(o.default))],d=Z(o.action);return d!==void 0&&a.push(y("div",{class:f.value},d)),y("div",{class:r.value+(e.inlineActions===!1&&d!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}});let me=0;const xn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ne={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},kn=G({name:"QDialog",inheritAttrs:!1,props:{...Xe,...lt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ye,"shake","click","escapeKey"],setup(e,{slots:o,emit:t,attrs:n}){const r=N(),f=F(null),a=F(!1),d=F(!1);let v=null,m=null,b,_;const T=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:h}=jt(),{registerTimeout:w}=Je(),{registerTick:C,removeTick:A}=at(),{transitionProps:P,transitionStyle:M}=it(e,()=>Ne[e.position][0],()=>Ne[e.position][1]),{showPortal:j,hidePortal:z,portalIsAccessible:X,renderPortal:Y}=nt(r,f,l,"dialog"),{hide:$}=Ze({showing:a,hideOnRouteChange:T,handleShow:D,handleHide:ue,processOnMount:!0}),{addToHistory:V,removeFromHistory:L}=Nt(a,$,T),U=x(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${xn[e.position]}`+(d.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),K=x(()=>a.value===!0&&e.seamless!==!0),q=x(()=>e.autoClose===!0?{onClick:se}:{}),H=x(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${K.value===!0?"modal":"seamless"}`,n.class]);O(()=>e.maximized,s=>{a.value===!0&&W(s)}),O(K,s=>{h(s),s===!0?(st(c),rt(Q)):(Pe(c),ye(Q))});function D(s){V(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,W(e.maximized),j(),d.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),C(I)):A(),w(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:u,bottom:k}=document.activeElement.getBoundingClientRect(),{innerHeight:p}=window,g=window.visualViewport!==void 0?window.visualViewport.height:p;u>0&&k>g/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-g,k>=p?1/0:Math.ceil(document.scrollingElement.scrollTop+k-g/2))),document.activeElement.scrollIntoView()}_=!0,f.value.click(),_=!1}j(!0),d.value=!1,t("show",s)},e.transitionDuration)}function ue(s){A(),L(),R(!0),d.value=!0,z(),m!==null&&(((s&&s.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),w(()=>{z(!0),d.value=!1,t("hide",s)},e.transitionDuration)}function I(s){Ge(()=>{let u=f.value;u===null||u.contains(document.activeElement)===!0||(u=(s!==""?u.querySelector(s):null)||u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function J(s){s&&typeof s.focus=="function"?s.focus({preventScroll:!0}):I(),t("shake");const u=f.value;u!==null&&(u.classList.remove("q-animate--scale"),u.classList.add("q-animate--scale"),v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,f.value!==null&&(u.classList.remove("q-animate--scale"),I())},170))}function Q(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&J():(t("escapeKey"),$()))}function R(s){v!==null&&(clearTimeout(v),v=null),(s===!0||a.value===!0)&&(W(!1),e.seamless!==!0&&(h(!1),Pe(c),ye(Q))),s!==!0&&(m=null)}function W(s){s===!0?b!==!0&&(me<1&&document.body.classList.add("q-body--dialog"),me++,b=!0):b===!0&&(me<2&&document.body.classList.remove("q-body--dialog"),me--,b=!1)}function se(s){_!==!0&&($(s),t("click",s))}function i(s){e.persistent!==!0&&e.noBackdropDismiss!==!0?$(s):e.noShake!==!0&&J()}function c(s){e.allowFocusOutside!==!0&&X.value===!0&&Ue(f.value,s.target)!==!0&&I('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:I,shake:J,__updateRefocusTarget(s){m=s||null}}),ve(R);function l(){return y("div",{role:"dialog","aria-modal":K.value===!0?"true":"false",...n,class:H.value},[y(Be,{name:"q-transition--fade",appear:!0},()=>K.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:i}):null),y(Be,P.value,()=>a.value===!0?y("div",{ref:f,class:U.value,style:M.value,tabindex:-1,...q.value},Z(o.default)):null)])}return Y}}),qn=G({name:"QPopupProxy",props:{...et,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:o,emit:t,attrs:n}){const{proxy:r}=N(),{$q:f}=r,a=F(!1),d=F(null),v=x(()=>parseInt(e.breakpoint,10)),{canShow:m}=tt({showing:a});function b(){return f.screen.width<v.value||f.screen.height<v.value?"dialog":"menu"}const _=F(b()),T=x(()=>_.value==="menu"?{maxHeight:"99vh"}:{});O(()=>b(),C=>{a.value!==!0&&(_.value=C)});function h(C){a.value=!0,t("show",C)}function w(C){a.value=!1,_.value=b(),t("hide",C)}return Object.assign(r,{show(C){m(C)===!0&&d.value.show(C)},hide(C){d.value.hide(C)},toggle(C){d.value.toggle(C)}}),ge(r,"currentComponent",()=>({type:_.value,ref:d.value})),()=>{const C={ref:d,...T.value,...n,onShow:h,onHide:w};let A;return _.value==="dialog"?A=kn:(A=vn,Object.assign(C,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),y(A,C,o.default)}}}),wn=G({name:"QField",inheritAttrs:!1,props:zt,emits:Vt,setup(){return Lt(Dt())}}),Sn={class:"self-center full-width no-outline ellipsis",tabindex:"0"},Bn={__name:"GoalSelect",props:{modelValue:{type:Number,default:null},exceptId:{type:Number,default:null}},emits:["update:modelValue"],setup(e,{emit:o}){const t=e,n=x({get(){return t.modelValue},set(d){o("update:modelValue",d)}}),r=Ut(),f=x(()=>t.modelValue?r.getItem(t.modelValue).name:null);function a(d){return d.id!==t.exceptId}return(d,v)=>(Pt(),$t(wn,{modelValue:n.value,"onUpdate:modelValue":v[1]||(v[1]=m=>n.value=m),clearable:"","clear-icon":"close"},{control:ce(()=>[Ft("div",Sn,Ht(f.value),1)]),append:ce(()=>[he(be,{name:"keyboard_arrow_down"})]),default:ce(()=>[he(qn,{fit:"","auto-close":""},{default:ce(()=>[he(yn,null,{default:ce(()=>[he(bn,{selected:n.value,"onUpdate:selected":v[0]||(v[0]=m=>n.value=m),nodes:Kt(r).tree,filter:String(e.exceptId),"filter-method":a,"node-key":"id","label-key":"name",icon:"keyboard_arrow_right","no-selection-unset":"","default-expand-all":""},null,8,["selected","nodes","filter"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{En as Q,Bn as _,vn as a,Jt as b,Zt as c,Yt as u};
