import{g as N,r as K,aq as We,F as we,b as Le,D as _e,w as H,o as Ne,a as ke,I as Ve,l as ge,aD as Ee,B as Re,v as De,c as V,S as Ie,K as qe,aE as je,T as Ue,d as S,L as Se,aF as Ge,U as Xe,aG as Ye,V as Je,aH as Ze,aI as et,H as tt,aJ as nt,aK as pe,s as lt,aL as at,h as k,m as G,as as it,aM as ot,aN as rt,aO as ut,J as me,e as W,j as Pe,k as st,q as ct,aP as dt,aQ as ft,aR as ht,a2 as ye,aS as vt,P as gt,a1 as mt,aT as be,aU as yt,aV as bt,aW as xt,aX as kt,aY as qt,a3 as St,a4 as Ct,a5 as U,ax as Tt,a8 as wt,a9 as Z,a6 as ee,au as Ke}from"./index-04da890e.js";import{c as _t,Q as Et,u as pt}from"./QSlideTransition-beb445b7.js";const ze={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Oe({showing:e,avoidEmit:i,configureAnchorEl:o}){const{props:l,proxy:r,emit:m}=N(),a=K(null);let c=null;function h(d){return a.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const v={};o===void 0&&(Object.assign(v,{hide(d){r.hide(d)},toggle(d){r.toggle(d),d.qAnchorHandled=!0},toggleKey(d){We(d,13)===!0&&v.toggle(d)},contextClick(d){r.hide(d),we(d),Le(()=>{r.show(d),d.qAnchorHandled=!0})},prevent:we,mobileTouch(d){if(v.mobileCleanup(d),h(d)!==!0)return;r.hide(d),a.value.classList.add("non-selectable");const E=d.target;_e(v,"anchor",[[E,"touchmove","mobileCleanup","passive"],[E,"touchend","mobileCleanup","passive"],[E,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{c=null,r.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){a.value.classList.remove("non-selectable"),c!==null&&(clearTimeout(c),c=null),e.value===!0&&d!==void 0&&_t()}}),o=function(d=l.contextMenu){if(l.noParentEvent===!0||a.value===null)return;let E;d===!0?r.$q.platform.is.mobile===!0?E=[[a.value,"touchstart","mobileTouch","passive"]]:E=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:E=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],_e(v,"anchor",E)});function y(){Ve(v,"anchor")}function _(d){for(a.value=d;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;o()}function P(){if(l.target===!1||l.target===""||r.$el.parentNode===null)a.value=null;else if(l.target===!0)_(r.$el.parentNode);else{let d=l.target;if(typeof l.target=="string")try{d=document.querySelector(l.target)}catch{d=void 0}d!=null?(a.value=d.$el||d,o()):(a.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return H(()=>l.contextMenu,d=>{a.value!==null&&(y(),o(d))}),H(()=>l.target,()=>{a.value!==null&&y(),P()}),H(()=>l.noParentEvent,d=>{a.value!==null&&(d===!0?y():o())}),Ne(()=>{P(),i!==!0&&l.modelValue===!0&&a.value===null&&m("update:modelValue",!1)}),ke(()=>{c!==null&&clearTimeout(c),y()}),{anchorEl:a,canShow:h,anchorEvents:v}}function Pt(e,i){const o=K(null);let l;function r(c,h){const v=`${h!==void 0?"add":"remove"}EventListener`,y=h!==void 0?h:l;c!==window&&c[v]("scroll",y,ge.passive),window[v]("scroll",y,ge.passive),l=h}function m(){o.value!==null&&(r(o.value),o.value=null)}const a=H(()=>e.noParentEvent,()=>{o.value!==null&&(m(),i())});return ke(a),{localScrollTarget:o,unconfigureScrollTarget:m,changeScrollEvent:r}}const{notPassiveCapture:te}=ge,A=[];function ne(e){const i=e.target;if(i===void 0||i.nodeType===8||i.classList.contains("no-pointer-events")===!0)return;let o=Ee.length-1;for(;o>=0;){const l=Ee[o].$;if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;o--}for(let l=A.length-1;l>=0;l--){const r=A[l];if((r.anchorEl.value===null||r.anchorEl.value.contains(i)===!1)&&(i===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(i)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function Kt(e){A.push(e),A.length===1&&(document.addEventListener("mousedown",ne,te),document.addEventListener("touchstart",ne,te))}function Fe(e){const i=A.findIndex(o=>o===e);i>-1&&(A.splice(i,1),A.length===0&&(document.removeEventListener("mousedown",ne,te),document.removeEventListener("touchstart",ne,te)))}let He,Be;function Me(e){const i=e.split(" ");return i.length!==2?!1:["top","center","bottom"].includes(i[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(i[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ft(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const xe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{xe[`${e}#ltr`]=e,xe[`${e}#rtl`]=e});function Ae(e,i){const o=e.split(" ");return{vertical:o[0],horizontal:xe[`${o[1]}#${i===!0?"rtl":"ltr"}`]}}function Ht(e,i){let{top:o,left:l,right:r,bottom:m,width:a,height:c}=e.getBoundingClientRect();return i!==void 0&&(o-=i[1],l-=i[0],m+=i[1],r+=i[0],a+=i[0],c+=i[1]),{top:o,bottom:m,height:c,left:l,right:r,width:a,middle:l+(r-l)/2,center:o+(m-o)/2}}function Bt(e,i,o){let{top:l,left:r}=e.getBoundingClientRect();return l+=i.top,r+=i.left,o!==void 0&&(l+=o[1],r+=o[0]),{top:l,bottom:l+1,height:1,left:r,right:r+1,width:1,middle:r,center:l}}function Mt(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function $e(e,i,o){return{top:e[o.anchorOrigin.vertical]-i[o.selfOrigin.vertical],left:e[o.anchorOrigin.horizontal]-i[o.selfOrigin.horizontal]}}function At(e){if(Re.is.ios===!0&&window.visualViewport!==void 0){const c=document.body.style,{offsetLeft:h,offsetTop:v}=window.visualViewport;h!==He&&(c.setProperty("--q-pe-left",h+"px"),He=h),v!==Be&&(c.setProperty("--q-pe-top",v+"px"),Be=v)}const{scrollLeft:i,scrollTop:o}=e.el,l=e.absoluteOffset===void 0?Ht(e.anchorEl,e.cover===!0?[0,0]:e.offset):Bt(e.anchorEl,e.absoluteOffset,e.offset);let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(r.minWidth=l.width+"px",e.cover===!0&&(r.minHeight=l.height+"px")),Object.assign(e.el.style,r);const m=Mt(e.el);let a=$e(l,m,e);if(e.absoluteOffset===void 0||e.offset===void 0)ve(a,l,m,e.anchorOrigin,e.selfOrigin);else{const{top:c,left:h}=a;ve(a,l,m,e.anchorOrigin,e.selfOrigin);let v=!1;if(a.top!==c){v=!0;const y=2*e.offset[1];l.center=l.top-=y,l.bottom-=y+2}if(a.left!==h){v=!0;const y=2*e.offset[0];l.middle=l.left-=y,l.right-=y+2}v===!0&&(a=$e(l,m,e),ve(a,l,m,e.anchorOrigin,e.selfOrigin))}r={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(r.maxHeight=a.maxHeight+"px",l.height>a.maxHeight&&(r.minHeight=r.maxHeight)),a.maxWidth!==void 0&&(r.maxWidth=a.maxWidth+"px",l.width>a.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==o&&(e.el.scrollTop=o),e.el.scrollLeft!==i&&(e.el.scrollLeft=i)}function ve(e,i,o,l,r){const m=o.bottom,a=o.right,c=De(),h=window.innerHeight-c,v=document.body.clientWidth;if(e.top<0||e.top+m>h)if(r.vertical==="center")e.top=i[l.vertical]>h/2?Math.max(0,h-m):0,e.maxHeight=Math.min(m,h);else if(i[l.vertical]>h/2){const y=Math.min(h,l.vertical==="center"?i.center:l.vertical===r.vertical?i.bottom:i.top);e.maxHeight=Math.min(m,y),e.top=Math.max(0,y-m)}else e.top=Math.max(0,l.vertical==="center"?i.center:l.vertical===r.vertical?i.top:i.bottom),e.maxHeight=Math.min(m,h-e.top);if(e.left<0||e.left+a>v)if(e.maxWidth=Math.min(a,v),r.horizontal==="middle")e.left=i[l.horizontal]>v/2?Math.max(0,v-a):0;else if(i[l.horizontal]>v/2){const y=Math.min(v,l.horizontal==="middle"?i.middle:l.horizontal===r.horizontal?i.right:i.left);e.maxWidth=Math.min(a,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?i.middle:l.horizontal===r.horizontal?i.left:i.right),e.maxWidth=Math.min(a,v-e.left)}const $t=V({name:"QMenu",inheritAttrs:!1,props:{...ze,...Ie,...qe,...je,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Me},self:{type:String,validator:Me},offset:{type:Array,validator:Ft},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ue,"click","escapeKey"],setup(e,{slots:i,emit:o,attrs:l}){let r=null,m,a,c;const h=N(),{proxy:v}=h,{$q:y}=v,_=K(null),P=K(!1),d=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),E=Se(e,y),{registerTick:T,removeTick:B}=Ge(),{registerTimeout:p}=Xe(),{transitionProps:$,transitionStyle:le}=Ye(e),{localScrollTarget:X,changeScrollEvent:ae,unconfigureScrollTarget:ie}=Pt(e,u),{anchorEl:F,canShow:R}=Oe({showing:P}),{hide:D}=Je({showing:P,canShow:R,handleShow:j,handleHide:ce,hideOnRouteChange:d,processOnMount:!0}),{showPortal:Y,hidePortal:M,renderPortal:oe}=Ze(h,_,q,"menu"),L={anchorEl:F,innerRef:_,onClickOutside(f){if(e.persistent!==!0&&P.value===!0)return D(f),(f.type==="touchstart"||f.target.classList.contains("q-dialog__backdrop"))&&me(f),!0}},J=S(()=>Ae(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),re=S(()=>e.cover===!0?J.value:Ae(e.self||"top start",y.lang.rtl)),ue=S(()=>(e.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),se=S(()=>e.autoClose===!0?{onClick:t}:{}),I=S(()=>P.value===!0&&e.persistent!==!0);H(I,f=>{f===!0?(rt(s),Kt(L)):(pe(s),Fe(L))});function z(){ot(()=>{let f=_.value;f&&f.contains(document.activeElement)!==!0&&(f=f.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||f.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||f.querySelector("[autofocus], [data-autofocus]")||f,f.focus({preventScroll:!0}))})}function j(f){if(r=e.noRefocus===!1?document.activeElement:null,et(g),Y(),u(),m=void 0,f!==void 0&&(e.touchPosition||e.contextMenu)){const C=tt(f);if(C.left!==void 0){const{top:de,left:O}=F.value.getBoundingClientRect();m={left:C.left-O,top:C.top-de}}}a===void 0&&(a=H(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,b)),e.noFocus!==!0&&document.activeElement.blur(),T(()=>{b(),e.noFocus!==!0&&z()}),p(()=>{y.platform.is.ios===!0&&(c=e.autoClose,_.value.click()),b(),Y(!0),o("show",f)},e.transitionDuration)}function ce(f){B(),M(),n(!0),r!==null&&(f===void 0||f.qClickOutside!==!0)&&(((f&&f.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),p(()=>{M(!0),o("hide",f)},e.transitionDuration)}function n(f){m=void 0,a!==void 0&&(a(),a=void 0),(f===!0||P.value===!0)&&(nt(g),ie(),Fe(L),pe(s)),f!==!0&&(r=null)}function u(){(F.value!==null||e.scrollTarget!==void 0)&&(X.value=lt(F.value,e.scrollTarget),ae(X.value,b))}function t(f){c!==!0?(at(v,f),o("click",f)):c=!1}function g(f){I.value===!0&&e.noFocus!==!0&&ut(_.value,f.target)!==!0&&z()}function s(f){o("escapeKey"),D(f)}function b(){const f=_.value;f===null||F.value===null||At({el:f,offset:e.offset,anchorEl:F.value,anchorOrigin:J.value,selfOrigin:re.value,absoluteOffset:m,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function q(){return k(it,$.value,()=>P.value===!0?k("div",{role:"menu",...l,ref:_,tabindex:-1,class:["q-menu q-position-engine scroll"+ue.value,l.class],style:[l.style,le.value],...se.value},G(i.default)):null)}return ke(n),Object.assign(v,{focus:z,updatePosition:b}),oe}}),Dt=V({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:i}){const{proxy:{$q:o}}=N(),l=Pe(st,W);if(l===W)return console.error("QPage needs to be a deep child of QLayout"),W;if(Pe(ct,W)===W)return console.error("QPage needs to be child of QPageContainer"),W;const m=S(()=>{const c=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const h=l.isContainer.value===!0?l.containerHeight.value:o.screen.height;return e.styleFn(c,h)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-c+"px":o.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":o.screen.height-c+"px"}}),a=S(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>k("main",{class:a.value,style:m.value},G(i.default))}}),Lt=["none","strict","leaf","leaf-filtered"],zt=V({name:"QTree",props:{...qe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Lt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:i,emit:o}){const{proxy:l}=N(),{$q:r}=l,m=Se(e,r),a=K({}),c=K(e.ticked||[]),h=K(e.expanded||[]);let v={};dt(()=>{v={}});const y=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(m.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),_=S(()=>e.selected!==void 0),P=S(()=>e.icon||r.iconSet.tree.icon),d=S(()=>e.controlColor||e.color),E=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),T=S(()=>{const n=e.selectedColor||e.color;return n?` text-${n}`:""}),B=S(()=>e.filterMethod!==void 0?e.filterMethod:(n,u)=>{const t=u.toLowerCase();return n[e.labelKey]&&n[e.labelKey].toLowerCase().indexOf(t)>-1}),p=S(()=>{const n={},u=(t,g)=>{const s=t.tickStrategy||(g?g.tickStrategy:e.tickStrategy),b=t[e.nodeKey],q=t[e.childrenKey]&&t[e.childrenKey].length!==0,f=t.disabled!==!0&&_.value===!0&&t.selectable!==!1,C=t.disabled!==!0&&t.expandable!==!1,de=s!=="none",O=s==="strict",Ce=s==="leaf-filtered",fe=s==="leaf"||s==="leaf-filtered";let he=t.disabled!==!0&&t.tickable!==!1;fe===!0&&he===!0&&g&&g.tickable!==!0&&(he=!1);let Q=t.lazy;Q===!0&&a.value[b]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(Q=a.value[b]);const x={key:b,parent:g,isParent:q,lazy:Q,disabled:t.disabled,link:t.disabled!==!0&&(f===!0||C===!0&&(q===!0||Q===!0)),children:[],matchesFilter:e.filter?B.value(t,e.filter):!0,selected:b===e.selected&&f===!0,selectable:f,expanded:q===!0?h.value.includes(b):!1,expandable:C,noTick:t.noTick===!0||O!==!0&&Q&&Q!=="loaded",tickable:he,tickStrategy:s,hasTicking:de,strictTicking:O,leafFilteredTicking:Ce,leafTicking:fe,ticked:O===!0?c.value.includes(b):q===!0?!1:c.value.includes(b)};if(n[b]=x,q===!0&&(x.children=t[e.childrenKey].map(w=>u(w,x)),e.filter&&(x.matchesFilter!==!0?x.matchesFilter=x.children.some(w=>w.matchesFilter):x.noTick!==!0&&x.disabled!==!0&&x.tickable===!0&&Ce===!0&&x.children.every(w=>w.matchesFilter!==!0||w.noTick===!0||w.tickable!==!0)===!0&&(x.tickable=!1)),x.matchesFilter===!0&&(x.noTick!==!0&&O!==!0&&x.children.every(w=>w.noTick)===!0&&(x.noTick=!0),fe))){if(x.ticked=!1,x.indeterminate=x.children.some(w=>w.indeterminate===!0),x.tickable=x.tickable===!0&&x.children.some(w=>w.tickable),x.indeterminate!==!0){const w=x.children.reduce((Te,Qe)=>Qe.ticked===!0?Te+1:Te,0);w===x.children.length?x.ticked=!0:w>0&&(x.indeterminate=!0)}x.indeterminate===!0&&(x.indeterminateNextState=x.children.every(w=>w.tickable!==!0||w.ticked!==!0))}return x};return e.nodes.forEach(t=>u(t,null)),n});H(()=>e.ticked,n=>{c.value=n}),H(()=>e.expanded,n=>{h.value=n});function $(n){const u=[].reduce,t=(g,s)=>{if(g||!s)return g;if(Array.isArray(s)===!0)return u.call(Object(s),t,g);if(s[e.nodeKey]===n)return s;if(s[e.childrenKey])return t(null,s[e.childrenKey])};return t(null,e.nodes)}function le(){return c.value.map(n=>$(n))}function X(){return h.value.map(n=>$(n))}function ae(n){return n&&p.value[n]?p.value[n].expanded:!1}function ie(){e.expanded!==void 0?o("update:expanded",[]):h.value=[]}function F(){const n=[],u=t=>{t[e.childrenKey]&&t[e.childrenKey].length!==0&&t.expandable!==!1&&t.disabled!==!0&&(n.push(t[e.nodeKey]),t[e.childrenKey].forEach(u))};e.nodes.forEach(u),e.expanded!==void 0?o("update:expanded",n):h.value=n}function R(n,u,t=$(n),g=p.value[n]){if(g.lazy&&g.lazy!=="loaded"){if(g.lazy==="loading")return;a.value[n]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),o("lazyLoad",{node:t,key:n,done:s=>{a.value[n]="loaded",t[e.childrenKey]=Array.isArray(s)===!0?s:[],Le(()=>{const b=p.value[n];b&&b.isParent===!0&&D(n,!0)})},fail:()=>{delete a.value[n],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else g.isParent===!0&&g.expandable===!0&&D(n,u)}function D(n,u){let t=h.value;const g=e.expanded!==void 0;if(g===!0&&(t=t.slice()),u){if(e.accordion&&p.value[n]){const s=[];p.value[n].parent?p.value[n].parent.children.forEach(b=>{b.key!==n&&b.expandable===!0&&s.push(b.key)}):e.nodes.forEach(b=>{const q=b[e.nodeKey];q!==n&&s.push(q)}),s.length!==0&&(t=t.filter(b=>s.includes(b)===!1))}t=t.concat([n]).filter((s,b,q)=>q.indexOf(s)===b)}else t=t.filter(s=>s!==n);g===!0?o("update:expanded",t):h.value=t}function Y(n){return n&&p.value[n]?p.value[n].ticked:!1}function M(n,u){let t=c.value;const g=e.ticked!==void 0;g===!0&&(t=t.slice()),u?t=t.concat(n).filter((s,b,q)=>q.indexOf(s)===b):t=t.filter(s=>n.includes(s)===!1),g===!0&&o("update:ticked",t)}function oe(n,u,t){const g={tree:l,node:n,key:t,color:e.color,dark:m.value};return be(g,"expanded",()=>u.expanded,s=>{s!==u.expanded&&R(t,s)}),be(g,"ticked",()=>u.ticked,s=>{s!==u.ticked&&M([t],s)}),g}function L(n){return(e.filter?n.filter(u=>p.value[u[e.nodeKey]].matchesFilter):n).map(u=>se(u))}function J(n){if(n.icon!==void 0)return k(ye,{class:"q-tree__icon q-mr-sm",name:n.icon,color:n.iconColor});const u=n.img||n.avatar;if(u)return k("img",{class:`q-tree__${n.img?"img":"avatar"} q-mr-sm`,src:u})}function re(){o("afterShow")}function ue(){o("afterHide")}function se(n){const u=n[e.nodeKey],t=p.value[u],g=n.header&&i[`header-${n.header}`]||i["default-header"],s=t.isParent===!0?L(n[e.childrenKey]):[],b=s.length!==0||t.lazy&&t.lazy!=="loaded";let q=n.body&&i[`body-${n.body}`]||i["default-body"];const f=g!==void 0||q!==void 0?oe(n,t,u):null;return q!==void 0&&(q=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:E.value},[q(f)])])),k("div",{key:u,class:`q-tree__node relative-position q-tree__node--${b===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:C=>{z(n,t,C)},onKeypress(C){ft(C)!==!0&&(C.keyCode===13?z(n,t,C,!0):C.keyCode===32&&j(n,t,C,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:C=>{v[t.key]=C}}),t.lazy==="loading"?k(ht,{class:"q-tree__spinner",color:d.value}):b===!0?k(ye,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:P.value,onClick(C){j(n,t,C)}}):null,t.hasTicking===!0&&t.noTick!==!0?k(vt,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:d.value,dark:m.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:me,"onUpdate:modelValue":C=>{ce(t,C)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?T.value:E.value)},[g?g(f):[J(n),k("div",n[e.labelKey])]])]),b===!0?e.noTransition===!0?k("div",{class:"q-tree__node-collapsible"+E.value,key:`${u}__q`},[q,k("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?s:null)]):k(Et,{duration:e.duration,onShow:re,onHide:ue},()=>gt(k("div",{class:"q-tree__node-collapsible"+E.value,key:`${u}__q`},[q,k("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},s)]),[[mt,t.expanded]])):q])}function I(n){const u=v[n];u&&u.focus()}function z(n,u,t,g){g!==!0&&u.selectable!==!1&&I(u.key),_.value&&u.selectable?e.noSelectionUnset===!1?o("update:selected",u.key!==e.selected?u.key:null):u.key!==e.selected&&o("update:selected",u.key===void 0?null:u.key):j(n,u,t,g),typeof n.handler=="function"&&n.handler(n)}function j(n,u,t,g){t!==void 0&&me(t),g!==!0&&u.selectable!==!1&&I(u.key),R(u.key,!u.expanded,n,u)}function ce(n,u){if(n.indeterminate===!0&&(u=n.indeterminateNextState),n.strictTicking)M([n.key],u);else if(n.leafTicking){const t=[],g=s=>{s.isParent?(u!==!0&&s.noTick!==!0&&s.tickable===!0&&t.push(s.key),s.leafTicking===!0&&s.children.forEach(g)):s.noTick!==!0&&s.tickable===!0&&(s.leafFilteredTicking!==!0||s.matchesFilter===!0)&&t.push(s.key)};g(n),M(t,u)}}return e.defaultExpandAll===!0&&F(),Object.assign(l,{getNodeByKey:$,getTickedNodes:le,getExpandedNodes:X,isExpanded:ae,collapseAll:ie,expandAll:F,setExpanded:R,isTicked:Y,setTicked:M}),()=>{const n=L(e.nodes);return k("div",{class:y.value},n.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:n)}}}),Ot=V({name:"QBanner",props:{...qe,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:i}){const{proxy:{$q:o}}=N(),l=Se(e,o),r=S(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(l.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),m=S(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const a=[k("div",{class:"q-banner__avatar col-auto row items-center self-start"},G(i.avatar)),k("div",{class:"q-banner__content col text-body2"},G(i.default))],c=G(i.action);return c!==void 0&&a.push(k("div",{class:m.value},c)),k("div",{class:r.value+(e.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}}),Qt=V({name:"QPopupProxy",props:{...ze,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:i,emit:o,attrs:l}){const{proxy:r}=N(),{$q:m}=r,a=K(!1),c=K(null),h=S(()=>parseInt(e.breakpoint,10)),{canShow:v}=Oe({showing:a});function y(){return m.screen.width<h.value||m.screen.height<h.value?"dialog":"menu"}const _=K(y()),P=S(()=>_.value==="menu"?{maxHeight:"99vh"}:{});H(()=>y(),T=>{a.value!==!0&&(_.value=T)});function d(T){a.value=!0,o("show",T)}function E(T){a.value=!1,_.value=y(),o("hide",T)}return Object.assign(r,{show(T){v(T)===!0&&c.value.show(T)},hide(T){c.value.hide(T)},toggle(T){c.value.toggle(T)}}),be(r,"currentComponent",()=>({type:_.value,ref:c.value})),()=>{const T={ref:c,...P.value,...l,onShow:d,onHide:E};let B;return _.value==="dialog"?B=yt:(B=$t,Object.assign(T,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),k(B,T,i.default)}}}),Wt=V({name:"QField",inheritAttrs:!1,props:bt,emits:xt,setup(){return kt(qt())}}),Nt={class:"self-center full-width no-outline ellipsis",tabindex:"0"},It={__name:"GoalSelect",props:{modelValue:{type:Number,default:null},exceptId:{type:Number,default:null}},emits:["update:modelValue"],setup(e,{emit:i}){const o=e,l=S({get(){return o.modelValue},set(c){i("update:modelValue",c)}}),r=pt(),m=S(()=>o.modelValue?r.getItem(o.modelValue).name:null);function a(c){return c.id!==o.exceptId}return(c,h)=>(St(),Ct(Wt,{modelValue:Z(l),"onUpdate:modelValue":h[1]||(h[1]=v=>Ke(l)?l.value=v:null),clearable:"","clear-icon":"close"},{control:U(()=>[Tt("div",Nt,wt(Z(m)),1)]),append:U(()=>[ee(ye,{name:"keyboard_arrow_down"})]),default:U(()=>[ee(Qt,{fit:"","auto-close":""},{default:U(()=>[ee(Ot,null,{default:U(()=>[ee(zt,{selected:Z(l),"onUpdate:selected":h[0]||(h[0]=v=>Ke(l)?l.value=v:null),nodes:Z(r).tree,filter:String(e.exceptId),"filter-method":a,"node-key":"id","label-key":"name",icon:"keyboard_arrow_right","no-selection-unset":"","default-expand-all":""},null,8,["selected","nodes","filter"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{Dt as Q,It as _,$t as a};
