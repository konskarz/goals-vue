import{a as Be,Q as Ve}from"./QToolbar-6a73b8d4.js";import{b as H,a as Q,Q as ee,c as _e,d as Ye}from"./QIntersection-7797d378.js";import{c as ne,K as pe,g as ye,L as be,d as E,h as I,m as te,p as We,ak as Se,e as K,f as je,a2 as ae,j as ze,al as Ue,am as Xe,z as Ze,ai as Ke,a3 as C,a4 as P,a5 as p,a6 as D,a7 as B,a8 as G,a9 as w,af as V,ae as re,ab as Me,ac as De,ad as ke,an as J,ao as fe}from"./index-04da890e.js";import{Q as Ge,_ as Je,a as et}from"./GoalSelect-fdc78ef3.js";import{u as ie,d as F}from"./TaskStore-8bb55184.js";import"./QSlideTransition-beb445b7.js";const tt=ne({name:"QTimeline",props:{...pe,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:i=>["left","right"].includes(i)},layout:{type:String,default:"dense",validator:i=>["dense","comfortable","loose"].includes(i)}},setup(i,{slots:l}){const o=ye(),n=be(i,o.proxy.$q);We(Se,i);const e=E(()=>`q-timeline q-timeline--${i.layout} q-timeline--${i.layout}--${i.side}`+(n.value===!0?" q-timeline--dark":""));return()=>I("ul",{class:e.value},te(l.default))}}),at=ne({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:i=>["left","right"].includes(i)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(i,{slots:l}){const o=ze(Se,K);if(o===K)return console.error("QTimelineEntry needs to be child of QTimeline"),K;const n=E(()=>`q-timeline__entry q-timeline__entry--${i.side}`+(i.icon!==void 0||i.avatar!==void 0?" q-timeline__entry--icon":"")),e=E(()=>`q-timeline__dot text-${i.color||o.color}`),r=E(()=>o.layout==="comfortable"&&o.side==="left");return()=>{const s=je(l.default,[]);if(i.body!==void 0&&s.unshift(i.body),i.heading===!0){const d=[I("div"),I("div"),I(i.tag,{class:"q-timeline__heading-title"},s)];return I("div",{class:"q-timeline__heading"},r.value===!0?d.reverse():d)}let u;i.icon!==void 0?u=[I(ae,{class:"row items-center justify-center",name:i.icon})]:i.avatar!==void 0&&(u=[I("img",{class:"q-timeline__dot-img",src:i.avatar})]);const y=[I("div",{class:"q-timeline__subtitle"},[I("span",{},te(l.subtitle,[i.subtitle]))]),I("div",{class:e.value},u),I("div",{class:"q-timeline__content"},[I("h6",{class:"q-timeline__title"},te(l.title,[i.title]))].concat(s))];return I("li",{class:n.value},r.value===!0?y.reverse():y)}}}),rt={xs:2,sm:4,md:6,lg:10,xl:14};function me(i,l,o){return{transform:l===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-i},1,1)`:`scale3d(${i},1,1)`}}const nt=ne({name:"QLinearProgress",props:{...pe,...Ue,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(i,{slots:l}){const{proxy:o}=ye(),n=be(i,o.$q),e=Xe(i,rt),r=E(()=>i.indeterminate===!0||i.query===!0),s=E(()=>i.reverse!==i.query),u=E(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${i.animationSpeed}ms`})),y=E(()=>"q-linear-progress"+(i.color!==void 0?` text-${i.color}`:"")+(i.reverse===!0||i.query===!0?" q-linear-progress--reverse":"")+(i.rounded===!0?" rounded-borders":"")),d=E(()=>me(i.buffer!==void 0?i.buffer:1,s.value,o.$q)),g=E(()=>`with${i.instantFeedback===!0?"out":""}-transition`),T=E(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${g.value} q-linear-progress__track--${n.value===!0?"dark":"light"}`+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),q=E(()=>me(r.value===!0?1:i.value,s.value,o.$q)),c=E(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${g.value} q-linear-progress__model--${r.value===!0?"in":""}determinate`),N=E(()=>({width:`${i.value*100}%`})),Y=E(()=>`q-linear-progress__stripe absolute-${i.reverse===!0?"right":"left"} q-linear-progress__stripe--${g.value}`);return()=>{const A=[I("div",{class:T.value,style:d.value}),I("div",{class:c.value,style:q.value})];return i.stripe===!0&&r.value===!1&&A.push(I("div",{class:Y.value,style:N.value})),I("div",{class:y.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":i.indeterminate===!0?void 0:i.value},Ze(l.default,A))}}});var oe={};(function i(l,o,n,e){var r=!!(l.Worker&&l.Blob&&l.Promise&&l.OffscreenCanvas&&l.OffscreenCanvasRenderingContext2D&&l.HTMLCanvasElement&&l.HTMLCanvasElement.prototype.transferControlToOffscreen&&l.URL&&l.URL.createObjectURL);function s(){}function u(a){var t=o.exports.Promise,v=t!==void 0?t:l.Promise;return typeof v=="function"?new v(a):(a(s,s),null)}var y=function(){var a=Math.floor(16.666666666666668),t,v,h={},b=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(_){var f=Math.random();return h[f]=requestAnimationFrame(function m(k){b===k||b+a-1<k?(b=k,delete h[f],_()):h[f]=requestAnimationFrame(m)}),f},v=function(_){h[_]&&cancelAnimationFrame(h[_])}):(t=function(_){return setTimeout(_,a)},v=function(_){return clearTimeout(_)}),{frame:t,cancel:v}}(),d=function(){var a,t,v={};function h(b){function _(f,m){b.postMessage({options:f||{},callback:m})}b.init=function(m){var k=m.transferControlToOffscreen();b.postMessage({canvas:k},[k])},b.fire=function(m,k,L){if(t)return _(m,null),t;var S=Math.random().toString(36).slice(2);return t=u(function(x){function O(M){M.data.callback===S&&(delete v[S],b.removeEventListener("message",O),t=null,L(),x())}b.addEventListener("message",O),_(m,S),v[S]=O.bind(null,{data:{callback:S}})}),t},b.reset=function(){b.postMessage({reset:!0});for(var m in v)v[m](),delete v[m]}}return function(){if(a)return a;if(!n&&r){var b=["var CONFETTI, SIZE = {}, module = {};","("+i.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([b])))}catch(_){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",_),null}h(a)}return a}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function T(a,t){return t?t(a):a}function q(a){return a!=null}function c(a,t,v){return T(a&&q(a[t])?a[t]:g[t],v)}function N(a){return a<0?0:Math.floor(a)}function Y(a,t){return Math.floor(Math.random()*(t-a))+a}function A(a){return parseInt(a,16)}function Ee(a){return a.map(Te)}function Te(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:A(t.substring(0,2)),g:A(t.substring(2,4)),b:A(t.substring(4,6))}}function we(a){var t=c(a,"origin",Object);return t.x=c(t,"x",Number),t.y=c(t,"y",Number),t}function Ie(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Ce(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function Pe(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function Oe(a,t,v,h,b,_,f,m,k){a.save(),a.translate(t,v),a.rotate(_),a.scale(h,b),a.arc(0,0,1,f,m,k),a.restore()}function xe(a){var t=a.angle*(Math.PI/180),v=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar}}function Le(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=t.wobbleSpeed,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var v=t.tick++/t.totalTicks,h=t.x+t.random*t.tiltCos,b=t.y+t.random*t.tiltSin,_=t.wobbleX+t.random*t.tiltCos,f=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-v)+")",a.beginPath(),t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(_-h)*t.ovalScalar,Math.abs(f-b)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):Oe(a,t.x,t.y,Math.abs(_-h)*t.ovalScalar,Math.abs(f-b)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var m=Math.PI/2*3,k=4*t.scalar,L=8*t.scalar,S=t.x,x=t.y,O=5,M=Math.PI/O;O--;)S=t.x+Math.cos(m)*L,x=t.y+Math.sin(m)*L,a.lineTo(S,x),m+=M,S=t.x+Math.cos(m)*k,x=t.y+Math.sin(m)*k,a.lineTo(S,x),m+=M;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(b)),a.lineTo(Math.floor(_),Math.floor(f)),a.lineTo(Math.floor(h),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function qe(a,t,v,h,b){var _=t.slice(),f=a.getContext("2d"),m,k,L=u(function(S){function x(){m=k=null,f.clearRect(0,0,h.width,h.height),b(),S()}function O(){n&&!(h.width===e.width&&h.height===e.height)&&(h.width=a.width=e.width,h.height=a.height=e.height),!h.width&&!h.height&&(v(a),h.width=a.width,h.height=a.height),f.clearRect(0,0,h.width,h.height),_=_.filter(function(M){return Le(f,M)}),_.length?m=y.frame(O):x()}m=y.frame(O),k=x});return{addFettis:function(S){return _=_.concat(S),L},canvas:a,promise:L,reset:function(){m&&y.cancel(m),k&&k()}}}function se(a,t){var v=!a,h=!!c(t||{},"resize"),b=c(t,"disableForReducedMotion",Boolean),_=r&&!!c(t||{},"useWorker"),f=_?d():null,m=v?Ie:Ce,k=a&&f?!!a.__confetti_initialized:!1,L=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,S;function x(M,U,X){for(var $=c(M,"particleCount",N),W=c(M,"angle",Number),j=c(M,"spread",Number),R=c(M,"startVelocity",Number),He=c(M,"decay",Number),Re=c(M,"gravity",Number),Fe=c(M,"drift",Number),ue=c(M,"colors",Ee),Ne=c(M,"ticks",Number),ce=c(M,"shapes"),Ae=c(M,"scalar"),de=we(M),he=$,Z=[],$e=a.width*de.x,Qe=a.height*de.y;he--;)Z.push(xe({x:$e,y:Qe,angle:W,spread:j,startVelocity:R,color:ue[he%ue.length],shape:ce[Y(0,ce.length)],ticks:Ne,decay:He,gravity:Re,drift:Fe,scalar:Ae}));return S?S.addFettis(Z):(S=qe(a,Z,m,U,X),S.promise)}function O(M){var U=b||c(M,"disableForReducedMotion",Boolean),X=c(M,"zIndex",Number);if(U&&L)return u(function(R){R()});v&&S?a=S.canvas:v&&!a&&(a=Pe(X),document.body.appendChild(a)),h&&!k&&m(a);var $={width:a.width,height:a.height};f&&!k&&f.init(a),k=!0,f&&(a.__confetti_initialized=!0);function W(){if(f){var R={getBoundingClientRect:function(){if(!v)return a.getBoundingClientRect()}};m(R),f.postMessage({resize:{width:R.width,height:R.height}});return}$.width=$.height=null}function j(){S=null,h&&l.removeEventListener("resize",W),v&&a&&(document.body.removeChild(a),a=null,k=!1)}return h&&l.addEventListener("resize",W,!1),f?f.fire(M,$,j):x(M,$,j)}return O.reset=function(){f&&f.reset(),S&&S.reset()},O}var z;function le(){return z||(z=se(null,{useWorker:!0,resize:!0})),z}o.exports=function(){return le().apply(this,arguments)},o.exports.reset=function(){le().reset()},o.exports.create=se})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),oe,!1);const ge=oe.exports;oe.exports.create;function it(){var i=3e3,l=Date.now()+i,o={startVelocity:30,spread:360,ticks:60,zIndex:0,disableForReducedMotion:!0};function n(r,s){return Math.random()*(s-r)+r}var e=setInterval(function(){var r=l-Date.now();if(r<=0)return clearInterval(e);var s=100*(r/i);ge(Object.assign({},o,{particleCount:s,origin:{x:n(.1,.3),y:Math.random()-.2}})),ge(Object.assign({},o,{particleCount:s,origin:{x:n(.7,.9),y:Math.random()-.2}}))},250)}const ot={__name:"TaskListItem",props:{task:{type:Object,required:!0}},emits:["ondragstart"],setup(i,{emit:l}){const o=i,n=Ke(),e=ie(),r=E(()=>o.task.target>1&&!o.task.done),s=E(()=>r.value?o.task.performance/o.task.target:0),u=E(()=>[o.task.performance,"of",o.task.target].join(" ")),y=E(()=>{const c=o.task.performance_history;return c&&c.length?"Changed "+F.formatDate(c[0].updated,"DD.MM.YYYY HH:mm"):null});function d(){n.push({name:"task",params:{id:o.task.id}})}function g(){const c={performance:o.task.performance-1,done:null};e.updateItem(o.task.id+"/",c).then(()=>e.refetch())}function T(){const c={performance:o.task.performance+1};c.performance>=o.task.target&&it(),e.updateItem(o.task.id+"/",c).then(()=>e.refetch())}function q(c){l("ondragstart",c,o.task)}return(c,N)=>(C(),P(ee,{clickable:"",active:!!i.task.done,"active-class":"text-positive"},{default:p(()=>[i.task.group_id?(C(),P(H,{key:0,thumbnail:""},{default:p(()=>[D(ae,{name:"event_repeat"})]),_:1})):(C(),P(H,{key:1,thumbnail:"",style:{cursor:"grab"},draggable:"true",onDragstart:q,"onTouchmove:native":N[0]||(N[0]=Y=>{})},{default:p(()=>[D(ae,{name:"drag_indicator"})]),_:1})),D(H,{onClick:d},{default:p(()=>[D(Q,null,{default:p(()=>[B(G(i.task.name),1)]),_:1}),w(r)?(C(),P(Q,{key:0,caption:""},{default:p(()=>[B(G(w(u)),1)]),_:1})):V("",!0),w(r)?(C(),P(Q,{key:1},{default:p(()=>[D(nt,{value:w(s),color:"positive"},null,8,["value"])]),_:1})):V("",!0),w(r)&&w(y)?(C(),P(Q,{key:2,caption:""},{default:p(()=>[B(G(w(y)),1)]),_:1})):V("",!0)]),_:1}),D(H,{avatar:""},{default:p(()=>[i.task.done?(C(),P(re,{key:0,flat:"",round:"",icon:"done",onClick:g})):(C(),P(re,{key:1,flat:"",round:"",icon:"plus_one",onClick:T}))]),_:1})]),_:1},8,["active"]))}};var ve;(function(i){var l=function(){function n(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(n.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),n.prototype.clearData=function(e){e!=null?delete this._data[e]:this._data=null},n.prototype.getData=function(e){return this._data[e]||""},n.prototype.setData=function(e,r){this._data[e]=r},n.prototype.setDragImage=function(e,r,s){var u=o._instance;u._imgCustom=e,u._imgOffset={x:r,y:s}},n}();i.DataTransfer=l;var o=function(){function n(){if(this._lastClick=0,n._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var r=document,s=this._touchstart.bind(this),u=this._touchmove.bind(this),y=this._touchend.bind(this),d=e?{passive:!1,capture:!1}:!1;r.addEventListener("touchstart",s,d),r.addEventListener("touchmove",u,d),r.addEventListener("touchend",y),r.addEventListener("touchcancel",y)}}return n.getInstance=function(){return n._instance},n.prototype._touchstart=function(e){var r=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<n._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target)){e.cancelable&&e.preventDefault(),this._reset();return}this._reset();var s=this._closestDraggable(e.target);s&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=s,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout(function(){r._dragSource==s&&r._img==null&&r._dispatchEvent(e,"contextmenu",s)&&r._reset()},n._CTXMENU),n._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){r._isDragEnabled=!0,r._touchmove(e)},n._PRESSHOLDAWAIT)))}},n.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e)){this._reset();return}if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var r=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",r)){this._lastTouch=e,e.cancelable&&e.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",r)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),r!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",r),this._lastTarget=r),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",r))}},n.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target)){e.cancelable&&e.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},n.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},n.prototype._shouldHandleMove=function(e){return!n._ISPRESSHOLDMODE&&this._shouldHandle(e)},n.prototype._shouldHandlePressHoldMove=function(e){return n._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},n.prototype._shouldCancelPressHoldMove=function(e){return n._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>n._PRESSHOLDMARGIN},n.prototype._shouldStartDragging=function(e){var r=this._getDelta(e);return r>n._THRESHOLD||n._ISPRESSHOLDMODE&&r>=n._PRESSHOLDTHRESHOLD},n.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new l,clearInterval(this._pressHoldInterval)},n.prototype._getPoint=function(e,r){return e&&e.touches&&(e=e.touches[0]),{x:r?e.pageX:e.clientX,y:r?e.pageY:e.clientY}},n.prototype._getDelta=function(e){if(n._ISPRESSHOLDMODE&&!this._ptDown)return 0;var r=this._getPoint(e);return Math.abs(r.x-this._ptDown.x)+Math.abs(r.y-this._ptDown.y)},n.prototype._getTarget=function(e){for(var r=this._getPoint(e),s=document.elementFromPoint(r.x,r.y);s&&getComputedStyle(s).pointerEvents=="none";)s=s.parentElement;return s},n.prototype._createImage=function(e){this._img&&this._destroyImage();var r=this._imgCustom||this._dragSource;if(this._img=r.cloneNode(!0),this._copyStyle(r,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var s=r.getBoundingClientRect(),u=this._getPoint(e);this._imgOffset={x:u.x-s.left,y:u.y-s.top},this._img.style.opacity=n._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},n.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},n.prototype._moveImage=function(e){var r=this;requestAnimationFrame(function(){if(r._img){var s=r._getPoint(e,!0),u=r._img.style;u.position="absolute",u.pointerEvents="none",u.zIndex="999999",u.left=Math.round(s.x-r._imgOffset.x)+"px",u.top=Math.round(s.y-r._imgOffset.y)+"px"}})},n.prototype._copyProps=function(e,r,s){for(var u=0;u<s.length;u++){var y=s[u];e[y]=r[y]}},n.prototype._copyStyle=function(e,r){if(n._rmvAtts.forEach(function(T){r.removeAttribute(T)}),e instanceof HTMLCanvasElement){var s=e,u=r;u.width=s.width,u.height=s.height,u.getContext("2d").drawImage(s,0,0)}for(var y=getComputedStyle(e),d=0;d<y.length;d++){var g=y[d];g.indexOf("transition")<0&&(r.style[g]=y[g])}r.style.pointerEvents="none";for(var d=0;d<e.children.length;d++)this._copyStyle(e.children[d],r.children[d])},n.prototype._dispatchEvent=function(e,r,s){if(e&&s){var u=document.createEvent("Event"),y=e.touches?e.touches[0]:e;return u.initEvent(r,!0,!0),u.button=0,u.which=u.buttons=1,this._copyProps(u,e,n._kbdProps),this._copyProps(u,y,n._ptProps),u.dataTransfer=this._dataTransfer,s.dispatchEvent(u),u.defaultPrevented}return!1},n.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},n}();o._instance=new o,o._THRESHOLD=5,o._OPACITY=.5,o._DBLCLICK=500,o._CTXMENU=900,o._ISPRESSHOLDMODE=!1,o._PRESSHOLDAWAIT=400,o._PRESSHOLDMARGIN=25,o._PRESSHOLDTHRESHOLD=0,o._rmvAtts="id,class,style,draggable".split(","),o._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),o._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),i.DragDropTouch=o})(ve||(ve={}));const st={__name:"WeekTimelineEntry",props:{tasks:{type:Array,required:!0},monday:{type:String,required:!0}},setup(i){const l=i,o=ie(),n=E(()=>l.tasks.length?[...l.tasks].sort((d,g)=>g.target-d.target):null),e=E(()=>{const d=F.subtractFromDate(l.monday,{days:1}),g=F.addToDate(l.monday,{days:6}),T=c=>F.formatDate(c,"MMMM"),q=T(l.monday);return q!==T(d)||q!==T(g)}),r=F.formatDate(l.monday,"w-Q-YYYY-MMM D").split("-"),s=["Week "+r[0],"Q"+r[1],r[2],r[3]].join(" Â· ");function u(d,g){const T={id:g.id,day:F.getDayOfWeek(g.planned),week:r[0]};d.dataTransfer.setData("text",JSON.stringify(T)),d.dataTransfer.dropEffect="move"}function y(d){const g=JSON.parse(d.dataTransfer.getData("text"));if(g.week===r[0])return;const T={planned:F.addToDate(l.monday,{days:g.day-1}).toISOString()};o.updateItem(g.id+"/",T).then(()=>o.refetch())}return(d,g)=>(C(),P(at,{color:i.monday===w(o).currentWeek?"orange":"primary",subtitle:w(s),icon:w(e)?"calendar_month":void 0,onDragover:g[0]||(g[0]=J(()=>{},["prevent"])),onDragenter:g[1]||(g[1]=J(()=>{},["prevent"])),onDrop:g[2]||(g[2]=J(T=>y(T),["prevent"]))},{default:p(()=>[w(n)?(C(),P(_e,{key:0},{default:p(()=>[(C(!0),Me(De,null,ke(w(n),T=>(C(),P(Ye,{key:T.id,style:{"min-height":"51.19px"}},{default:p(()=>[D(ot,{task:T,onOndragstart:u},null,8,["task"])]),_:2},1024))),128))]),_:1})):V("",!0)]),_:1},8,["color","subtitle","icon"]))}},mt={__name:"HomeView",setup(i){const l=ie();return(o,n)=>(C(),P(Ge,{class:"q-pa-md"},{default:p(()=>[D(Ve,null,{default:p(()=>[D(Be,null,{default:p(()=>[B("Plan")]),_:1}),D(Je,{modelValue:w(l).filter.goal,"onUpdate:modelValue":n[0]||(n[0]=e=>w(l).filter.goal=e),label:"For Goal",dense:"",borderless:"",class:"col-6 col-sm-3 col-lg-2"},null,8,["modelValue"]),D(re,{flat:"",round:"",icon:"filter_list"},{default:p(()=>[D(et,null,{default:p(()=>[D(_e,null,{default:p(()=>[D(ee,null,{default:p(()=>[D(H,null,{default:p(()=>[D(Q,null,{default:p(()=>[B("Hide passed done")]),_:1})]),_:1}),D(H,{side:""},{default:p(()=>[D(fe,{modelValue:w(l).filter.done,"onUpdate:modelValue":n[1]||(n[1]=e=>w(l).filter.done=e)},null,8,["modelValue"])]),_:1})]),_:1}),D(ee,null,{default:p(()=>[D(H,null,{default:p(()=>[D(Q,null,{default:p(()=>[B("Hide passed recurring")]),_:1})]),_:1}),D(H,{side:""},{default:p(()=>[D(fe,{modelValue:w(l).filter.recurring,"onUpdate:modelValue":n[2]||(n[2]=e=>w(l).filter.recurring=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),w(l).calendar?(C(),P(tt,{key:0,class:"q-px-sm"},{default:p(()=>[(C(!0),Me(De,null,ke(w(l).calendar,(e,r)=>(C(),P(st,{key:r,tasks:e,monday:r},null,8,["tasks","monday"]))),128))]),_:1})):V("",!0)]),_:1}))}};export{mt as default};
