import{r as i,a9 as v,a0 as d,a1 as a,aF as w,a2 as Q,a3 as k,a5 as u,a6 as e,b5 as x,a8 as y,aD as V,b0 as m,ac as c,aE as h,a7 as g,aH as B,aG as T,b9 as q}from"./index-b5c29f4c.js";import{a as C,Q as S,b as p}from"./api.client-fa8d94de.js";import{Q as A}from"./QForm-cfccdd56.js";const F={class:"fullscreen bg-blue flex flex-center"},L=T("img",{src:"icons/favicon.ico"},null,-1),I={__name:"LoginView",setup(N){const f=Q(),_=k(),s=i({username:"",password:""}),l=i(!1);function b(){!s.value.username||!s.value.password||(l.value=!0,p.create("/auth/",s.value).then(r=>{r&&r.token?(p.setAuthToken(r.token),f.push(_.query.next)):l.value=!1}))}function n(r){return!!r||"Field is required"}return(r,t)=>(u(),v("div",F,[l.value?(u(),d(q,{key:0,color:"primary",size:"3em"})):(u(),d(w,{key:1,style:{width:"20rem"}},{default:a(()=>[e(S,{class:"bg-primary text-white"},{default:a(()=>[e(x,{size:"xs",square:""},{default:a(()=>[L]),_:1}),e(C,null,{default:a(()=>[y("LifeTrackerBuddy")]),_:1})]),_:1}),e(A,{onSubmit:B(b,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(m,{modelValue:s.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.username=o),label:"Username",rules:[n]},{prepend:a(()=>[e(c,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),e(m,{modelValue:s.value.password,"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.password=o),type:"password",label:"Password",rules:[n]},{prepend:a(()=>[e(c,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),e(h,{class:"q-pa-md"},{default:a(()=>[e(g,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{I as default};
