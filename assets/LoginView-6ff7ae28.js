import{r as i,a6 as v,Z as d,_ as a,ap as w,$ as Q,a0 as k,a2 as u,a3 as e,b3 as x,a5 as y,an as V,a_ as m,a9 as p,ao as h,a4 as g,as as q,aq as B,b7 as T}from"./index-a7360345.js";import{a as C,Q as S,b as c}from"./api.client-030516a4.js";import{Q as A}from"./QForm-ac45a6c6.js";const L={class:"fullscreen bg-blue flex flex-center"},N=B("img",{src:"icons/favicon.ico"},null,-1),R={__name:"LoginView",setup(U){const f=Q(),_=k(),s=i({username:"",password:""}),l=i(!1);function b(){!s.value.username||!s.value.password||(l.value=!0,c.create("/auth/",s.value).then(r=>{r&&r.token?(c.setAuthToken(r.token),f.push(_.query.next)):l.value=!1}))}function n(r){return!!r||"Field is required"}return(r,t)=>(u(),v("div",L,[l.value?(u(),d(T,{key:0,color:"primary",size:"3em"})):(u(),d(w,{key:1,style:{width:"20rem"}},{default:a(()=>[e(S,{class:"bg-primary text-white"},{default:a(()=>[e(x,{size:"xs",square:""},{default:a(()=>[N]),_:1}),e(C,null,{default:a(()=>[y("LifeTrackerBuddy")]),_:1})]),_:1}),e(A,{onSubmit:q(b,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(m,{modelValue:s.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.username=o),label:"Username",rules:[n]},{prepend:a(()=>[e(p,{name:"person_outline"})]),_:1},8,["modelValue","rules"]),e(m,{modelValue:s.value.password,"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.password=o),type:"password",label:"Password",rules:[n]},{prepend:a(()=>[e(p,{name:"lock_outline"})]),_:1},8,["modelValue","rules"])]),_:1}),e(h,{class:"q-pa-md"},{default:a(()=>[e(g,{type:"submit",class:"bg-primary text-white full-width",label:"Login"})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))]))}};export{R as default};
