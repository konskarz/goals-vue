import{a as V,Q as k}from"./QToolbar-b6efa4ac.js";import{Q as v,_ as y}from"./WeekTimelineEntry-8e216ceb.js";import{Q as I}from"./GoalStore-4394c4d5.js";import{d as T}from"./date-4801d2d2.js";import{r as b,f as x,o as Y,w as F,a1 as n,a2 as l,aI as B,a7 as t,a8 as m,aa as C,aw as r,ab as p,ac as E,ad as d,ay as f}from"./index-716ec7b4.js";import{_ as G}from"./GoalSelect-1a128a0c.js";import"./QList-5e9d0b18.js";import"./TaskStore-1a639607.js";import"./QItem-1d0eef22.js";import"./QItemLabel-f44c2996.js";import"./NumberInput-79a79af8.js";import"./TimeStore-5e5e96f6.js";import"./DurationInput-a664ca10.js";import"./format-ff5bcb16.js";import"./QMenu-c1404380.js";const H={__name:"PlanView",setup(L){const s="Goal-Filter",_=T.formatDate(new Date,"YYYY-w"),e=b(null),g=x(()=>e.value?"/plan/?goal="+e.value:"/plan/"),{query:w}=B(),{data:u,refetch:Q}=w(g);return Y(()=>{const a=localStorage.getItem(s);a&&(e.value=parseInt(a))}),F(e,a=>{a?localStorage.setItem(s,a):localStorage.removeItem(s)}),(a,c)=>(t(),n(I,{padding:""},{default:l(()=>[m(k,null,{default:l(()=>[m(V,null,{default:l(()=>[C("Plan")]),_:1}),m(G,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=o=>e.value=o),label:"For Goal",dense:"",borderless:"",class:"col-6 col-sm-3 col-lg-2"},null,8,["modelValue"])]),_:1}),r(u)?(t(),n(v,{key:0,layout:"dense",class:"q-px-md"},{default:l(()=>[(t(!0),p(d,null,E(r(u),(o,i)=>(t(),p(d,{key:i},[o.day?(t(),n(y,{key:0,color:i===r(_)?"orange":"",week:o,onMutate:r(Q)},null,8,["color","week","onMutate"])):f("",!0)],64))),128))]),_:1})):f("",!0)]),_:1}))}};export{H as default};
